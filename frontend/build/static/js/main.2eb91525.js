/*! For license information please see main.2eb91525.js.LICENSE.txt */
(()=>{var t={730:(t,e,n)=>{"use strict";var i=n(43),s=n(853);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(o[t]=e,t=0;t<e.length;t++)a.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,i,s,r,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(t){return t[1].toUpperCase()}function y(t,e,n,i){var s=m.hasOwnProperty(e)?m[e]:null;(null!==s?0!==s.type:i||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,i){if(null===e||"undefined"===typeof e||function(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,s,i)&&(n=null),i||null===s?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=null===n?3!==s.type&&"":n:(e=s.attributeName,i=s.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,b);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),A=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function I(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=F&&t[F]||t["@@iterator"])?t:null}var D,O=Object.assign;function j(t){if(void 0===D)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);D=e&&e[1]||""}return"\n"+D+t}var W=!1;function B(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),r=i.stack.split("\n"),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==r[o]){var l="\n"+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=a&&0<=o);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?j(t):""}function z(t){switch(t.tag){case 5:return j(t.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 1:return t=B(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case _:return"Fragment";case A:return"Portal";case k:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case R:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case L:e=t._payload,t=t._init;try{return H(t(e))}catch(n){}}return null}function U(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function V(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function G(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(t){i=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function K(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Y(t,e){var n=e.checked;return O({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function Q(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=V(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&y(t,"checked",e,!1)}function J(t,e){$(t,e);var n=V(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,V(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+V(n),e=null,s=0;s<t.length;s++){if(t[s].value===n)return t[s].selected=!0,void(i&&(t[s].defaultSelected=!0));null!==e||t[s].disabled||(e=t[s])}null!==e&&(e.selected=!0)}}function it(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return O({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function st(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(r(92));if(et(n)){if(1<n.length)throw Error(r(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:V(n)}}function rt(t,e){var n=V(e.value),i=V(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function at(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function ot(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ot(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,i){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),s=gt(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var vt=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bt(t,e){if(e){if(vt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function yt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,_t=null,St=null;function kt(t){if(t=ys(t)){if("function"!==typeof At)throw Error(r(280));var e=t.stateNode;e&&(e=xs(e),At(t.stateNode,t.type,e))}}function Et(t){_t?St?St.push(t):St=[t]:_t=t}function Ct(){if(_t){var t=_t,e=St;if(St=_t=null,kt(t),e)for(t=0;t<e.length;t++)kt(e[t])}}function Mt(t,e){return t(e)}function Tt(){}var Rt=!1;function Pt(t,e,n){if(Rt)return t(e,n);Rt=!0;try{return Mt(t,e,n)}finally{Rt=!1,(null!==_t||null!==St)&&(Tt(),Ct())}}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var i=xs(n);if(null===i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(r(231,e,typeof n));return n}var Nt=!1;if(u)try{var Ft={};Object.defineProperty(Ft,"passive",{get:function(){Nt=!0}}),window.addEventListener("test",Ft,Ft),window.removeEventListener("test",Ft,Ft)}catch(ut){Nt=!1}function It(t,e,n,i,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Dt=!1,Ot=null,jt=!1,Wt=null,Bt={onError:function(t){Dt=!0,Ot=t}};function zt(t,e,n,i,s,r,a,o,l){Dt=!1,Ot=null,It.apply(Bt,arguments)}function Ht(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ut(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Vt(t){if(Ht(t)!==t)throw Error(r(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(r(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(i=s.return)){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Vt(s),t;if(a===i)return Vt(s),e;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=s,i=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=a;break}if(l===i){o=!0,i=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=s;break}if(l===i){o=!0,i=a,n=s;break}l=l.sibling}if(!o)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?t:e}(t))?Gt(t):null}function Gt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Gt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=s.unstable_scheduleCallback,Kt=s.unstable_cancelCallback,Yt=s.unstable_shouldYield,Qt=s.unstable_requestPaint,$t=s.unstable_now,Jt=s.unstable_getCurrentPriorityLevel,Zt=s.unstable_ImmediatePriority,te=s.unstable_UserBlockingPriority,ee=s.unstable_NormalPriority,ne=s.unstable_LowPriority,ie=s.unstable_IdlePriority,se=null,re=null;var ae=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(oe(t)/le|0)|0},oe=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?i=he(o):0!==(r&=a)&&(i=he(r))}else 0!==(a=n&~s)?i=he(a):0!==r&&(i=he(r));if(0===i)return 0;if(0!==e&&e!==i&&0===(e&s)&&((s=i&-i)>=(r=e&-e)||16===s&&0!==(4194240&r)))return e;if(0!==(4&i)&&(i|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=i;0<e;)s=1<<(n=31-ae(e)),i|=t[n],e&=~s;return i}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ve(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-ae(e)]=n}function be(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ae(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ye=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,Ae,_e,Se,ke,Ee=!1,Ce=[],Me=null,Te=null,Re=null,Pe=new Map,Le=new Map,Ne=[],Fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ie(t,e){switch(t){case"focusin":case"focusout":Me=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Re=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Le.delete(e.pointerId)}}function De(t,e,n,i,s,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},null!==e&&(null!==(e=ys(e))&&Ae(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,null!==s&&-1===e.indexOf(s)&&e.push(s),t)}function Oe(t){var e=bs(t.target);if(null!==e){var n=Ht(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ut(n)))return t.blockedOn=e,void ke(t.priority,(function(){_e(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function je(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ye(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ys(n))&&Ae(e),t.blockedOn=n,!1;var i=new(n=t.nativeEvent).constructor(n.type,n);wt=i,n.target.dispatchEvent(i),wt=null,e.shift()}return!0}function We(t,e,n){je(t)&&n.delete(e)}function Be(){Ee=!1,null!==Me&&je(Me)&&(Me=null),null!==Te&&je(Te)&&(Te=null),null!==Re&&je(Re)&&(Re=null),Pe.forEach(We),Le.forEach(We)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Ee||(Ee=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Be)))}function He(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var n=1;n<Ce.length;n++){var i=Ce[n];i.blockedOn===t&&(i.blockedOn=null)}}for(null!==Me&&ze(Me,t),null!==Te&&ze(Te,t),null!==Re&&ze(Re,t),Pe.forEach(e),Le.forEach(e),n=0;n<Ne.length;n++)(i=Ne[n]).blockedOn===t&&(i.blockedOn=null);for(;0<Ne.length&&null===(n=Ne[0]).blockedOn;)Oe(n),null===n.blockedOn&&Ne.shift()}var Ue=w.ReactCurrentBatchConfig,Ve=!0;function qe(t,e,n,i){var s=ye,r=Ue.transition;Ue.transition=null;try{ye=1,Xe(t,e,n,i)}finally{ye=s,Ue.transition=r}}function Ge(t,e,n,i){var s=ye,r=Ue.transition;Ue.transition=null;try{ye=4,Xe(t,e,n,i)}finally{ye=s,Ue.transition=r}}function Xe(t,e,n,i){if(Ve){var s=Ye(t,e,n,i);if(null===s)Vi(t,e,i,Ke,n),Ie(t,i);else if(function(t,e,n,i,s){switch(e){case"focusin":return Me=De(Me,t,e,n,i,s),!0;case"dragenter":return Te=De(Te,t,e,n,i,s),!0;case"mouseover":return Re=De(Re,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return Pe.set(r,De(Pe.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Le.set(r,De(Le.get(r)||null,t,e,n,i,s)),!0}return!1}(s,t,e,n,i))i.stopPropagation();else if(Ie(t,i),4&e&&-1<Fe.indexOf(t)){for(;null!==s;){var r=ys(s);if(null!==r&&xe(r),null===(r=Ye(t,e,n,i))&&Vi(t,e,i,Ke,n),r===s)break;s=r}null!==s&&i.stopPropagation()}else Vi(t,e,i,null,n)}}var Ke=null;function Ye(t,e,n,i){if(Ke=null,null!==(t=bs(t=xt(i))))if(null===(e=Ht(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ut(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ke=t,null}function Qe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case ie:return 536870912;default:return 16}default:return 16}}var $e=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,i=n.length,s="value"in $e?$e.value:$e.textContent,r=s.length;for(t=0;t<i&&n[t]===s[t];t++);var a=i-t;for(e=1;e<=a&&n[i-e]===s[r-e];e++);return Ze=s.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function sn(){return!1}function rn(t){function e(e,n,i,s,r){for(var a in this._reactName=e,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return O(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),hn=O({},cn,{view:0,detail:0}),dn=rn(hn),fn=O({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(an=t.screenX-ln.screenX,on=t.screenY-ln.screenY):on=an=0,ln=t),an)},movementY:function(t){return"movementY"in t?t.movementY:on}}),pn=rn(fn),gn=rn(O({},fn,{dataTransfer:0})),mn=rn(O({},hn,{relatedTarget:0})),vn=rn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=O({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yn=rn(bn),wn=rn(O({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=_n[t])&&!!e[t]}function kn(){return Sn}var En=O({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?An[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=rn(En),Mn=rn(O({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(O({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=rn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=O({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=rn(Pn),Nn=[9,13,27,32],Fn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,On=u&&(!Fn||In&&8<In&&11>=In),jn=String.fromCharCode(32),Wn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Hn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Un[t.type]:"textarea"===e}function qn(t,e,n,i){Et(i),0<(e=Gi(e,"onChange")).length&&(n=new un("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Gn=null,Xn=null;function Kn(t){ji(t,0)}function Yn(t){if(X(ws(t)))return t}function Qn(t,e){if("change"===t)return e}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var ti=document.createElement("div");ti.setAttribute("oninput","return;"),Zn="function"===typeof ti.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function ei(){Gn&&(Gn.detachEvent("onpropertychange",ni),Xn=Gn=null)}function ni(t){if("value"===t.propertyName&&Yn(Xn)){var e=[];qn(e,Xn,t,xt(t)),Pt(Kn,e)}}function ii(t,e,n){"focusin"===t?(ei(),Xn=n,(Gn=e).attachEvent("onpropertychange",ni)):"focusout"===t&&ei()}function si(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Yn(Xn)}function ri(t,e){if("click"===t)return Yn(e)}function ai(t,e){if("input"===t||"change"===t)return Yn(e)}var oi="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function li(t,e){if(oi(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!h.call(e,s)||!oi(t[s],e[s]))return!1}return!0}function ci(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ui(t,e){var n,i=ci(t);for(t=0;i;){if(3===i.nodeType){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ci(i)}}function hi(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hi(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function di(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(i){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function fi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pi(t){var e=di(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(e=i.start,void 0===(t=i.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=void 0===i.end?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=ui(n,r);var a=ui(n,i);s&&a&&(1!==t.rangeCount||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&((e=e.createRange()).setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gi=u&&"documentMode"in document&&11>=document.documentMode,mi=null,vi=null,bi=null,yi=!1;function wi(t,e,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==mi||mi!==K(i)||("selectionStart"in(i=mi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=Gi(vi,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=mi)))}function xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ai={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},_i={},Si={};function ki(t){if(_i[t])return _i[t];if(!Ai[t])return t;var e,n=Ai[t];for(e in n)if(n.hasOwnProperty(e)&&e in Si)return _i[t]=n[e];return t}u&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);var Ei=ki("animationend"),Ci=ki("animationiteration"),Mi=ki("animationstart"),Ti=ki("transitionend"),Ri=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){Ri.set(t,e),l(e,[t])}for(var Ni=0;Ni<Pi.length;Ni++){var Fi=Pi[Ni];Li(Fi.toLowerCase(),"on"+(Fi[0].toUpperCase()+Fi.slice(1)))}Li(Ei,"onAnimationEnd"),Li(Ci,"onAnimationIteration"),Li(Mi,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ti,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ii="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Di=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ii));function Oi(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,i,s,a,o,l,c){if(zt.apply(this,arguments),Dt){if(!Dt)throw Error(r(198));var u=Ot;Dt=!1,Ot=null,jt||(jt=!0,Wt=u)}}(i,e,void 0,t),t.currentTarget=null}function ji(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;t:{var r=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break t;Oi(s,o,c),r=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break t;Oi(s,o,c),r=l}}}if(jt)throw t=Wt,jt=!1,Wt=null,t}function Wi(t,e){var n=e[gs];void 0===n&&(n=e[gs]=new Set);var i=t+"__bubble";n.has(i)||(Ui(e,t,2,!1),n.add(i))}function Bi(t,e,n){var i=0;e&&(i|=4),Ui(n,t,i,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function Hi(t){if(!t[zi]){t[zi]=!0,a.forEach((function(e){"selectionchange"!==e&&(Di.has(e)||Bi(e,!1,t),Bi(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zi]||(e[zi]=!0,Bi("selectionchange",!1,e))}}function Ui(t,e,n,i){switch(Qe(e)){case 1:var s=qe;break;case 4:s=Ge;break;default:s=Xe}n=s.bind(null,e,n,t),s=void 0,!Nt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(s=!0),i?void 0!==s?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):void 0!==s?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vi(t,e,n,i,s){var r=i;if(0===(1&e)&&0===(2&e)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=bs(o)))return;if(5===(l=a.tag)||6===l){i=r=a;continue t}o=o.parentNode}}i=i.return}Pt((function(){var i=r,s=xt(n),a=[];t:{var o=Ri.get(t);if(void 0!==o){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ei:case Ci:case Mi:l=vn;break;case Ti:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=i;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Lt(p,d))&&u.push(qi(p,g,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(o="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!bs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?bs(c):null)&&(c!==(h=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=Mn,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:ws(l),f=null==c?o:ws(c),(o=new u(g,p+"leave",l,n,s)).target=h,o.relatedTarget=f,g=null,bs(s)===i&&((u=new u(d,p+"enter",c,n,s)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Xi(f))p++;for(f=0,g=d;g;g=Xi(g))f++;for(;0<p-f;)u=Xi(u),p--;for(;0<f-p;)d=Xi(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Xi(u),d=Xi(d)}u=null}else u=null;null!==l&&Ki(a,o,l,u,!1),null!==c&&null!==h&&Ki(a,h,c,u,!0)}if("select"===(l=(o=i?ws(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Qn;else if(Vn(o))if($n)m=ai;else{m=si;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ri);switch(m&&(m=m(t,i))?qn(a,m,n,s):(v&&v(t,o,i),"focusout"===t&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&tt(o,"number",o.value)),v=i?ws(i):window,t){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(mi=v,vi=i,bi=null);break;case"focusout":bi=vi=mi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,wi(a,n,s);break;case"selectionchange":if(gi)break;case"keydown":case"keyup":wi(a,n,s)}var b;if(Fn)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Hn?Bn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(On&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Hn&&(b=tn()):(Je="value"in($e=s)?$e.value:$e.textContent,Hn=!0)),0<(v=Gi(i,y)).length&&(y=new wn(y,t,null,n,s),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=zn(n))&&(y.data=b))),(b=Dn?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Wn=!0,jn);case"textInput":return(t=e.data)===jn&&Wn?null:t;default:return null}}(t,n):function(t,e){if(Hn)return"compositionend"===t||!Fn&&Bn(t,e)?(t=tn(),Ze=Je=$e=null,Hn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return On&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(i=Gi(i,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:i}),s.data=b))}ji(a,e)}))}function qi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gi(t,e){for(var n=e+"Capture",i=[];null!==t;){var s=t,r=s.stateNode;5===s.tag&&null!==r&&(s=r,null!=(r=Lt(t,n))&&i.unshift(qi(t,r,s)),null!=(r=Lt(t,e))&&i.push(qi(t,r,s))),t=t.return}return i}function Xi(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ki(t,e,n,i,s){for(var r=e._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Lt(n,r))&&a.unshift(qi(n,l,o)):s||null!=(l=Lt(n,r))&&a.push(qi(n,l,o))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function $i(t){return("string"===typeof t?t:""+t).replace(Yi,"\n").replace(Qi,"")}function Ji(t,e,n){if(e=$i(e),$i(t)!==e&&n)throw Error(r(425))}function Zi(){}var ts=null,es=null;function ns(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var is="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,rs="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rs?function(t){return rs.resolve(null).then(t).catch(os)}:is;function os(t){setTimeout((function(){throw t}))}function ls(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===i)return t.removeChild(s),void He(e);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=s}while(n);He(e)}function cs(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function us(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hs=Math.random().toString(36).slice(2),ds="__reactFiber$"+hs,fs="__reactProps$"+hs,ps="__reactContainer$"+hs,gs="__reactEvents$"+hs,ms="__reactListeners$"+hs,vs="__reactHandles$"+hs;function bs(t){var e=t[ds];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[ds]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=us(t);null!==t;){if(n=t[ds])return n;t=us(t)}return e}n=(t=n).parentNode}return null}function ys(t){return!(t=t[ds]||t[ps])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ws(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function xs(t){return t[fs]||null}var As=[],_s=-1;function Ss(t){return{current:t}}function ks(t){0>_s||(t.current=As[_s],As[_s]=null,_s--)}function Es(t,e){_s++,As[_s]=t.current,t.current=e}var Cs={},Ms=Ss(Cs),Ts=Ss(!1),Rs=Cs;function Ps(t,e){var n=t.type.contextTypes;if(!n)return Cs;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s,r={};for(s in n)r[s]=e[s];return i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ls(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ns(){ks(Ts),ks(Ms)}function Fs(t,e,n){if(Ms.current!==Cs)throw Error(r(168));Es(Ms,e),Es(Ts,n)}function Is(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var s in i=i.getChildContext())if(!(s in e))throw Error(r(108,U(t)||"Unknown",s));return O({},n,i)}function Ds(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cs,Rs=Ms.current,Es(Ms,t),Es(Ts,Ts.current),!0}function Os(t,e,n){var i=t.stateNode;if(!i)throw Error(r(169));n?(t=Is(t,e,Rs),i.__reactInternalMemoizedMergedChildContext=t,ks(Ts),ks(Ms),Es(Ms,t)):ks(Ts),Es(Ts,n)}var js=null,Ws=!1,Bs=!1;function zs(t){null===js?js=[t]:js.push(t)}function Hs(){if(!Bs&&null!==js){Bs=!0;var t=0,e=ye;try{var n=js;for(ye=1;t<n.length;t++){var i=n[t];do{i=i(!0)}while(null!==i)}js=null,Ws=!1}catch(s){throw null!==js&&(js=js.slice(t+1)),Xt(Zt,Hs),s}finally{ye=e,Bs=!1}}return null}var Us=[],Vs=0,qs=null,Gs=0,Xs=[],Ks=0,Ys=null,Qs=1,$s="";function Js(t,e){Us[Vs++]=Gs,Us[Vs++]=qs,qs=t,Gs=e}function Zs(t,e,n){Xs[Ks++]=Qs,Xs[Ks++]=$s,Xs[Ks++]=Ys,Ys=t;var i=Qs;t=$s;var s=32-ae(i)-1;i&=~(1<<s),n+=1;var r=32-ae(e)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Qs=1<<32-ae(e)+s|n<<s|i,$s=r+t}else Qs=1<<r|n<<s|i,$s=t}function tr(t){null!==t.return&&(Js(t,1),Zs(t,1,0))}function er(t){for(;t===qs;)qs=Us[--Vs],Us[Vs]=null,Gs=Us[--Vs],Us[Vs]=null;for(;t===Ys;)Ys=Xs[--Ks],Xs[Ks]=null,$s=Xs[--Ks],Xs[Ks]=null,Qs=Xs[--Ks],Xs[Ks]=null}var nr=null,ir=null,sr=!1,rr=null;function ar(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function or(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,nr=t,ir=cs(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,nr=t,ir=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Ys?{id:Qs,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,nr=t,ir=null,!0);default:return!1}}function lr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cr(t){if(sr){var e=ir;if(e){var n=e;if(!or(t,e)){if(lr(t))throw Error(r(418));e=cs(n.nextSibling);var i=nr;e&&or(t,e)?ar(i,n):(t.flags=-4097&t.flags|2,sr=!1,nr=t)}}else{if(lr(t))throw Error(r(418));t.flags=-4097&t.flags|2,sr=!1,nr=t}}}function ur(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;nr=t}function hr(t){if(t!==nr)return!1;if(!sr)return ur(t),sr=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ns(t.type,t.memoizedProps)),e&&(e=ir)){if(lr(t))throw dr(),Error(r(418));for(;e;)ar(t,e),e=cs(e.nextSibling)}if(ur(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){ir=cs(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}ir=null}}else ir=nr?cs(t.stateNode.nextSibling):null;return!0}function dr(){for(var t=ir;t;)t=cs(t.nextSibling)}function fr(){ir=nr=null,sr=!1}function pr(t){null===rr?rr=[t]:rr.push(t)}var gr=w.ReactCurrentBatchConfig;function mr(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,t));var s=i,a=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===a?e.ref:(e=function(t){var e=s.refs;null===t?delete e[a]:e[a]=t},e._stringRef=a,e)}if("string"!==typeof t)throw Error(r(284));if(!n._owner)throw Error(r(290,t))}return t}function vr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function br(t){return(0,t._init)(t._payload)}function yr(t){function e(e,n){if(t){var i=e.deletions;null===i?(e.deletions=[n],e.flags|=16):i.push(n)}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(t,e){return(t=Nc(t,e)).index=0,t.sibling=null,t}function a(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index)<n?(e.flags|=2,n):i:(e.flags|=2,n):(e.flags|=1048576,n)}function o(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,i){return null===e||6!==e.tag?((e=Oc(n,t.mode,i)).return=t,e):((e=s(e,n)).return=t,e)}function c(t,e,n,i){var r=n.type;return r===_?h(t,e,n.props.children,i,n.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===L&&br(r)===e.type)?((i=s(e,n.props)).ref=mr(t,e,n),i.return=t,i):((i=Fc(n.type,n.key,n.props,null,t.mode,i)).ref=mr(t,e,n),i.return=t,i)}function u(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=jc(n,t.mode,i)).return=t,e):((e=s(e,n.children||[])).return=t,e)}function h(t,e,n,i,r){return null===e||7!==e.tag?((e=Ic(n,t.mode,i,r)).return=t,e):((e=s(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=Oc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Fc(e.type,e.key,e.props,null,t.mode,n)).ref=mr(t,null,e),n.return=t,n;case A:return(e=jc(e,t.mode,n)).return=t,e;case L:return d(t,(0,e._init)(e._payload),n)}if(et(e)||I(e))return(e=Ic(e,t.mode,n,null)).return=t,e;vr(t,e)}return null}function f(t,e,n,i){var s=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===s?c(t,e,n,i):null;case A:return n.key===s?u(t,e,n,i):null;case L:return f(t,e,(s=n._init)(n._payload),i)}if(et(n)||I(n))return null!==s?null:h(t,e,n,i,null);vr(t,n)}return null}function p(t,e,n,i,s){if("string"===typeof i&&""!==i||"number"===typeof i)return l(e,t=t.get(n)||null,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(e,t=t.get(null===i.key?n:i.key)||null,i,s);case A:return u(e,t=t.get(null===i.key?n:i.key)||null,i,s);case L:return p(t,e,n,(0,i._init)(i._payload),s)}if(et(i)||I(i))return h(e,t=t.get(n)||null,i,s,null);vr(e,i)}return null}function g(s,r,o,l){for(var c=null,u=null,h=r,g=r=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=f(s,h,o[g],l);if(null===v){null===h&&(h=m);break}t&&h&&null===v.alternate&&e(s,h),r=a(v,r,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return n(s,h),sr&&Js(s,g),c;if(null===h){for(;g<o.length;g++)null!==(h=d(s,o[g],l))&&(r=a(h,r,g),null===u?c=h:u.sibling=h,u=h);return sr&&Js(s,g),c}for(h=i(s,h);g<o.length;g++)null!==(m=p(h,s,g,o[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),r=a(m,r,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(s,t)})),sr&&Js(s,g),c}function m(s,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(r(150));if(null==(l=u.call(l)))throw Error(r(151));for(var h=u=null,g=o,m=o=0,v=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var y=f(s,g,b.value,c);if(null===y){null===g&&(g=v);break}t&&g&&null===y.alternate&&e(s,g),o=a(y,o,m),null===h?u=y:h.sibling=y,h=y,g=v}if(b.done)return n(s,g),sr&&Js(s,m),u;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=d(s,b.value,c))&&(o=a(b,o,m),null===h?u=b:h.sibling=b,h=b);return sr&&Js(s,m),u}for(g=i(s,g);!b.done;m++,b=l.next())null!==(b=p(g,s,m,b.value,c))&&(t&&null!==b.alternate&&g.delete(null===b.key?m:b.key),o=a(b,o,m),null===h?u=b:h.sibling=b,h=b);return t&&g.forEach((function(t){return e(s,t)})),sr&&Js(s,m),u}return function t(i,r,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:t:{for(var c=a.key,u=r;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(i,u.sibling),(r=s(u,a.props.children)).return=i,i=r;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&br(c)===u.type){n(i,u.sibling),(r=s(u,a.props)).ref=mr(i,u,a),r.return=i,i=r;break t}n(i,u);break}e(i,u),u=u.sibling}a.type===_?((r=Ic(a.props.children,i.mode,l,a.key)).return=i,i=r):((l=Fc(a.type,a.key,a.props,null,i.mode,l)).ref=mr(i,r,a),l.return=i,i=l)}return o(i);case A:t:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(i,r.sibling),(r=s(r,a.children||[])).return=i,i=r;break t}n(i,r);break}e(i,r),r=r.sibling}(r=jc(a,i.mode,l)).return=i,i=r}return o(i);case L:return t(i,r,(u=a._init)(a._payload),l)}if(et(a))return g(i,r,a,l);if(I(a))return m(i,r,a,l);vr(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(n(i,r.sibling),(r=s(r,a)).return=i,i=r):(n(i,r),(r=Oc(a,i.mode,l)).return=i,i=r),o(i)):n(i,r)}}var wr=yr(!0),xr=yr(!1),Ar=Ss(null),_r=null,Sr=null,kr=null;function Er(){kr=Sr=_r=null}function Cr(t){var e=Ar.current;ks(Ar),t._currentValue=e}function Mr(t,e,n){for(;null!==t;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==i&&(i.childLanes|=e)):null!==i&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Tr(t,e){_r=t,kr=Sr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(yo=!0),t.firstContext=null)}function Rr(t){var e=t._currentValue;if(kr!==t)if(t={context:t,memoizedValue:e,next:null},null===Sr){if(null===_r)throw Error(r(308));Sr=t,_r.dependencies={lanes:0,firstContext:t}}else Sr=Sr.next=t;return e}var Pr=null;function Lr(t){null===Pr?Pr=[t]:Pr.push(t)}function Nr(t,e,n,i){var s=e.interleaved;return null===s?(n.next=n,Lr(e)):(n.next=s.next,s.next=n),e.interleaved=n,Fr(t,i)}function Fr(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Ir=!1;function Dr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Or(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wr(t,e,n){var i=t.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Ml)){var s=i.pending;return null===s?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Fr(t,n)}return null===(s=i.interleaved)?(e.next=e,Lr(i)):(e.next=s.next,s.next=e),i.interleaved=e,Fr(t,n)}function Br(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}function zr(t,e){var n=t.updateQueue,i=t.alternate;if(null!==i&&n===(i=i.updateQueue)){var s=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?s=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?s=r=e:r=r.next=e}else s=r=e;return n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hr(t,e,n,i){var s=t.updateQueue;Ir=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var u=t.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==r){var h=s.baseState;for(a=0,u=c=l=null,o=r;;){var d=o.lane,f=o.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var p=t,g=o;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=O({},h,d);break t;case 2:Ir=!0}}null!==o.callback&&0!==o.lane&&(t.flags|=64,null===(d=s.effects)?s.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(d=o).next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}if(null===u&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(e=s.shared.interleaved)){s=e;do{a|=s.lane,s=s.next}while(s!==e)}else null===r&&(s.shared.lanes=0);Dl|=a,t.lanes=a,t.memoizedState=h}}function Ur(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(null!==s){if(i.callback=null,i=n,"function"!==typeof s)throw Error(r(191,s));s.call(i)}}}var Vr={},qr=Ss(Vr),Gr=Ss(Vr),Xr=Ss(Vr);function Kr(t){if(t===Vr)throw Error(r(174));return t}function Yr(t,e){switch(Es(Xr,e),Es(Gr,t),Es(qr,Vr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}ks(qr),Es(qr,e)}function Qr(){ks(qr),ks(Gr),ks(Xr)}function $r(t){Kr(Xr.current);var e=Kr(qr.current),n=lt(e,t.type);e!==n&&(Es(Gr,t),Es(qr,n))}function Jr(t){Gr.current===t&&(ks(qr),ks(Gr))}var Zr=Ss(0);function ta(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ea=[];function na(){for(var t=0;t<ea.length;t++)ea[t]._workInProgressVersionPrimary=null;ea.length=0}var ia=w.ReactCurrentDispatcher,sa=w.ReactCurrentBatchConfig,ra=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function fa(){throw Error(r(321))}function pa(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!oi(t[n],e[n]))return!1;return!0}function ga(t,e,n,i,s,a){if(ra=a,aa=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ia.current=null===t||null===t.memoizedState?Ja:Za,t=n(i,s),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(r(301));a+=1,la=oa=null,e.updateQueue=null,ia.current=to,t=n(i,s)}while(ua)}if(ia.current=$a,e=null!==oa&&null!==oa.next,ra=0,la=oa=aa=null,ca=!1,e)throw Error(r(300));return t}function ma(){var t=0!==ha;return ha=0,t}function va(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=t:la=la.next=t,la}function ba(){if(null===oa){var t=aa.alternate;t=null!==t?t.memoizedState:null}else t=oa.next;var e=null===la?aa.memoizedState:la.next;if(null!==e)la=e,oa=t;else{if(null===t)throw Error(r(310));t={memoizedState:(oa=t).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=t:la=la.next=t}return la}function ya(t,e){return"function"===typeof e?e(t):e}function wa(t){var e=ba(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=oa,s=i.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}i.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,i=i.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((ra&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=i):c=c.next=d,aa.lanes|=h,Dl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,oi(i,e.memoizedState)||(yo=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}if(null!==(t=n.interleaved)){s=t;do{a=s.lane,aa.lanes|=a,Dl|=a,s=s.next}while(s!==t)}else null===s&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xa(t){var e=ba(),n=e.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=t(a,o.action),o=o.next}while(o!==s);oi(a,e.memoizedState)||(yo=!0),e.memoizedState=a,null===e.baseQueue&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Aa(){}function _a(t,e){var n=aa,i=ba(),s=e(),a=!oi(i.memoizedState,s);if(a&&(i.memoizedState=s,yo=!0),i=i.queue,Ia(Ea.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ra(9,ka.bind(null,n,i,s,e),void 0,null),null===Tl)throw Error(r(349));0!==(30&ra)||Sa(n,e,s)}return s}function Sa(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=aa.updateQueue)?(e={lastEffect:null,stores:null},aa.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function ka(t,e,n,i){e.value=n,e.getSnapshot=i,Ca(e)&&Ma(t)}function Ea(t,e,n){return n((function(){Ca(e)&&Ma(t)}))}function Ca(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oi(t,n)}catch(i){return!0}}function Ma(t){var e=Fr(t,1);null!==e&&nc(e,t,1,-1)}function Ta(t){var e=va();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=Xa.bind(null,aa,t),[e.memoizedState,t]}function Ra(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},null===(e=aa.updateQueue)?(e={lastEffect:null,stores:null},aa.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function Pa(){return ba().memoizedState}function La(t,e,n,i){var s=va();aa.flags|=t,s.memoizedState=Ra(1|e,n,void 0,void 0===i?null:i)}function Na(t,e,n,i){var s=ba();i=void 0===i?null:i;var r=void 0;if(null!==oa){var a=oa.memoizedState;if(r=a.destroy,null!==i&&pa(i,a.deps))return void(s.memoizedState=Ra(e,n,r,i))}aa.flags|=t,s.memoizedState=Ra(1|e,n,r,i)}function Fa(t,e){return La(8390656,8,t,e)}function Ia(t,e){return Na(2048,8,t,e)}function Da(t,e){return Na(4,2,t,e)}function Oa(t,e){return Na(4,4,t,e)}function ja(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Wa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Na(4,4,ja.bind(null,e,t),n)}function Ba(){}function za(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&pa(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Ha(t,e){var n=ba();e=void 0===e?null:e;var i=n.memoizedState;return null!==i&&null!==e&&pa(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Ua(t,e,n){return 0===(21&ra)?(t.baseState&&(t.baseState=!1,yo=!0),t.memoizedState=n):(oi(n,e)||(n=ge(),aa.lanes|=n,Dl|=n,t.baseState=!0),e)}function Va(t,e){var n=ye;ye=0!==n&&4>n?n:4,t(!0);var i=sa.transition;sa.transition={};try{t(!1),e()}finally{ye=n,sa.transition=i}}function qa(){return ba().memoizedState}function Ga(t,e,n){var i=ec(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ka(t))Ya(e,n);else if(null!==(n=Nr(t,e,n,i))){nc(n,t,i,tc()),Qa(n,e,i)}}function Xa(t,e,n){var i=ec(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ka(t))Ya(e,s);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var a=e.lastRenderedState,o=r(a,n);if(s.hasEagerState=!0,s.eagerState=o,oi(o,a)){var l=e.interleaved;return null===l?(s.next=s,Lr(e)):(s.next=l.next,l.next=s),void(e.interleaved=s)}}catch(c){}null!==(n=Nr(t,e,s,i))&&(nc(n,t,i,s=tc()),Qa(n,e,i))}}function Ka(t){var e=t.alternate;return t===aa||null!==e&&e===aa}function Ya(t,e){ua=ca=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qa(t,e,n){if(0!==(4194240&n)){var i=e.lanes;n|=i&=t.pendingLanes,e.lanes=n,be(t,n)}}var $a={readContext:Rr,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:Rr,useCallback:function(t,e){return va().memoizedState=[t,void 0===e?null:e],t},useContext:Rr,useEffect:Fa,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,La(4194308,4,ja.bind(null,e,t),n)},useLayoutEffect:function(t,e){return La(4194308,4,t,e)},useInsertionEffect:function(t,e){return La(4,2,t,e)},useMemo:function(t,e){var n=va();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=va();return e=void 0!==n?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ga.bind(null,aa,t),[i.memoizedState,t]},useRef:function(t){return t={current:t},va().memoizedState=t},useState:Ta,useDebugValue:Ba,useDeferredValue:function(t){return va().memoizedState=t},useTransition:function(){var t=Ta(!1),e=t[0];return t=Va.bind(null,t[1]),va().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=aa,s=va();if(sr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=e(),null===Tl)throw Error(r(349));0!==(30&ra)||Sa(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,Fa(Ea.bind(null,i,a,t),[t]),i.flags|=2048,Ra(9,ka.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=va(),e=Tl.identifierPrefix;if(sr){var n=$s;e=":"+e+"R"+(n=(Qs&~(1<<32-ae(Qs)-1)).toString(32)+n),0<(n=ha++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=da++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Za={readContext:Rr,useCallback:za,useContext:Rr,useEffect:Ia,useImperativeHandle:Wa,useInsertionEffect:Da,useLayoutEffect:Oa,useMemo:Ha,useReducer:wa,useRef:Pa,useState:function(){return wa(ya)},useDebugValue:Ba,useDeferredValue:function(t){return Ua(ba(),oa.memoizedState,t)},useTransition:function(){return[wa(ya)[0],ba().memoizedState]},useMutableSource:Aa,useSyncExternalStore:_a,useId:qa,unstable_isNewReconciler:!1},to={readContext:Rr,useCallback:za,useContext:Rr,useEffect:Ia,useImperativeHandle:Wa,useInsertionEffect:Da,useLayoutEffect:Oa,useMemo:Ha,useReducer:xa,useRef:Pa,useState:function(){return xa(ya)},useDebugValue:Ba,useDeferredValue:function(t){var e=ba();return null===oa?e.memoizedState=t:Ua(e,oa.memoizedState,t)},useTransition:function(){return[xa(ya)[0],ba().memoizedState]},useMutableSource:Aa,useSyncExternalStore:_a,useId:qa,unstable_isNewReconciler:!1};function eo(t,e){if(t&&t.defaultProps){for(var n in e=O({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function no(t,e,n,i){n=null===(n=n(i,e=t.memoizedState))||void 0===n?e:O({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var io={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=tc(),s=ec(t),r=jr(i,s);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Wr(t,r,s))&&(nc(e,t,s,i),Br(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=tc(),s=ec(t),r=jr(i,s);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),null!==(e=Wr(t,r,s))&&(nc(e,t,s,i),Br(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),i=ec(t),s=jr(n,i);s.tag=2,void 0!==e&&null!==e&&(s.callback=e),null!==(e=Wr(t,s,i))&&(nc(e,t,i,n),Br(e,t,i))}};function so(t,e,n,i,s,r,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(i,r,a):!e.prototype||!e.prototype.isPureReactComponent||(!li(n,i)||!li(s,r))}function ro(t,e,n){var i=!1,s=Cs,r=e.contextType;return"object"===typeof r&&null!==r?r=Rr(r):(s=Ls(e)?Rs:Ms.current,r=(i=null!==(i=e.contextTypes)&&void 0!==i)?Ps(t,s):Cs),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=io,t.stateNode=e,e._reactInternals=t,i&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function ao(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&io.enqueueReplaceState(e,e.state,null)}function oo(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Dr(t);var r=e.contextType;"object"===typeof r&&null!==r?s.context=Rr(r):(r=Ls(e)?Rs:Ms.current,s.context=Ps(t,r)),s.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(no(t,e,r,n),s.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(e=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),e!==s.state&&io.enqueueReplaceState(s,s.state,null),Hr(t,n,s,i),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308)}function lo(t,e){try{var n="",i=e;do{n+=z(i),i=i.return}while(i);var s=n}catch(r){s="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:s,digest:null}}function co(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function uo(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(t,e,n){(n=jr(-1,n)).tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Vl||(Vl=!0,ql=i),uo(0,e)},n}function po(t,e,n){(n=jr(-1,n)).tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){uo(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){uo(0,e),"function"!==typeof i&&(null===Gl?Gl=new Set([this]):Gl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function go(t,e,n){var i=t.pingCache;if(null===i){i=t.pingCache=new ho;var s=new Set;i.set(e,s)}else void 0===(s=i.get(e))&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=kc.bind(null,t,e,n),e.then(t,t))}function mo(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function vo(t,e,n,i,s){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=jr(-1,1)).tag=2,Wr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=s,t)}var bo=w.ReactCurrentOwner,yo=!1;function wo(t,e,n,i){e.child=null===t?xr(e,null,n,i):wr(e,t.child,n,i)}function xo(t,e,n,i,s){n=n.render;var r=e.ref;return Tr(e,s),i=ga(t,e,n,i,r,s),n=ma(),null===t||yo?(sr&&n&&tr(e),e.flags|=1,wo(t,e,i,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vo(t,e,s))}function Ao(t,e,n,i,s){if(null===t){var r=n.type;return"function"!==typeof r||Lc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Fc(n.type,null,i,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,_o(t,e,r,i,s))}if(r=t.child,0===(t.lanes&s)){var a=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&t.ref===e.ref)return Vo(t,e,s)}return e.flags|=1,(t=Nc(r,i)).ref=e.ref,t.return=e,e.child=t}function _o(t,e,n,i,s){if(null!==t){var r=t.memoizedProps;if(li(r,i)&&t.ref===e.ref){if(yo=!1,e.pendingProps=i=r,0===(t.lanes&s))return e.lanes=t.lanes,Vo(t,e,s);0!==(131072&t.flags)&&(yo=!0)}}return Eo(t,e,n,i,s)}function So(t,e,n){var i=e.pendingProps,s=i.children,r=null!==t?t.memoizedState:null;if("hidden"===i.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Nl,Ll),Ll|=n;else{if(0===(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Es(Nl,Ll),Ll|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Es(Nl,Ll),Ll|=i}else null!==r?(i=r.baseLanes|n,e.memoizedState=null):i=n,Es(Nl,Ll),Ll|=i;return wo(t,e,s,n),e.child}function ko(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Eo(t,e,n,i,s){var r=Ls(n)?Rs:Ms.current;return r=Ps(e,r),Tr(e,s),n=ga(t,e,n,i,r,s),i=ma(),null===t||yo?(sr&&i&&tr(e),e.flags|=1,wo(t,e,n,s),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vo(t,e,s))}function Co(t,e,n,i,s){if(Ls(n)){var r=!0;Ds(e)}else r=!1;if(Tr(e,s),null===e.stateNode)Uo(t,e),ro(e,n,i),oo(e,n,i,s),i=!0;else if(null===t){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rr(c):c=Ps(e,c=Ls(n)?Rs:Ms.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&ao(e,a,i,c),Ir=!1;var d=e.memoizedState;a.state=d,Hr(e,i,a,s),l=e.memoizedState,o!==i||d!==l||Ts.current||Ir?("function"===typeof u&&(no(e,n,u,i),l=e.memoizedState),(o=Ir||so(e,n,o,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4194308)):("function"===typeof a.componentDidMount&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Or(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:eo(e.type,o),a.props=c,h=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rr(l):l=Ps(e,l=Ls(n)?Rs:Ms.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&ao(e,a,i,l),Ir=!1,d=e.memoizedState,a.state=d,Hr(e,i,a,s);var p=e.memoizedState;o!==h||d!==p||Ts.current||Ir?("function"===typeof f&&(no(e,n,f,i),p=e.memoizedState),(c=Ir||so(e,n,c,i,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),a.props=i,a.state=p,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return Mo(t,e,n,i,r,s)}function Mo(t,e,n,i,s,r){ko(t,e);var a=0!==(128&e.flags);if(!i&&!a)return s&&Os(e,n,!1),Vo(t,e,r);i=e.stateNode,bo.current=e;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.flags|=1,null!==t&&a?(e.child=wr(e,t.child,null,r),e.child=wr(e,null,o,r)):wo(t,e,o,r),e.memoizedState=i.state,s&&Os(e,n,!0),e.child}function To(t){var e=t.stateNode;e.pendingContext?Fs(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Fs(0,e.context,!1),Yr(t,e.containerInfo)}function Ro(t,e,n,i,s){return fr(),pr(s),e.flags|=256,wo(t,e,n,i),e.child}var Po,Lo,No,Fo,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oo(t,e,n){var i,s=e.pendingProps,a=Zr.current,o=!1,l=0!==(128&e.flags);if((i=l)||(i=(null===t||null!==t.memoizedState)&&0!==(2&a)),i?(o=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(a|=1),Es(Zr,1&a),null===t)return cr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=s.children,t=s.fallback,o?(s=e.mode,o=e.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,s,0,null),t=Ic(t,s,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Do(n),e.memoizedState=Io,t):jo(e,l));if(null!==(a=t.memoizedState)&&null!==(i=a.dehydrated))return function(t,e,n,i,s,a,o){if(n)return 256&e.flags?(e.flags&=-257,Wo(t,e,o,i=co(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=Dc({mode:"visible",children:i.children},s,0,null),(a=Ic(a,s,o,null)).flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,0!==(1&e.mode)&&wr(e,t.child,null,o),e.child.memoizedState=Do(o),e.memoizedState=Io,a);if(0===(1&e.mode))return Wo(t,e,o,null);if("$!"===s.data){if(i=s.nextSibling&&s.nextSibling.dataset)var l=i.dgst;return i=l,Wo(t,e,o,i=co(a=Error(r(419)),i,void 0))}if(l=0!==(o&t.childLanes),yo||l){if(null!==(i=Tl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(i.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Fr(t,s),nc(i,t,s,-1))}return gc(),Wo(t,e,o,i=co(Error(r(421))))}return"$?"===s.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ir=cs(s.nextSibling),nr=e,sr=!0,rr=null,null!==t&&(Xs[Ks++]=Qs,Xs[Ks++]=$s,Xs[Ks++]=Ys,Qs=t.id,$s=t.overflow,Ys=e),e=jo(e,i.children),e.flags|=4096,e)}(t,e,l,s,i,a,n);if(o){o=s.fallback,l=e.mode,i=(a=t.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&e.child!==a?((s=e.child).childLanes=0,s.pendingProps=c,e.deletions=null):(s=Nc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Nc(i,o):(o=Ic(o,l,n,null)).flags|=2,o.return=e,s.return=e,s.sibling=o,e.child=s,s=o,o=e.child,l=null===(l=t.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=Io,s}return t=(o=t.child).sibling,s=Nc(o,{mode:"visible",children:s.children}),0===(1&e.mode)&&(s.lanes=n),s.return=e,s.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function jo(t,e){return(e=Dc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Wo(t,e,n,i){return null!==i&&pr(i),wr(e,t.child,null,n),(t=jo(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Bo(t,e,n){t.lanes|=e;var i=t.alternate;null!==i&&(i.lanes|=e),Mr(t.return,e,n)}function zo(t,e,n,i,s){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Ho(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(wo(t,e,i.children,n),0!==(2&(i=Zr.current)))i=1&i|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Bo(t,n,e);else if(19===t.tag)Bo(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Es(Zr,i),0===(1&e.mode))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;null!==n;)null!==(t=n.alternate)&&null===ta(t)&&(s=n),n=n.sibling;null===(n=s)?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),zo(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;null!==s;){if(null!==(t=s.alternate)&&null===ta(t)){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}zo(e,!0,n,null,r);break;case"together":zo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uo(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vo(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Dl|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(n=Nc(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Nc(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function qo(t,e){if(!sr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?e||null===t.tail?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Go(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=14680064&s.subtreeFlags,i|=14680064&s.flags,s.return=t,s=s.sibling;else for(s=t.child;null!==s;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xo(t,e,n){var i=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(e),null;case 1:case 17:return Ls(e.type)&&Ns(),Go(e),null;case 3:return i=e.stateNode,Qr(),ks(Ts),ks(Ms),na(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==t&&null!==t.child||(hr(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==rr&&(ac(rr),rr=null))),Lo(t,e),Go(e),null;case 5:Jr(e);var s=Kr(Xr.current);if(n=e.type,null!==t&&null!=e.stateNode)No(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(null===e.stateNode)throw Error(r(166));return Go(e),null}if(t=Kr(qr.current),hr(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[ds]=e,i[fs]=a,t=0!==(1&e.mode),n){case"dialog":Wi("cancel",i),Wi("close",i);break;case"iframe":case"object":case"embed":Wi("load",i);break;case"video":case"audio":for(s=0;s<Ii.length;s++)Wi(Ii[s],i);break;case"source":Wi("error",i);break;case"img":case"image":case"link":Wi("error",i),Wi("load",i);break;case"details":Wi("toggle",i);break;case"input":Q(i,a),Wi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Wi("invalid",i);break;case"textarea":st(i,a),Wi("invalid",i)}for(var l in bt(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,t),s=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,t),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Wi("scroll",i)}switch(n){case"input":G(i),Z(i,a,!0);break;case"textarea":G(i),at(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Zi)}i=s,e.updateQueue=i,null!==i&&(e.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=ot(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof i.is?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),"select"===n&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[ds]=e,t[fs]=i,Po(t,e,!1,!1),e.stateNode=t;t:{switch(l=yt(n,i),n){case"dialog":Wi("cancel",t),Wi("close",t),s=i;break;case"iframe":case"object":case"embed":Wi("load",t),s=i;break;case"video":case"audio":for(s=0;s<Ii.length;s++)Wi(Ii[s],t);s=i;break;case"source":Wi("error",t),s=i;break;case"img":case"image":case"link":Wi("error",t),Wi("load",t),s=i;break;case"details":Wi("toggle",t),s=i;break;case"input":Q(t,i),s=Y(t,i),Wi("invalid",t);break;case"option":default:s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=O({},i,{value:void 0}),Wi("invalid",t);break;case"textarea":st(t,i),s=it(t,i),Wi("invalid",t)}for(a in bt(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?mt(t,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Wi("scroll",t):null!=u&&y(t,a,u,l))}switch(n){case"input":G(t),Z(t,i,!1);break;case"textarea":G(t),at(t);break;case"option":null!=i.value&&t.setAttribute("value",""+V(i.value));break;case"select":t.multiple=!!i.multiple,null!=(a=i.value)?nt(t,!!i.multiple,a,!1):null!=i.defaultValue&&nt(t,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof s.onClick&&(t.onclick=Zi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break t;case"img":i=!0;break t;default:i=!1}}i&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Go(e),null;case 6:if(t&&null!=e.stateNode)Fo(t,e,t.memoizedProps,i);else{if("string"!==typeof i&&null===e.stateNode)throw Error(r(166));if(n=Kr(Xr.current),Kr(qr.current),hr(e)){if(i=e.stateNode,n=e.memoizedProps,i[ds]=e,(a=i.nodeValue!==n)&&null!==(t=nr))switch(t.tag){case 3:Ji(i.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&t.mode))}a&&(e.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ds]=e,e.stateNode=i}return Go(e),null;case 13:if(ks(Zr),i=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(sr&&null!==ir&&0!==(1&e.mode)&&0===(128&e.flags))dr(),fr(),e.flags|=98560,a=!1;else if(a=hr(e),null!==i&&null!==i.dehydrated){if(null===t){if(!a)throw Error(r(318));if(!(a=null!==(a=e.memoizedState)?a.dehydrated:null))throw Error(r(317));a[ds]=e}else fr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Go(e),a=!1}else null!==rr&&(ac(rr),rr=null),a=!0;if(!a)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((i=null!==i)!==(null!==t&&null!==t.memoizedState)&&i&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Zr.current)?0===Fl&&(Fl=3):gc())),null!==e.updateQueue&&(e.flags|=4),Go(e),null);case 4:return Qr(),Lo(t,e),null===t&&Hi(e.stateNode.containerInfo),Go(e),null;case 10:return Cr(e.type._context),Go(e),null;case 19:if(ks(Zr),null===(a=e.memoizedState))return Go(e),null;if(i=0!==(128&e.flags),null===(l=a.rendering))if(i)qo(a,!1);else{if(0!==Fl||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=ta(t))){for(e.flags|=128,qo(a,!1),null!==(i=l.updateQueue)&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;null!==n;)t=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Es(Zr,1&Zr.current|2),e.child}t=t.sibling}null!==a.tail&&$t()>Hl&&(e.flags|=128,i=!0,qo(a,!1),e.lanes=4194304)}else{if(!i)if(null!==(t=ta(l))){if(e.flags|=128,i=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),qo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!sr)return Go(e),null}else 2*$t()-a.renderingStartTime>Hl&&1073741824!==n&&(e.flags|=128,i=!0,qo(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=a.last)?n.sibling=l:e.child=l,a.last=l)}return null!==a.tail?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=$t(),e.sibling=null,n=Zr.current,Es(Zr,i?1&n|2:1&n),e):(Go(e),null);case 22:case 23:return hc(),i=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==i&&(e.flags|=8192),i&&0!==(1&e.mode)?0!==(1073741824&Ll)&&(Go(e),6&e.subtreeFlags&&(e.flags|=8192)):Go(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function Ko(t,e){switch(er(e),e.tag){case 1:return Ls(e.type)&&Ns(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Qr(),ks(Ts),ks(Ms),na(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Jr(e),null;case 13:if(ks(Zr),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));fr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return ks(Zr),null;case 4:return Qr(),null;case 10:return Cr(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},No=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Kr(qr.current);var r,a=null;switch(n){case"input":s=Y(t,s),i=Y(t,i),a=[];break;case"select":s=O({},s,{value:void 0}),i=O({},i,{value:void 0}),a=[];break;case"textarea":s=it(t,s),i=it(t,i),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof i.onClick&&(t.onclick=Zi)}for(u in bt(n,i),n=null,s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=s?s[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Wi("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}},Fo=function(t,e,n,i){n!==i&&(e.flags|=4)};var Yo=!1,Qo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(t,e,i)}else n.current=null}function tl(t,e,n){try{n()}catch(i){Sc(t,e,i)}}var el=!1;function nl(t,e,n){var i=e.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,void 0!==r&&tl(e,n,r)}s=s.next}while(s!==i)}}function il(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sl(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function rl(t){var e=t.alternate;null!==e&&(t.alternate=null,rl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[ds],delete e[fs],delete e[gs],delete e[ms],delete e[vs])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function al(t){return 5===t.tag||3===t.tag||4===t.tag}function ol(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||al(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zi));else if(4!==i&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var i=t.tag;if(5===i||6===i)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(re&&"function"===typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(se,n)}catch(o){}switch(n.tag){case 5:Qo||Zo(n,e);case 6:var i=ul,s=hl;ul=null,dl(t,e,n),hl=s,null!==(ul=i)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?ls(t.parentNode,n):1===t.nodeType&&ls(t,n),He(t)):ls(ul,n.stateNode));break;case 4:i=ul,s=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=i,hl=s;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){s=i=i.next;do{var r=s,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&tl(n,e,a),s=s.next}while(s!==i)}dl(t,e,n);break;case 1:if(!Qo&&(Zo(n,e),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Sc(n,e,o)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,dl(t,e,n),Qo=i):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $o),e.forEach((function(e){var i=Mc.bind(null,t,e);n.has(e)||(n.add(e),e.then(i,i))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,o=e,l=o;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(r(160));fl(a,o,s),ul=null,hl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),vl(t),4&i){try{nl(3,t,t.return),il(3,t)}catch(m){Sc(t,t.return,m)}try{nl(5,t,t.return)}catch(m){Sc(t,t.return,m)}}break;case 1:gl(e,t),vl(t),512&i&&null!==n&&Zo(n,n.return);break;case 5:if(gl(e,t),vl(t),512&i&&null!==n&&Zo(n,n.return),32&t.flags){var s=t.stateNode;try{dt(s,"")}catch(m){Sc(t,t.return,m)}}if(4&i&&null!=(s=t.stateNode)){var a=t.memoizedProps,o=null!==n?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(s,a),yt(l,o);var u=yt(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?mt(s,d):"dangerouslySetInnerHTML"===h?ht(s,d):"children"===h?dt(s,d):y(s,h,d,u)}switch(l){case"input":J(s,a);break;case"textarea":rt(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?nt(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?nt(s,!!a.multiple,a.defaultValue,!0):nt(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(m){Sc(t,t.return,m)}}break;case 6:if(gl(e,t),vl(t),4&i){if(null===t.stateNode)throw Error(r(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(m){Sc(t,t.return,m)}}break;case 3:if(gl(e,t),vl(t),4&i&&null!==n&&n.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){Sc(t,t.return,m)}break;case 4:default:gl(e,t),vl(t);break;case 13:gl(e,t),vl(t),8192&(s=t.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=$t())),4&i&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Qo=(u=Qo)||h,gl(e,t),Qo=u):gl(e,t),vl(t),8192&i){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Jo=t,h=t.child;null!==h;){for(d=Jo=h;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){i=f,n=f.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Sc(i,n,m)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Jo=p):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{s=d.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",o))}catch(m){Sc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),vl(t),4&i&&pl(t);case 21:}}function vl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(al(n)){var i=n;break t}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var s=i.stateNode;32&i.flags&&(dt(s,""),i.flags&=-33),cl(t,ol(t),s);break;case 3:case 4:var a=i.stateNode.containerInfo;ll(t,ol(t),a);break;default:throw Error(r(161))}}catch(o){Sc(t,t.return,o)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function bl(t,e,n){Jo=t,yl(t,e,n)}function yl(t,e,n){for(var i=0!==(1&t.mode);null!==Jo;){var s=Jo,r=s.child;if(22===s.tag&&i){var a=null!==s.memoizedState||Yo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Yo;var c=Qo;if(Yo=a,(Qo=l)&&!c)for(Jo=s;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Al(s):null!==l?(l.return=a,Jo=l):Al(s);for(;null!==r;)Jo=r,yl(r,e,n),r=r.sibling;Jo=s,Yo=o,Qo=c}wl(t)}else 0!==(8772&s.subtreeFlags)&&null!==r?(r.return=s,Jo=r):wl(t)}}function wl(t){for(;null!==Jo;){var e=Jo;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Qo||il(5,e);break;case 1:var i=e.stateNode;if(4&e.flags&&!Qo)if(null===n)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:eo(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;null!==a&&Ur(e,a,i);break;case 3:var o=e.updateQueue;if(null!==o){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Ur(e,o,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&He(d)}}}break;default:throw Error(r(163))}Qo||512&e.flags&&sl(e)}catch(f){Sc(e,e.return,f)}}if(e===t){Jo=null;break}if(null!==(n=e.sibling)){n.return=e.return,Jo=n;break}Jo=e.return}}function xl(t){for(;null!==Jo;){var e=Jo;if(e===t){Jo=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Jo=n;break}Jo=e.return}}function Al(t){for(;null!==Jo;){var e=Jo;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(l){Sc(e,n,l)}break;case 1:var i=e.stateNode;if("function"===typeof i.componentDidMount){var s=e.return;try{i.componentDidMount()}catch(l){Sc(e,s,l)}}var r=e.return;try{sl(e)}catch(l){Sc(e,r,l)}break;case 5:var a=e.return;try{sl(e)}catch(l){Sc(e,a,l)}}}catch(l){Sc(e,e.return,l)}if(e===t){Jo=null;break}var o=e.sibling;if(null!==o){o.return=e.return,Jo=o;break}Jo=e.return}}var _l,Sl=Math.ceil,kl=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Ml=0,Tl=null,Rl=null,Pl=0,Ll=0,Nl=Ss(0),Fl=0,Il=null,Dl=0,Ol=0,jl=0,Wl=null,Bl=null,zl=0,Hl=1/0,Ul=null,Vl=!1,ql=null,Gl=null,Xl=!1,Kl=null,Yl=0,Ql=0,$l=null,Jl=-1,Zl=0;function tc(){return 0!==(6&Ml)?$t():-1!==Jl?Jl:Jl=$t()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Ml)&&0!==Pl?Pl&-Pl:null!==gr.transition?(0===Zl&&(Zl=ge()),Zl):0!==(t=ye)?t:t=void 0===(t=window.event)?16:Qe(t.type)}function nc(t,e,n,i){if(50<Ql)throw Ql=0,$l=null,Error(r(185));ve(t,n,i),0!==(2&Ml)&&t===Tl||(t===Tl&&(0===(2&Ml)&&(Ol|=n),4===Fl&&oc(t,Pl)),ic(t,i),1===n&&0===Ml&&0===(1&e.mode)&&(Hl=$t()+500,Ws&&Hs()))}function ic(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-ae(r),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&i)||(s[a]=fe(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}(t,e);var i=de(t,t===Tl?Pl:0);if(0===i)null!==n&&Kt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(null!=n&&Kt(n),1===e)0===t.tag?function(t){Ws=!0,zs(t)}(lc.bind(null,t)):zs(lc.bind(null,t)),as((function(){0===(6&Ml)&&Hs()})),n=null;else{switch(we(i)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=ie}n=Tc(n,sc.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function sc(t,e){if(Jl=-1,Zl=0,0!==(6&Ml))throw Error(r(327));var n=t.callbackNode;if(Ac()&&t.callbackNode!==n)return null;var i=de(t,t===Tl?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||e)e=mc(t,i);else{e=i;var s=Ml;Ml|=2;var a=pc();for(Tl===t&&Pl===e||(Ul=null,Hl=$t()+500,dc(t,e));;)try{bc();break}catch(l){fc(t,l)}Er(),kl.current=a,Ml=s,null!==Rl?e=0:(Tl=null,Pl=0,e=Fl)}if(0!==e){if(2===e&&(0!==(s=pe(t))&&(i=s,e=rc(t,s))),1===e)throw n=Il,dc(t,0),oc(t,i),ic(t,$t()),n;if(6===e)oc(t,i);else{if(s=t.current.alternate,0===(30&i)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!oi(r(),s))return!1}catch(o){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(s)&&(2===(e=mc(t,i))&&(0!==(a=pe(t))&&(i=a,e=rc(t,a))),1===e))throw n=Il,dc(t,0),oc(t,i),ic(t,$t()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(r(345));case 2:case 5:xc(t,Bl,Ul);break;case 3:if(oc(t,i),(130023424&i)===i&&10<(e=zl+500-$t())){if(0!==de(t,0))break;if(((s=t.suspendedLanes)&i)!==i){tc(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=is(xc.bind(null,t,Bl,Ul),e);break}xc(t,Bl,Ul);break;case 4:if(oc(t,i),(4194240&i)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-ae(i);a=1<<o,(o=e[o])>s&&(s=o),i&=~a}if(i=s,10<(i=(120>(i=$t()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){t.timeoutHandle=is(xc.bind(null,t,Bl,Ul),i);break}xc(t,Bl,Ul);break;default:throw Error(r(329))}}}return ic(t,$t()),t.callbackNode===n?sc.bind(null,t):null}function rc(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Bl,Bl=n,null!==e&&ac(e)),t}function ac(t){null===Bl?Bl=t:Bl.push.apply(Bl,t)}function oc(t,e){for(e&=~jl,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ae(e),i=1<<n;t[n]=-1,e&=~i}}function lc(t){if(0!==(6&Ml))throw Error(r(327));Ac();var e=de(t,0);if(0===(1&e))return ic(t,$t()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var i=pe(t);0!==i&&(e=i,n=rc(t,i))}if(1===n)throw n=Il,dc(t,0),oc(t,e),ic(t,$t()),n;if(6===n)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Bl,Ul),ic(t,$t()),null}function cc(t,e){var n=Ml;Ml|=1;try{return t(e)}finally{0===(Ml=n)&&(Hl=$t()+500,Ws&&Hs())}}function uc(t){null!==Kl&&0===Kl.tag&&0===(6&Ml)&&Ac();var e=Ml;Ml|=1;var n=Cl.transition,i=ye;try{if(Cl.transition=null,ye=1,t)return t()}finally{ye=i,Cl.transition=n,0===(6&(Ml=e))&&Hs()}}function hc(){Ll=Nl.current,ks(Nl)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ss(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(er(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ns();break;case 3:Qr(),ks(Ts),ks(Ms),na();break;case 5:Jr(i);break;case 4:Qr();break;case 13:case 19:ks(Zr);break;case 10:Cr(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Tl=t,Rl=t=Nc(t.current,null),Pl=Ll=e,Fl=0,Il=null,jl=Ol=Dl=0,Bl=Wl=null,null!==Pr){for(e=0;e<Pr.length;e++)if(null!==(i=(n=Pr[e]).interleaved)){n.interleaved=null;var s=i.next,r=n.pending;if(null!==r){var a=r.next;r.next=s,i.next=a}n.pending=i}Pr=null}return t}function fc(t,e){for(;;){var n=Rl;try{if(Er(),ia.current=$a,ca){for(var i=aa.memoizedState;null!==i;){var s=i.queue;null!==s&&(s.pending=null),i=i.next}ca=!1}if(ra=0,la=oa=aa=null,ua=!1,ha=0,El.current=null,null===n||null===n.return){Fl=1,Il=e,Rl=null;break}t:{var a=t,o=n.return,l=n,c=e;if(e=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=mo(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,e),1&p.mode&&go(a,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){go(a,u,e),gc();break t}c=Error(r(426))}else if(sr&&1&l.mode){var v=mo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,e),pr(lo(c,l));break t}}a=c=lo(c,l),4!==Fl&&(Fl=2),null===Wl?Wl=[a]:Wl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e,zr(a,fo(0,c,e));break t;case 1:l=c;var b=a.type,y=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Gl||!Gl.has(y)))){a.flags|=65536,e&=-e,a.lanes|=e,zr(a,po(a,l,e));break t}}a=a.return}while(null!==a)}wc(n)}catch(w){e=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function pc(){var t=kl.current;return kl.current=$a,null===t?$a:t}function gc(){0!==Fl&&3!==Fl&&2!==Fl||(Fl=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Ol)||oc(Tl,Pl)}function mc(t,e){var n=Ml;Ml|=2;var i=pc();for(Tl===t&&Pl===e||(Ul=null,dc(t,e));;)try{vc();break}catch(s){fc(t,s)}if(Er(),Ml=n,kl.current=i,null!==Rl)throw Error(r(261));return Tl=null,Pl=0,Fl}function vc(){for(;null!==Rl;)yc(Rl)}function bc(){for(;null!==Rl&&!Yt();)yc(Rl)}function yc(t){var e=_l(t.alternate,t,Ll);t.memoizedProps=t.pendingProps,null===e?wc(t):Rl=e,El.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Xo(n,e,Ll)))return void(Rl=n)}else{if(null!==(n=Ko(n,e)))return n.flags&=32767,void(Rl=n);if(null===t)return Fl=6,void(Rl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Rl=e);Rl=e=t}while(null!==e);0===Fl&&(Fl=5)}function xc(t,e,n){var i=ye,s=Cl.transition;try{Cl.transition=null,ye=1,function(t,e,n,i){do{Ac()}while(null!==Kl);if(0!==(6&Ml))throw Error(r(327));n=t.finishedWork;var s=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ae(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}(t,a),t===Tl&&(Rl=Tl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tc(ee,(function(){return Ac(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=ye;ye=1;var l=Ml;Ml|=4,El.current=null,function(t,e){if(ts=Ve,fi(t=di())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var i=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break t}var o=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==s&&3!==d.nodeType||(l=o+s),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===s&&(l=o),f===a&&++h===i&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(es={focusedElem:t,selectionRange:n},Ve=!1,Jo=e;null!==Jo;)if(t=(e=Jo).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Jo=t;else for(;null!==Jo;){e=Jo;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?m:eo(e.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(r(163))}}catch(x){Sc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Jo=t;break}Jo=e.return}g=el,el=!1}(t,n),ml(n,t),pi(es),Ve=!!ts,es=ts=null,t.current=n,bl(n,t,s),Qt(),Ml=l,ye=o,Cl.transition=a}else t.current=n;if(Xl&&(Xl=!1,Kl=t,Yl=s),a=t.pendingLanes,0===a&&(Gl=null),function(t){if(re&&"function"===typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(se,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),ic(t,$t()),null!==e)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Vl)throw Vl=!1,t=ql,ql=null,t;0!==(1&Yl)&&0!==t.tag&&Ac(),a=t.pendingLanes,0!==(1&a)?t===$l?Ql++:(Ql=0,$l=t):Ql=0,Hs()}(t,e,n,i)}finally{Cl.transition=s,ye=i}return null}function Ac(){if(null!==Kl){var t=we(Yl),e=Cl.transition,n=ye;try{if(Cl.transition=null,ye=16>t?16:t,null===Kl)var i=!1;else{if(t=Kl,Kl=null,Yl=0,0!==(6&Ml))throw Error(r(331));var s=Ml;for(Ml|=4,Jo=t.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var h=Jo;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Jo=d;else for(;null!==Jo;){var f=(h=Jo).sibling,p=h.return;if(rl(h),h===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else t:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Jo=b;break t}Jo=a.return}}var y=t.current;for(Jo=y;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else t:for(o=y;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(A){Sc(l,l.return,A)}if(l===o){Jo=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Jo=x;break t}Jo=l.return}}if(Ml=s,Hs(),re&&"function"===typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(se,t)}catch(A){}i=!0}return i}finally{ye=n,Cl.transition=e}}return!1}function _c(t,e,n){t=Wr(t,e=fo(0,e=lo(n,e),1),1),e=tc(),null!==t&&(ve(t,1,e),ic(t,e))}function Sc(t,e,n){if(3===t.tag)_c(t,t,n);else for(;null!==e;){if(3===e.tag){_c(e,t,n);break}if(1===e.tag){var i=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Gl||!Gl.has(i))){e=Wr(e,t=po(e,t=lo(n,t),1),1),t=tc(),null!==e&&(ve(e,1,t),ic(e,t));break}}e=e.return}}function kc(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Tl===t&&(Pl&n)===n&&(4===Fl||3===Fl&&(130023424&Pl)===Pl&&500>$t()-zl?dc(t,0):jl|=n),ic(t,e)}function Ec(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Fr(t,e))&&(ve(t,e,n),ic(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Ec(t,n)}function Mc(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(e),Ec(t,n)}function Tc(t,e){return Xt(t,e)}function Rc(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,i){return new Rc(t,e,n,i)}function Lc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Nc(t,e){var n=t.alternate;return null===n?((n=Pc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fc(t,e,n,i,s,a){var o=2;if(i=t,"function"===typeof t)Lc(t)&&(o=1);else if("string"===typeof t)o=5;else t:switch(t){case _:return Ic(n.children,s,a,e);case S:o=8,s|=8;break;case k:return(t=Pc(12,n,e,2|s)).elementType=k,t.lanes=a,t;case T:return(t=Pc(13,n,e,s)).elementType=T,t.lanes=a,t;case R:return(t=Pc(19,n,e,s)).elementType=R,t.lanes=a,t;case N:return Dc(n,s,a,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case E:o=10;break t;case C:o=9;break t;case M:o=11;break t;case P:o=14;break t;case L:o=16,i=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Pc(o,n,e,s)).elementType=t,e.type=i,e.lanes=a,e}function Ic(t,e,n,i){return(t=Pc(7,t,i,e)).lanes=n,t}function Dc(t,e,n,i){return(t=Pc(22,t,i,e)).elementType=N,t.lanes=n,t.stateNode={isHidden:!1},t}function Oc(t,e,n){return(t=Pc(6,t,null,e)).lanes=n,t}function jc(t,e,n){return(e=Pc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Wc(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bc(t,e,n,i,s,r,a,o,l){return t=new Wc(t,e,n,o,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Pc(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dr(r),t}function zc(t){if(!t)return Cs;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Ls(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var n=t.type;if(Ls(n))return Is(t,n,e)}return e}function Hc(t,e,n,i,s,r,a,o,l){return(t=Bc(n,i,!0,t,0,r,0,o,l)).context=zc(null),n=t.current,(r=jr(i=tc(),s=ec(n))).callback=void 0!==e&&null!==e?e:null,Wr(n,r,s),t.current.lanes=s,ve(t,s,i),ic(t,i),t}function Uc(t,e,n,i){var s=e.current,r=tc(),a=ec(s);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=jr(r,a)).payload={element:t},null!==(i=void 0===i?null:i)&&(e.callback=i),null!==(t=Wr(s,e,a))&&(nc(t,s,a,r),Br(t,s,a)),a}function Vc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Gc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}_l=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Ts.current)yo=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return yo=!1,function(t,e,n){switch(e.tag){case 3:To(e),fr();break;case 5:$r(e);break;case 1:Ls(e.type)&&Ds(e);break;case 4:Yr(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Es(Ar,i._currentValue),i._currentValue=s;break;case 13:if(null!==(i=e.memoizedState))return null!==i.dehydrated?(Es(Zr,1&Zr.current),e.flags|=128,null):0!==(n&e.child.childLanes)?Oo(t,e,n):(Es(Zr,1&Zr.current),null!==(t=Vo(t,e,n))?t.sibling:null);Es(Zr,1&Zr.current);break;case 19:if(i=0!==(n&e.childLanes),0!==(128&t.flags)){if(i)return Ho(t,e,n);e.flags|=128}if(null!==(s=e.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(Zr,Zr.current),i)break;return null;case 22:case 23:return e.lanes=0,So(t,e,n)}return Vo(t,e,n)}(t,e,n);yo=0!==(131072&t.flags)}else yo=!1,sr&&0!==(1048576&e.flags)&&Zs(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Uo(t,e),t=e.pendingProps;var s=Ps(e,Ms.current);Tr(e,n),s=ga(null,e,i,t,s,n);var a=ma();return e.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ls(i)?(a=!0,Ds(e)):a=!1,e.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Dr(e),s.updater=io,e.stateNode=s,s._reactInternals=e,oo(e,i,t,n),e=Mo(null,e,i,!0,a,n)):(e.tag=0,sr&&a&&tr(e),wo(null,e,s,n),e=e.child),e;case 16:i=e.elementType;t:{switch(Uo(t,e),t=e.pendingProps,i=(s=i._init)(i._payload),e.type=i,s=e.tag=function(t){if("function"===typeof t)return Lc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===P)return 14}return 2}(i),t=eo(i,t),s){case 0:e=Eo(null,e,i,t,n);break t;case 1:e=Co(null,e,i,t,n);break t;case 11:e=xo(null,e,i,t,n);break t;case 14:e=Ao(null,e,i,eo(i.type,t),n);break t}throw Error(r(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,Eo(t,e,i,s=e.elementType===i?s:eo(i,s),n);case 1:return i=e.type,s=e.pendingProps,Co(t,e,i,s=e.elementType===i?s:eo(i,s),n);case 3:t:{if(To(e),null===t)throw Error(r(387));i=e.pendingProps,s=(a=e.memoizedState).element,Or(t,e),Hr(e,i,null,n);var o=e.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,256&e.flags){e=Ro(t,e,i,n,s=lo(Error(r(423)),e));break t}if(i!==s){e=Ro(t,e,i,n,s=lo(Error(r(424)),e));break t}for(ir=cs(e.stateNode.containerInfo.firstChild),nr=e,sr=!0,rr=null,n=xr(e,null,i,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fr(),i===s){e=Vo(t,e,n);break t}wo(t,e,i,n)}e=e.child}return e;case 5:return $r(e),null===t&&cr(e),i=e.type,s=e.pendingProps,a=null!==t?t.memoizedProps:null,o=s.children,ns(i,s)?o=null:null!==a&&ns(i,a)&&(e.flags|=32),ko(t,e),wo(t,e,o,n),e.child;case 6:return null===t&&cr(e),null;case 13:return Oo(t,e,n);case 4:return Yr(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=wr(e,null,i,n):wo(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,xo(t,e,i,s=e.elementType===i?s:eo(i,s),n);case 7:return wo(t,e,e.pendingProps,n),e.child;case 8:case 12:return wo(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,o=s.value,Es(Ar,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===s.children&&!Ts.current){e=Vo(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=jr(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Mr(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===e.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Mr(o,n,e),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Tr(e,n),i=i(s=Rr(s)),e.flags|=1,wo(t,e,i,n),e.child;case 14:return s=eo(i=e.type,e.pendingProps),Ao(t,e,i,s=eo(i.type,s),n);case 15:return _o(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:eo(i,s),Uo(t,e),e.tag=1,Ls(i)?(t=!0,Ds(e)):t=!1,Tr(e,n),ro(e,i,s),oo(e,i,s,n),Mo(null,e,i,!0,t,n);case 19:return Ho(t,e,n);case 22:return So(t,e,n)}throw Error(r(156,e.tag))};var Xc="function"===typeof reportError?reportError:function(t){console.error(t)};function Kc(t){this._internalRoot=t}function Yc(t){this._internalRoot=t}function Qc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function Zc(t,e,n,i,s){var r=n._reactRootContainer;if(r){var a=r;if("function"===typeof s){var o=s;s=function(){var t=Vc(a);o.call(t)}}Uc(e,a,t,s)}else a=function(t,e,n,i,s){if(s){if("function"===typeof i){var r=i;i=function(){var t=Vc(a);r.call(t)}}var a=Hc(e,i,t,0,null,!1,0,"",Jc);return t._reactRootContainer=a,t[ps]=a.current,Hi(8===t.nodeType?t.parentNode:t),uc(),a}for(;s=t.lastChild;)t.removeChild(s);if("function"===typeof i){var o=i;i=function(){var t=Vc(l);o.call(t)}}var l=Bc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[ps]=l.current,Hi(8===t.nodeType?t.parentNode:t),uc((function(){Uc(e,l,n,i)})),l}(n,e,t,s,i);return Vc(a)}Yc.prototype.render=Kc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Uc(t,e,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Uc(null,t,null,null)})),e[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ne.length&&0!==e&&e<Ne[n].priority;n++);Ne.splice(n,0,t),0===n&&Oe(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(be(e,1|n),ic(e,$t()),0===(6&Ml)&&(Hl=$t()+500,Hs()))}break;case 13:uc((function(){var e=Fr(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Gc(t,1)}},Ae=function(t){if(13===t.tag){var e=Fr(t,134217728);if(null!==e)nc(e,t,134217728,tc());Gc(t,134217728)}},_e=function(t){if(13===t.tag){var e=ec(t),n=Fr(t,e);if(null!==n)nc(n,t,e,tc());Gc(t,e)}},Se=function(){return ye},ke=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}},At=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=xs(i);if(!s)throw Error(r(90));X(i),J(i,s)}}}break;case"textarea":rt(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},Mt=cc,Tt=uc;var tu={usingClientEntryPoint:!1,Events:[ys,ws,xs,Et,Ct,cc]},eu={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{se=iu.inject(nu),re=iu}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(e))throw Error(r(200));return function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Qc(t))throw Error(r(299));var n=!1,i="",s=Xc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(i=e.identifierPrefix),void 0!==e.onRecoverableError&&(s=e.onRecoverableError)),e=Bc(t,1,!1,null,0,n,0,i,s),t[ps]=e.current,Hi(8===t.nodeType?t.parentNode:t),new Kc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!$c(e))throw Error(r(200));return Zc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Qc(t))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,s=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),e=Hc(e,null,t,1,null!=n?n:null,s,0,a,o),t[ps]=e.current,Hi(t),i)for(t=0;t<i.length;t++)s=(s=(n=i[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yc(e)},e.render=function(t,e,n){if(!$c(e))throw Error(r(200));return Zc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$c(t))throw Error(r(40));return!!t._reactRootContainer&&(uc((function(){Zc(null,null,t,!1,(function(){t._reactRootContainer=null,t[ps]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!$c(n))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return Zc(t,e,n,!1,i)},e.version="18.3.1-next-f1338f8080-20240426"},391:(t,e,n)=>{"use strict";var i=n(950);e.createRoot=i.createRoot,e.hydrateRoot=i.hydrateRoot},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var i=n(43),s=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var i,r={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)a.call(e,i)&&!l.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps)void 0===r[i]&&(r[i]=e[i]);return{$$typeof:s,type:t,key:c,ref:u,props:r,_owner:o.current}}e.Fragment=r,e.jsx=c,e.jsxs=c},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function b(){}function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},v.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,A=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,i){var s,r={},a=null,o=null;if(null!=e)for(s in void 0!==e.ref&&(o=e.ref),void 0!==e.key&&(a=""+e.key),e)A.call(e,s)&&!S.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:n,type:t,key:a,ref:o,props:r,_owner:_.current}}function E(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function M(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,s,r,a){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var l=!1;if(null===t)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=t),t=""===r?"."+M(l,0):r,x(a)?(s="",null!=t&&(s=t.replace(C,"$&/")+"/"),T(a,e,s,"",(function(t){return t}))):null!=a&&(E(a)&&(a=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",x(t))for(var c=0;c<t.length;c++){var u=r+M(o=t[c],c);l+=T(o,e,s,u,a)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(o=t.next()).done;)l+=T(o=o.value,e,s,u=r+M(o,c++),a);else if("object"===o)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function R(t,e,n){if(null==t)return t;var i=[],s=0;return T(t,i,"","",(function(t){return e.call(n,t,s++)})),i}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var L={current:null},N={transition:null},F={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:N,ReactCurrentOwner:_};function I(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:R,forEach:function(t,e,n){R(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return R(t,(function(){e++})),e},toArray:function(t){return R(t,(function(t){return t}))||[]},only:function(t){if(!E(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=v,e.Fragment=s,e.Profiler=a,e.PureComponent=y,e.StrictMode=r,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,e.act=I,e.cloneElement=function(t,e,i){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=g({},t.props),r=t.key,a=t.ref,o=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,o=_.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)A.call(e,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:t.type,key:r,ref:a,props:s,_owner:o}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=E,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=N.transition;N.transition={};try{t()}finally{N.transition=e}},e.unstable_act=I,e.useCallback=function(t,e){return L.current.useCallback(t,e)},e.useContext=function(t){return L.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return L.current.useDeferredValue(t)},e.useEffect=function(t,e){return L.current.useEffect(t,e)},e.useId=function(){return L.current.useId()},e.useImperativeHandle=function(t,e,n){return L.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return L.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return L.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return L.current.useMemo(t,e)},e.useReducer=function(t,e,n){return L.current.useReducer(t,e,n)},e.useRef=function(t){return L.current.useRef(t)},e.useState=function(t){return L.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return L.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return L.current.useTransition()},e.version="18.3.1"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var i=n-1>>>1,s=t[i];if(!(0<r(s,e)))break t;t[i]=e,t[n]=s,n=i}}function i(t){return 0===t.length?null:t[0]}function s(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var i=0,s=t.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=t[o],c=o+1,u=t[c];if(0>r(l,n))c<s&&0>r(u,l)?(t[i]=u,t[c]=n,i=c):(t[i]=l,t[o]=n,i=o);else{if(!(c<s&&0>r(u,n)))break t;t[i]=u,t[c]=n,i=c}}}return e}function r(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=i(u);null!==e;){if(null===e.callback)s(u);else{if(!(e.startTime<=t))break;s(u),e.sortIndex=e.expirationTime,n(c,e)}e=i(u)}}function x(t){if(m=!1,w(t),!g)if(null!==i(c))g=!0,N(A);else{var e=i(u);null!==e&&F(x,e.startTime-t)}}function A(t,n){g=!1,m&&(m=!1,b(E),E=-1),p=!0;var r=f;try{for(w(n),d=i(c);null!==d&&(!(d.expirationTime>n)||t&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof o?d.callback=o:d===i(c)&&s(c),w(n)}else s(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&F(x,h.startTime-n),l=!1}return l}finally{d=null,f=r,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,k=null,E=-1,C=5,M=-1;function T(){return!(e.unstable_now()-M<C)}function R(){if(null!==k){var t=e.unstable_now();M=t;var n=!0;try{n=k(!0,t)}finally{n?_():(S=!1,k=null)}}else S=!1}if("function"===typeof y)_=function(){y(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=R,_=function(){L.postMessage(null)}}else _=function(){v(R,0)};function N(t){k=t,S||(S=!0,_())}function F(t,n){E=v((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,N(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return i(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,s,r){var a=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,t){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return t={id:h++,callback:s,priorityLevel:t,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(t.sortIndex=r,n(u,t),null===i(c)&&t===i(u)&&(m?(b(E),E=-1):m=!0,F(x,r-a))):(t.sortIndex=o,n(c,t),g||p||(g=!0,N(A))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},440:t=>{"use strict";var e=function(){};t.exports=e},139:(t,e)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=a(t,r(n)))}return t}function r(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return s.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)i.call(t,n)&&t[n]&&(e=a(e,n));return e}function a(t,e){return e?t?t+" "+e:t+e:t}t.exports?(s.default=s,t.exports=s):void 0===(n=function(){return s}.apply(e,[]))||(t.exports=n)}()}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(i,s){if(1&s&&(i=this(i)),8&s)return i;if("object"===typeof i&&i){if(4&s&&i.__esModule)return i;if(16&s&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var a={};t=t||[null,e({}),e([]),e(e)];for(var o=2&s&&i;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>i[t]));return a.default=()=>i,n.d(r,a),r}})(),n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Ue,hasStandardBrowserEnv:()=>qe,hasStandardBrowserWebWorkerEnv:()=>Ge,navigator:()=>Ve,origin:()=>Xe});var e={};n.r(e),n.d(e,{dU:()=>Kb,ng:()=>Yb,EA:()=>Qb,Tm:()=>$b,D6:()=>Jb,YE:()=>Zb,rE:()=>ty});var i,s=n(43),r=n.t(s,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(i||(i={}));const u="popstate";function h(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function d(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function f(t,e){return{usr:t.state,key:t.key,idx:e}}function p(t,e,n,i){return void 0===n&&(n=null),c({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?m(e):e,{state:n,key:e&&e.key||i||Math.random().toString(36).substr(2,8)})}function g(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(e+="#"===i.charAt(0)?i:"#"+i),e}function m(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function v(t,e,n,s){void 0===s&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=i.Pop,d=null,m=v();function v(){return(o.state||{idx:null}).idx}function b(){l=i.Pop;let t=v(),e=null==t?null:t-m;m=t,d&&d({action:l,location:w.location,delta:e})}function y(t){let e="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof t?t:g(t);return n=n.replace(/ $/,"%20"),h(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,o.replaceState(c({},o.state,{idx:m}),""));let w={get action(){return l},get location(){return t(r,o)},listen(t){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(u,b),d=t,()=>{r.removeEventListener(u,b),d=null}},createHref:t=>e(r,t),createURL:y,encodeLocation(t){let e=y(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(t,e){l=i.Push;let s=p(w.location,t,e);n&&n(s,t),m=v()+1;let c=f(s,m),u=w.createHref(s);try{o.pushState(c,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;r.location.assign(u)}a&&d&&d({action:l,location:w.location,delta:1})},replace:function(t,e){l=i.Replace;let s=p(w.location,t,e);n&&n(s,t),m=v();let r=f(s,m),c=w.createHref(s);o.replaceState(r,"",c),a&&d&&d({action:l,location:w.location,delta:0})},go:t=>o.go(t)};return w}var b;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(t,e,n){return void 0===n&&(n="/"),w(t,e,n,!1)}function w(t,e,n,i){let s=F(("string"===typeof e?m(e):e).pathname||"/",n);if(null==s)return null;let r=x(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let t=N(s);a=P(r[o],t,i)}return a}function x(t,e,n,i){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i="");let s=(t,s,r)=>{let a={relativePath:void 0===r?t.path||"":r,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};a.relativePath.startsWith("/")&&(h(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=W([i,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(h(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),x(t.children,e,l,o)),(null!=t.path||t.index)&&e.push({path:o,score:R(o,t.index),routesMeta:l})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let i of A(t.path))s(t,e,i);else s(t,e)})),e}function A(t){let e=t.split("/");if(0===e.length)return[];let[n,...i]=e,s=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return s?[r,""]:[r];let a=A(i.join("/")),o=[];return o.push(...a.map((t=>""===t?r:[r,t].join("/")))),s&&o.push(...a),o.map((e=>t.startsWith("/")&&""===e?"/":e))}const _=/^:[\w-]+$/,S=3,k=2,E=1,C=10,M=-2,T=t=>"*"===t;function R(t,e){let n=t.split("/"),i=n.length;return n.some(T)&&(i+=M),e&&(i+=k),n.filter((t=>!T(t))).reduce(((t,e)=>t+(_.test(e)?S:""===e?E:C)),i)}function P(t,e,n){void 0===n&&(n=!1);let{routesMeta:i}=t,s={},r="/",a=[];for(let o=0;o<i.length;++o){let t=i[o],l=o===i.length-1,c="/"===r?e:e.slice(r.length)||"/",u=L({path:t.relativePath,caseSensitive:t.caseSensitive,end:l},c),h=t.route;if(!u&&l&&n&&!i[i.length-1].route.index&&(u=L({path:t.relativePath,caseSensitive:t.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:W([r,u.pathname]),pathnameBase:B(W([r,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(r=W([r,u.pathnameBase]))}return a}function L(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);d("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(i.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(i.push({paramName:"*"}),s+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==t&&"/"!==t&&(s+="(?:(?=\\/|$))");let r=new RegExp(s,e?void 0:"i");return[r,i]}(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let r=s[0],a=r.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:i.reduce(((t,e,n)=>{let{paramName:i,isOptional:s}=e;if("*"===i){let t=o[n]||"";a=r.slice(0,r.length-t.length).replace(/(.)\/+$/,"$1")}const l=o[n];return t[i]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{}),pathname:r,pathnameBase:a,pattern:t}}function N(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return d(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function F(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&"/"!==i?null:t.slice(n)||"/"}function I(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function O(t,e){let n=D(t);return e?n.map(((t,e)=>e===n.length-1?t.pathname:t.pathnameBase)):n.map((t=>t.pathnameBase))}function j(t,e,n,i){let s;void 0===i&&(i=!1),"string"===typeof t?s=m(t):(s=c({},t),h(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let r,a=""===t||""===s.pathname,o=a?"/":s.pathname;if(null==o)r=n;else{let t=e.length-1;if(!i&&o.startsWith("..")){let e=o.split("/");for(;".."===e[0];)e.shift(),t-=1;s.pathname=e.join("/")}r=t>=0?e[t]:"/"}let l=function(t,e){void 0===e&&(e="/");let{pathname:n,search:i="",hash:s=""}="string"===typeof t?m(t):t,r=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:r,search:z(i),hash:H(s)}}(s,r),u=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}const W=t=>t.join("/").replace(/\/\/+/g,"/"),B=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),z=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",H=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function U(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const V=["post","put","patch","delete"],q=(new Set(V),["get",...V]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)}const X=s.createContext(null);const K=s.createContext(null);const Y=s.createContext(null);const Q=s.createContext(null);const $=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function Z(){return null!=s.useContext(Q)}function tt(){return Z()||h(!1),s.useContext(Q).location}function et(t){s.useContext(Y).static||s.useLayoutEffect(t)}function nt(){let{isDataRoute:t}=s.useContext($);return t?function(){let{router:t}=dt(ut.UseNavigateStable),e=pt(ht.UseNavigateStable),n=s.useRef(!1);return et((()=>{n.current=!0})),s.useCallback((function(i,s){void 0===s&&(s={}),n.current&&("number"===typeof i?t.navigate(i):t.navigate(i,G({fromRouteId:e},s)))}),[t,e])}():function(){Z()||h(!1);let t=s.useContext(X),{basename:e,future:n,navigator:i}=s.useContext(Y),{matches:r}=s.useContext($),{pathname:a}=tt(),o=JSON.stringify(O(r,n.v7_relativeSplatPath)),l=s.useRef(!1);return et((()=>{l.current=!0})),s.useCallback((function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void i.go(n);let r=j(n,JSON.parse(o),a,"path"===s.relative);null==t&&"/"!==e&&(r.pathname="/"===r.pathname?e:W([e,r.pathname])),(s.replace?i.replace:i.push)(r,s.state,s)}),[e,i,o,a,t])}()}function it(t,e){let{relative:n}=void 0===e?{}:e,{future:i}=s.useContext(Y),{matches:r}=s.useContext($),{pathname:a}=tt(),o=JSON.stringify(O(r,i.v7_relativeSplatPath));return s.useMemo((()=>j(t,JSON.parse(o),a,"path"===n)),[t,o,a,n])}function st(t,e,n,r){Z()||h(!1);let{navigator:a}=s.useContext(Y),{matches:o}=s.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let d,f=tt();if(e){var p;let t="string"===typeof e?m(e):e;"/"===u||(null==(p=t.pathname)?void 0:p.startsWith(u))||h(!1),d=t}else d=f;let g=d.pathname||"/",v=g;if("/"!==u){let t=u.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=y(t,{pathname:v});let w=ct(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},c,t.params),pathname:W([u,a.encodeLocation?a.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?u:W([u,a.encodeLocation?a.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),o,n,r);return e&&w?s.createElement(Q.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:i.Pop}},w):w}function rt(){let t=function(){var t;let e=s.useContext(J),n=ft(ht.UseRouteError),i=pt(ht.UseRouteError);if(void 0!==e)return e;return null==(t=n.errors)?void 0:t[i]}(),e=U(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},e),n?s.createElement("pre",{style:r},n):null,null)}const at=s.createElement(rt,null);class ot extends s.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?s.createElement($.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lt(t){let{routeContext:e,match:n,children:i}=t,r=s.useContext(X);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement($.Provider,{value:e},i)}function ct(t,e,n,i){var r;if(void 0===e&&(e=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==t){var a;if(!n)return null;if(n.errors)t=n.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===e.length&&!n.initialized&&n.matches.length>0))return null;t=n.matches}}let o=t,l=null==(r=n)?void 0:r.errors;if(null!=l){let t=o.findIndex((t=>t.route.id&&void 0!==(null==l?void 0:l[t.route.id])));t>=0||h(!1),o=o.slice(0,Math.min(o.length,t+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let s=0;s<o.length;s++){let t=o[s];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=s),t.route.id){let{loaderData:e,errors:i}=n,s=t.route.loader&&void 0===e[t.route.id]&&(!i||void 0===i[t.route.id]);if(t.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((t,i,r)=>{let a,h=!1,d=null,f=null;var p;n&&(a=l&&i.route.id?l[i.route.id]:void 0,d=i.route.errorElement||at,c&&(u<0&&0===r?(p="route-fallback",!1||gt[p]||(gt[p]=!0),h=!0,f=null):u===r&&(h=!0,f=i.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,r+1)),m=()=>{let e;return e=a?d:h?f:i.route.Component?s.createElement(i.route.Component,null):i.route.element?i.route.element:t,s.createElement(lt,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=n},children:e})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?s.createElement(ot,{location:n.location,revalidation:n.revalidation,component:d,error:a,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var ut=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ut||{}),ht=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ht||{});function dt(t){let e=s.useContext(X);return e||h(!1),e}function ft(t){let e=s.useContext(K);return e||h(!1),e}function pt(t){let e=function(){let t=s.useContext($);return t||h(!1),t}(),n=e.matches[e.matches.length-1];return n.route.id||h(!1),n.route.id}const gt={};const mt={};const vt=(t,e,n)=>{var i;mt[i="\u26a0\ufe0f React Router Future Flag Warning: "+e+". You can use the `"+t+"` future flag to opt-in early. For more information, see "+n+"."]||(mt[i]=!0,console.warn(i))};function bt(t,e){void 0===(null==t?void 0:t.v7_startTransition)&&vt("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),void 0!==(null==t?void 0:t.v7_relativeSplatPath)||e&&e.v7_relativeSplatPath||vt("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(void 0===e.v7_fetcherPersist&&vt("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),void 0===e.v7_normalizeFormMethod&&vt("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),void 0===e.v7_partialHydration&&vt("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),void 0===e.v7_skipActionErrorRevalidation&&vt("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}r.startTransition;function yt(t){h(!1)}function wt(t){let{basename:e="/",children:n=null,location:r,navigationType:a=i.Pop,navigator:o,static:l=!1,future:c}=t;Z()&&h(!1);let u=e.replace(/^\/*/,"/"),d=s.useMemo((()=>({basename:u,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)})),[u,c,o,l]);"string"===typeof r&&(r=m(r));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:b="default"}=r,y=s.useMemo((()=>{let t=F(f,u);return null==t?null:{location:{pathname:t,search:p,hash:g,state:v,key:b},navigationType:a}}),[u,f,p,g,v,b,a]);return null==y?null:s.createElement(Y.Provider,{value:d},s.createElement(Q.Provider,{children:n,value:y}))}function xt(t){let{children:e,location:n}=t;return st(At(e),n)}new Promise((()=>{}));s.Component;function At(t,e){void 0===e&&(e=[]);let n=[];return s.Children.forEach(t,((t,i)=>{if(!s.isValidElement(t))return;let r=[...e,i];if(t.type===s.Fragment)return void n.push.apply(n,At(t.props.children,r));t.type!==yt&&h(!1),t.props.index&&t.props.children&&h(!1);let a={id:t.props.id||r.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=At(t.props.children,r)),n.push(a)})),n}function _t(){return _t=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},_t.apply(this,arguments)}function St(t,e){if(null==t)return{};var n,i,s={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(s[n]=t[n]);return s}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const kt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(sw){}new Map;const Et=r.startTransition;l.flushSync,r.useId;function Ct(t){let{basename:e,children:n,future:i,window:r}=t,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),v((function(t,e){let{pathname:n,search:i,hash:s}=t.location;return p("",{pathname:n,search:i,hash:s},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:g(e)}),null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=s.useCallback((t=>{h&&Et?Et((()=>u(t))):u(t)}),[u,h]);return s.useLayoutEffect((()=>l.listen(d)),[l,d]),s.useEffect((()=>bt(i)),[i]),s.createElement(wt,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Mt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rt=s.forwardRef((function(t,e){let n,{onClick:i,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=St(t,kt),{basename:m}=s.useContext(Y),v=!1;if("string"===typeof u&&Tt.test(u)&&(n=u,Mt))try{let t=new URL(window.location.href),e=u.startsWith("//")?new URL(t.protocol+u):new URL(u),n=F(e.pathname,m);e.origin===t.origin&&null!=n?u=n+e.search+e.hash:v=!0}catch(sw){}let b=function(t,e){let{relative:n}=void 0===e?{}:e;Z()||h(!1);let{basename:i,navigator:r}=s.useContext(Y),{hash:a,pathname:o,search:l}=it(t,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:W([i,o])),r.createHref({pathname:c,search:l,hash:a})}(u,{relative:r}),y=function(t,e){let{target:n,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:l}=void 0===e?{}:e,c=nt(),u=tt(),h=it(t,{relative:o});return s.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,n)){e.preventDefault();let n=void 0!==i?i:g(u)===g(h);c(t,{replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,h,i,r,n,t,a,o,l])}(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:f});return s.createElement("a",_t({},p,{href:n||b,onClick:v||a?i:function(t){i&&i(t),t.defaultPrevented||y(t)},ref:e,target:c}))}));var Pt,Lt;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pt||(Pt={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(Lt||(Lt={}));function Nt(t,e){return function(){return t.apply(e,arguments)}}const{toString:Ft}=Object.prototype,{getPrototypeOf:It}=Object,Dt=(Ot=Object.create(null),t=>{const e=Ft.call(t);return Ot[e]||(Ot[e]=e.slice(8,-1).toLowerCase())});var Ot;const jt=t=>(t=t.toLowerCase(),e=>Dt(e)===t),Wt=t=>e=>typeof e===t,{isArray:Bt}=Array,zt=Wt("undefined");const Ht=jt("ArrayBuffer");const Ut=Wt("string"),Vt=Wt("function"),qt=Wt("number"),Gt=t=>null!==t&&"object"===typeof t,Xt=t=>{if("object"!==Dt(t))return!1;const e=It(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Kt=jt("Date"),Yt=jt("File"),Qt=jt("Blob"),$t=jt("FileList"),Jt=jt("URLSearchParams"),[Zt,te,ee,ne]=["ReadableStream","Request","Response","Headers"].map(jt);function ie(t,e){let n,i,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),Bt(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=s?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let a;for(n=0;n<r;n++)a=i[n],e.call(null,t[a],a,t)}}function se(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,s=n.length;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ae=t=>!zt(t)&&t!==re;const oe=(le="undefined"!==typeof Uint8Array&&It(Uint8Array),t=>le&&t instanceof le);var le;const ce=jt("HTMLFormElement"),ue=(t=>{let{hasOwnProperty:e}=t;return(t,n)=>e.call(t,n)})(Object.prototype),he=jt("RegExp"),de=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};ie(n,((n,s)=>{let r;!1!==(r=e(n,s,t))&&(i[s]=r||n)})),Object.defineProperties(t,i)},fe="abcdefghijklmnopqrstuvwxyz",pe="0123456789",ge={DIGIT:pe,ALPHA:fe,ALPHA_DIGIT:fe+fe.toUpperCase()+pe};const me=jt("AsyncFunction"),ve=((t,e)=>{return t?setImmediate:e?(n="axios@".concat(Math.random()),i=[],re.addEventListener("message",(t=>{let{source:e,data:s}=t;e===re&&s===n&&i.length&&i.shift()()}),!1),t=>{i.push(t),re.postMessage(n,"*")}):t=>setTimeout(t);var n,i})("function"===typeof setImmediate,Vt(re.postMessage)),be="undefined"!==typeof queueMicrotask?queueMicrotask.bind(re):"undefined"!==typeof process&&process.nextTick||ve,ye={isArray:Bt,isArrayBuffer:Ht,isBuffer:function(t){return null!==t&&!zt(t)&&null!==t.constructor&&!zt(t.constructor)&&Vt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"===typeof FormData&&t instanceof FormData||Vt(t.append)&&("formdata"===(e=Dt(t))||"object"===e&&Vt(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Ht(t.buffer),e},isString:Ut,isNumber:qt,isBoolean:t=>!0===t||!1===t,isObject:Gt,isPlainObject:Xt,isReadableStream:Zt,isRequest:te,isResponse:ee,isHeaders:ne,isUndefined:zt,isDate:Kt,isFile:Yt,isBlob:Qt,isRegExp:he,isFunction:Vt,isStream:t=>Gt(t)&&Vt(t.pipe),isURLSearchParams:Jt,isTypedArray:oe,isFileList:$t,forEach:ie,merge:function t(){const{caseless:e}=ae(this)&&this||{},n={},i=(i,s)=>{const r=e&&se(n,s)||s;Xt(n[r])&&Xt(i)?n[r]=t(n[r],i):Xt(i)?n[r]=t({},i):Bt(i)?n[r]=i.slice():n[r]=i};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&ie(arguments[s],i);return n},extend:function(t,e,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ie(e,((e,i)=>{n&&Vt(e)?t[i]=Nt(e,n):t[i]=e}),{allOwnKeys:i}),t},trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let s,r,a;const o={};if(e=e||{},null==t)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)a=s[r],i&&!i(a,t,e)||o[a]||(e[a]=t[a],o[a]=!0);t=!1!==n&&It(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Dt,kindOfTest:jt,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Bt(t))return t;let e=t.length;if(!qt(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:ce,hasOwnProperty:ue,hasOwnProp:ue,reduceDescriptors:de,freezeMethods:t=>{de(t,((e,n)=>{if(Vt(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];Vt(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return Bt(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:se,global:re,isContextDefined:ae,ALPHABET:ge,generateString:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.ALPHA_DIGIT,n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&Vt(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(Gt(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const s=Bt(t)?[]:{};return ie(t,((t,e)=>{const r=n(t,i+1);!zt(r)&&(s[e]=r)})),e[i]=void 0,s}}return t};return n(t,0)},isAsyncFn:me,isThenable:t=>t&&(Gt(t)||Vt(t))&&Vt(t.then)&&Vt(t.catch),setImmediate:ve,asap:be};function we(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}ye.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const xe=we.prototype,Ae={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{Ae[t]={value:t}})),Object.defineProperties(we,Ae),Object.defineProperty(xe,"isAxiosError",{value:!0}),we.from=(t,e,n,i,s,r)=>{const a=Object.create(xe);return ye.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),we.call(a,t.message,e,n,i,s),a.cause=t,a.name=t.name,r&&Object.assign(a,r),a};const _e=we;function Se(t){return ye.isPlainObject(t)||ye.isArray(t)}function ke(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function Ee(t,e,n){return t?t.concat(e).map((function(t,e){return t=ke(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const Ce=ye.toFlatObject(ye,{},null,(function(t){return/^is[A-Z]/.test(t)}));const Me=function(t,e,n){if(!ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!ye.isUndefined(e[t])}))).metaTokens,s=n.visitor||c,r=n.dots,a=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ye.isSpecCompliantForm(e);if(!ye.isFunction(s))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(ye.isDate(t))return t.toISOString();if(!o&&ye.isBlob(t))throw new _e("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(t)||ye.isTypedArray(t)?o&&"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,s){let o=t;if(t&&!s&&"object"===typeof t)if(ye.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(ye.isArray(t)&&function(t){return ye.isArray(t)&&!t.some(Se)}(t)||(ye.isFileList(t)||ye.endsWith(n,"[]"))&&(o=ye.toArray(t)))return n=ke(n),o.forEach((function(t,i){!ye.isUndefined(t)&&null!==t&&e.append(!0===a?Ee([n],i,r):null===a?n:n+"[]",l(t))})),!1;return!!Se(t)||(e.append(Ee(s,n,r),l(t)),!1)}const u=[],h=Object.assign(Ce,{defaultVisitor:c,convertValue:l,isVisitable:Se});if(!ye.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!ye.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),ye.forEach(n,(function(n,r){!0===(!(ye.isUndefined(n)||null===n)&&s.call(e,n,ye.isString(r)?r.trim():r,i,h))&&t(n,i?i.concat(r):[r])})),u.pop()}}(t),e};function Te(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Re(t,e){this._pairs=[],t&&Me(t,this,e)}const Pe=Re.prototype;Pe.append=function(t,e){this._pairs.push([t,e])},Pe.toString=function(t){const e=t?function(e){return t.call(this,e,Te)}:Te;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Le=Re;function Ne(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fe(t,e,n){if(!e)return t;const i=n&&n.encode||Ne;ye.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let r;if(r=s?s(e,n):ye.isURLSearchParams(e)?e.toString():new Le(e,n).toString(i),r){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}const Ie=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ye.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},De={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Oe(t){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oe(t)}function je(t){var e=function(t,e){if("object"!=Oe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=Oe(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Oe(e)?e:e+""}function We(t,e,n){return(e=je(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Be(Object(n),!0).forEach((function(e){We(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const He={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Le,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ue="undefined"!==typeof window&&"undefined"!==typeof document,Ve="object"===typeof navigator&&navigator||void 0,qe=Ue&&(!Ve||["ReactNative","NativeScript","NS"].indexOf(Ve.product)<0),Ge="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Xe=Ue&&window.location.href||"http://localhost",Ke=ze(ze({},t),He);const Ye=function(t){function e(t,n,i,s){let r=t[s++];if("__proto__"===r)return!0;const a=Number.isFinite(+r),o=s>=t.length;if(r=!r&&ye.isArray(i)?i.length:r,o)return ye.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!a;i[r]&&ye.isObject(i[r])||(i[r]=[]);return e(t,n,i[r],s)&&ye.isArray(i[r])&&(i[r]=function(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}(i[r])),!a}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const n={};return ye.forEachEntry(t,((t,i)=>{e(function(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null};const Qe={transitional:De,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,s=ye.isObject(t);s&&ye.isHTMLForm(t)&&(t=new FormData(t));if(ye.isFormData(t))return i?JSON.stringify(Ye(t)):t;if(ye.isArrayBuffer(t)||ye.isBuffer(t)||ye.isStream(t)||ye.isFile(t)||ye.isBlob(t)||ye.isReadableStream(t))return t;if(ye.isArrayBufferView(t))return t.buffer;if(ye.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let r;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Me(t,new Ke.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return Ke.isNode&&ye.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((r=ye.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Me(r?{"files[]":t}:t,e&&new e,this.formSerializer)}}return s||i?(e.setContentType("application/json",!1),function(t,e,n){if(ye.isString(t))try{return(e||JSON.parse)(t),ye.trim(t)}catch(sw){if("SyntaxError"!==sw.name)throw sw}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Qe.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(ye.isResponse(t)||ye.isReadableStream(t))return t;if(t&&ye.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(sw){if(n){if("SyntaxError"===sw.name)throw _e.from(sw,_e.ERR_BAD_RESPONSE,this,null,this.response);throw sw}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],(t=>{Qe.headers[t]={}}));const $e=Qe,Je=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ze=Symbol("internals");function tn(t){return t&&String(t).trim().toLowerCase()}function en(t){return!1===t||null==t?t:ye.isArray(t)?t.map(en):String(t)}function nn(t,e,n,i,s){return ye.isFunction(i)?i.call(this,e,n):(s&&(e=n),ye.isString(e)?ye.isString(i)?-1!==e.indexOf(i):ye.isRegExp(i)?i.test(e):void 0:void 0)}class sn{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function s(t,e,n){const s=tn(e);if(!s)throw new Error("header name must be a non-empty string");const r=ye.findKey(i,s);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||e]=en(t))}const r=(t,e)=>ye.forEach(t,((t,n)=>s(t,n,e)));if(ye.isPlainObject(t)||t instanceof this.constructor)r(t,e);else if(ye.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))r((t=>{const e={};let n,i,s;return t&&t.split("\n").forEach((function(t){s=t.indexOf(":"),n=t.substring(0,s).trim().toLowerCase(),i=t.substring(s+1).trim(),!n||e[n]&&Je[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e);else if(ye.isHeaders(t))for(const[a,o]of t.entries())s(o,a,n);else null!=t&&s(e,t,n);return this}get(t,e){if(t=tn(t)){const n=ye.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(ye.isFunction(e))return e.call(this,t,n);if(ye.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=tn(t)){const n=ye.findKey(this,t);return!(!n||void 0===this[n]||e&&!nn(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function s(t){if(t=tn(t)){const s=ye.findKey(n,t);!s||e&&!nn(0,n[s],s,e)||(delete n[s],i=!0)}}return ye.isArray(t)?t.forEach(s):s(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const s=e[n];t&&!nn(0,this[s],s,t,!0)||(delete this[s],i=!0)}return i}normalize(t){const e=this,n={};return ye.forEach(this,((i,s)=>{const r=ye.findKey(n,s);if(r)return e[r]=en(i),void delete e[s];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(s):String(s).trim();a!==s&&delete e[s],e[a]=en(i),n[a]=!0})),this}concat(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.constructor.concat(this,...e)}toJSON(t){const e=Object.create(null);return ye.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&ye.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((t=>{let[e,n]=t;return e+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t){const e=new this(t);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.forEach((t=>e.set(t))),e}static accessor(t){const e=(this[Ze]=this[Ze]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=tn(t);e[i]||(!function(t,e){const n=ye.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,s){return this[i].call(this,e,t,n,s)},configurable:!0})}))}(n,t),e[i]=!0)}return ye.isArray(t)?t.forEach(i):i(t),this}}sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ye.reduceDescriptors(sn.prototype,((t,e)=>{let{value:n}=t,i=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(t){this[i]=t}}})),ye.freezeMethods(sn);const rn=sn;function an(t,e){const n=this||$e,i=e||n,s=rn.from(i.headers);let r=i.data;return ye.forEach(t,(function(t){r=t.call(n,r,s.normalize(),e?e.status:void 0)})),s.normalize(),r}function on(t){return!(!t||!t.__CANCEL__)}function ln(t,e,n){_e.call(this,null==t?"canceled":t,_e.ERR_CANCELED,e,n),this.name="CanceledError"}ye.inherits(ln,_e,{__CANCEL__:!0});const cn=ln;function un(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new _e("Request failed with status code "+n.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const hn=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s,r=0,a=0;return e=void 0!==e?e:1e3,function(o){const l=Date.now(),c=i[a];s||(s=l),n[r]=o,i[r]=l;let u=a,h=0;for(;u!==r;)h+=n[u++],u%=t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),l-s<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const dn=function(t,e){let n,i,s=0,r=1e3/e;const a=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=r,n=null,i&&(clearTimeout(i),i=null),t.apply(null,e)};return[function(){const t=Date.now(),e=t-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];e>=r?a(l,t):(n=l,i||(i=setTimeout((()=>{i=null,a(n)}),r-e)))},()=>n&&a(n)]},fn=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const s=hn(50,250);return dn((n=>{const r=n.loaded,a=n.lengthComputable?n.total:void 0,o=r-i,l=s(o);i=r;t({loaded:r,total:a,progress:a?r/a:void 0,bytes:o,rate:l||void 0,estimated:l&&a&&r<=a?(a-r)/l:void 0,event:n,lengthComputable:null!=a,[e?"download":"upload"]:!0})}),n)},pn=(t,e)=>{const n=null!=t;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},gn=t=>function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return ye.asap((()=>t(...n)))},mn=Ke.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ke.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,vn=Ke.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const a=[t+"="+encodeURIComponent(e)];ye.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),ye.isString(i)&&a.push("path="+i),ye.isString(s)&&a.push("domain="+s),!0===r&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function bn(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const yn=t=>t instanceof rn?ze({},t):t;function wn(t,e){e=e||{};const n={};function i(t,e,n,i){return ye.isPlainObject(t)&&ye.isPlainObject(e)?ye.merge.call({caseless:i},t,e):ye.isPlainObject(e)?ye.merge({},e):ye.isArray(e)?e.slice():e}function s(t,e,n,s){return ye.isUndefined(e)?ye.isUndefined(t)?void 0:i(void 0,t,0,s):i(t,e,0,s)}function r(t,e){if(!ye.isUndefined(e))return i(void 0,e)}function a(t,e){return ye.isUndefined(e)?ye.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function o(n,s,r){return r in e?i(n,s):r in t?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(t,e,n)=>s(yn(t),yn(e),0,!0)};return ye.forEach(Object.keys(Object.assign({},t,e)),(function(i){const r=l[i]||s,a=r(t[i],e[i],i);ye.isUndefined(a)&&r!==o||(n[i]=a)})),n}const xn=t=>{const e=wn({},t);let n,{data:i,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:a,headers:o,auth:l}=e;if(e.headers=o=rn.from(o),e.url=Fe(bn(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ye.isFormData(i))if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];o.setContentType([t||"multipart/form-data",...e].join("; "))}if(Ke.hasStandardBrowserEnv&&(s&&ye.isFunction(s)&&(s=s(e)),s||!1!==s&&mn(e.url))){const t=r&&a&&vn.read(a);t&&o.set(r,t)}return e},An="undefined"!==typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const i=xn(t);let s=i.data;const r=rn.from(i.headers).normalize();let a,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i;function p(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(a),i.signal&&i.signal.removeEventListener("abort",a)}let g=new XMLHttpRequest;function m(){if(!g)return;const i=rn.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());un((function(t){e(t),p()}),(function(t){n(t),p()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:t,request:g}),g=null}g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new _e("Request aborted",_e.ECONNABORTED,t,g)),g=null)},g.onerror=function(){n(new _e("Network Error",_e.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let e=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const s=i.transitional||De;i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),n(new _e(e,s.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,t,g)),g=null},void 0===s&&r.setContentType(null),"setRequestHeader"in g&&ye.forEach(r.toJSON(),(function(t,e){g.setRequestHeader(e,t)})),ye.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),h&&"json"!==h&&(g.responseType=i.responseType),f&&([l,u]=fn(f,!0),g.addEventListener("progress",l)),d&&g.upload&&([o,c]=fn(d),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(a=e=>{g&&(n(!e||e.type?new cn(null,t,g):e),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(a),i.signal&&(i.signal.aborted?a():i.signal.addEventListener("abort",a)));const v=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);v&&-1===Ke.protocols.indexOf(v)?n(new _e("Unsupported protocol "+v+":",_e.ERR_BAD_REQUEST,t)):g.send(s||null)}))},_n=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,i=new AbortController;const s=function(t){if(!n){n=!0,a();const e=t instanceof Error?t:this.reason;i.abort(e instanceof _e?e:new cn(e instanceof Error?e.message:e))}};let r=e&&setTimeout((()=>{r=null,s(new _e("timeout ".concat(e," of ms exceeded"),_e.ETIMEDOUT))}),e);const a=()=>{t&&(r&&clearTimeout(r),r=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(s):t.removeEventListener("abort",s)})),t=null)};t.forEach((t=>t.addEventListener("abort",s)));const{signal:o}=i;return o.unsubscribe=()=>ye.asap(a),o}};function Sn(t,e){this.v=t,this.k=e}function kn(t){return function(){return new En(t.apply(this,arguments))}}function En(t){var e,n;function i(e,n){try{var r=t[e](n),a=r.value,o=a instanceof Sn;Promise.resolve(o?a.v:a).then((function(n){if(o){var l="return"===e?"return":"next";if(!a.k||n.done)return i(l,n);n=t[l](n).value}s(r.done?"return":"normal",n)}),(function(t){i("throw",t)}))}catch(t){s("throw",t)}}function s(t,s){switch(t){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):n=null}this._invoke=function(t,s){return new Promise((function(r,a){var o={key:t,arg:s,resolve:r,reject:a,next:null};n?n=n.next=o:(e=n=o,i(t,s))}))},"function"!=typeof t.return&&(this.return=void 0)}function Cn(t){return new Sn(t,0)}function Mn(t){var e={},n=!1;function i(e,i){return n=!0,i=new Promise((function(n){n(t[e](i))})),{done:!1,value:new Sn(i,1)}}return e["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},e.next=function(t){return n?(n=!1,t):i("next",t)},"function"==typeof t.throw&&(e.throw=function(t){if(n)throw n=!1,t;return i("throw",t)}),"function"==typeof t.return&&(e.return=function(t){return n?(n=!1,t):i("return",t)}),e}function Tn(t){var e,n,i,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);s--;){if(n&&null!=(e=t[n]))return e.call(t);if(i&&null!=(e=t[i]))return new Rn(e.call(t));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function Rn(t){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var e=t.done;return Promise.resolve(t.value).then((function(t){return{value:t,done:e}}))}return Rn=function(t){this.s=t,this.n=t.next},Rn.prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(t){var n=this.s.return;return void 0===n?Promise.resolve({value:t,done:!0}):e(n.apply(this.s,arguments))},throw:function(t){var n=this.s.return;return void 0===n?Promise.reject(t):e(n.apply(this.s,arguments))}},new Rn(t)}En.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},En.prototype.next=function(t){return this._invoke("next",t)},En.prototype.throw=function(t){return this._invoke("throw",t)},En.prototype.return=function(t){return this._invoke("return",t)};const Pn=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,s=0;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},Ln=function(){var t=kn((function*(t,e){var n,i=!1,s=!1;try{for(var r,a=Tn(Nn(t));i=!(r=yield Cn(a.next())).done;i=!1){const t=r.value;yield*Mn(Tn(Pn(t,e)))}}catch(o){s=!0,n=o}finally{try{i&&null!=a.return&&(yield Cn(a.return()))}finally{if(s)throw n}}}));return function(e,n){return t.apply(this,arguments)}}(),Nn=function(){var t=kn((function*(t){if(t[Symbol.asyncIterator])return void(yield*Mn(Tn(t)));const e=t.getReader();try{for(;;){const{done:t,value:n}=yield Cn(e.read());if(t)break;yield n}}finally{yield Cn(e.cancel())}}));return function(e){return t.apply(this,arguments)}}(),Fn=(t,e,n,i)=>{const s=Ln(t,e);let r,a=0,o=t=>{r||(r=!0,i&&i(t))};return new ReadableStream({async pull(t){try{const{done:e,value:i}=await s.next();if(e)return o(),void t.close();let r=i.byteLength;if(n){let t=a+=r;n(t)}t.enqueue(new Uint8Array(i))}catch(e){throw o(e),e}},cancel:t=>(o(t),s.return())},{highWaterMark:2})},In="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Dn=In&&"function"===typeof ReadableStream,On=In&&("function"===typeof TextEncoder?(jn=new TextEncoder,t=>jn.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var jn;const Wn=function(t){try{for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return!!t(...n)}catch(sw){return!1}},Bn=Dn&&Wn((()=>{let t=!1;const e=new Request(Ke.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),zn=Dn&&Wn((()=>ye.isReadableStream(new Response("").body))),Hn={stream:zn&&(t=>t.body)};var Un;In&&(Un=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Hn[t]&&(Hn[t]=ye.isFunction(Un[t])?e=>e[t]():(e,n)=>{throw new _e("Response type '".concat(t,"' is not supported"),_e.ERR_NOT_SUPPORT,n)})})));const Vn=async(t,e)=>{const n=ye.toFiniteNumber(t.getContentLength());return null==n?(async t=>{if(null==t)return 0;if(ye.isBlob(t))return t.size;if(ye.isSpecCompliantForm(t)){const e=new Request(Ke.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return ye.isArrayBufferView(t)||ye.isArrayBuffer(t)?t.byteLength:(ye.isURLSearchParams(t)&&(t+=""),ye.isString(t)?(await On(t)).byteLength:void 0)})(e):n},qn=In&&(async t=>{let{url:e,method:n,data:i,signal:s,cancelToken:r,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=xn(t);c=c?(c+"").toLowerCase():"text";let f,p=_n([s,r&&r.toAbortSignal()],a);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let m;try{if(l&&Bn&&"get"!==n&&"head"!==n&&0!==(m=await Vn(u,i))){let t,n=new Request(e,{method:"POST",body:i,duplex:"half"});if(ye.isFormData(i)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body){const[t,e]=pn(m,fn(gn(l)));i=Fn(n.body,65536,t,e)}}ye.isString(h)||(h=h?"include":"omit");const s="credentials"in Request.prototype;f=new Request(e,ze(ze({},d),{},{signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:s?h:void 0}));let r=await fetch(f);const a=zn&&("stream"===c||"response"===c);if(zn&&(o||a&&g)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=r[e]}));const e=ye.toFiniteNumber(r.headers.get("content-length")),[n,i]=o&&pn(e,fn(gn(o),!0))||[];r=new Response(Fn(r.body,65536,n,(()=>{i&&i(),g&&g()})),t)}c=c||"text";let v=await Hn[ye.findKey(Hn,c)||"text"](r,t);return!a&&g&&g(),await new Promise(((e,n)=>{un(e,n,{data:v,headers:rn.from(r.headers),status:r.status,statusText:r.statusText,config:t,request:f})}))}catch(v){if(g&&g(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new _e("Network Error",_e.ERR_NETWORK,t,f),{cause:v.cause||v});throw _e.from(v,v&&v.code,t,f)}}),Gn={http:null,xhr:An,fetch:qn};ye.forEach(Gn,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(sw){}Object.defineProperty(t,"adapterName",{value:e})}}));const Xn=t=>"- ".concat(t),Kn=t=>ye.isFunction(t)||null===t||!1===t,Yn=t=>{t=ye.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){let e;if(n=t[r],i=n,!Kn(n)&&(i=Gn[(e=String(n)).toLowerCase()],void 0===i))throw new _e("Unknown adapter '".concat(e,"'"));if(i)break;s[e||"#"+r]=i}if(!i){const t=Object.entries(s).map((t=>{let[e,n]=t;return"adapter ".concat(e," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=e?t.length>1?"since :\n"+t.map(Xn).join("\n"):" "+Xn(t[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Qn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cn(null,t)}function $n(t){Qn(t),t.headers=rn.from(t.headers),t.data=an.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return Yn(t.adapter||$e.adapter)(t).then((function(e){return Qn(t),e.data=an.call(t,t.transformResponse,e),e.headers=rn.from(e.headers),e}),(function(e){return on(e)||(Qn(t),e&&e.response&&(e.response.data=an.call(t,t.transformResponse,e.response),e.response.headers=rn.from(e.response.headers))),Promise.reject(e)}))}const Jn="1.7.9",Zn={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Zn[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const ti={};Zn.transitional=function(t,e,n){function i(t,e){return"[Axios v1.7.9] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,s,r)=>{if(!1===t)throw new _e(i(s," has been removed"+(e?" in "+e:"")),_e.ERR_DEPRECATED);return e&&!ti[s]&&(ti[s]=!0,console.warn(i(s," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,s,r)}},Zn.spelling=function(t){return(e,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(t)),!0)};const ei={assertOptions:function(t,e,n){if("object"!==typeof t)throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],a=e[r];if(a){const e=t[r],n=void 0===e||a(e,r,t);if(!0!==n)throw new _e("option "+r+" must be "+n,_e.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new _e("Unknown option "+r,_e.ERR_BAD_OPTION)}},validators:Zn},ni=ei.validators;class ii{constructor(t){this.defaults=t,this.interceptors={request:new Ie,response:new Ie}}async request(t,e){try{return await this._request(t,e)}catch(n){if(n instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{n.stack?e&&!String(n.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+e):n.stack=e}catch(sw){}}throw n}}_request(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},e=wn(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:s}=e;void 0!==n&&ei.assertOptions(n,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1),null!=i&&(ye.isFunction(i)?e.paramsSerializer={serialize:i}:ei.assertOptions(i,{encode:ni.function,serialize:ni.function},!0)),ei.assertOptions(e,{baseUrl:ni.spelling("baseURL"),withXsrfToken:ni.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=s&&ye.merge(s.common,s[e.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete s[t]})),e.headers=rn.concat(r,s);const a=[];let o=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!o){const t=[$n.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=a.length;let d=e;for(h=0;h<u;){const t=a[h++],e=a[h++];try{d=t(d)}catch(f){e.call(this,f);break}}try{c=$n.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Fe(bn((t=wn(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}ye.forEach(["delete","get","head","options"],(function(t){ii.prototype[t]=function(e,n){return this.request(wn(n||{},{method:t,url:e,data:(n||{}).data}))}})),ye.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,s){return this.request(wn(s||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}ii.prototype[t]=e(),ii.prototype[t+"Form"]=e(!0)}));const si=ii;class ri{constructor(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,s){n.reason||(n.reason=new cn(t,i,s),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new ri((function(e){t=e})),cancel:t}}}const ai=ri;const oi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oi).forEach((t=>{let[e,n]=t;oi[n]=e}));const li=oi;const ci=function t(e){const n=new si(e),i=Nt(si.prototype.request,n);return ye.extend(i,si.prototype,n,{allOwnKeys:!0}),ye.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(wn(e,n))},i}($e);ci.Axios=si,ci.CanceledError=cn,ci.CancelToken=ai,ci.isCancel=on,ci.VERSION=Jn,ci.toFormData=Me,ci.AxiosError=_e,ci.Cancel=ci.CanceledError,ci.all=function(t){return Promise.all(t)},ci.spread=function(t){return function(e){return t.apply(null,e)}},ci.isAxiosError=function(t){return ye.isObject(t)&&!0===t.isAxiosError},ci.mergeConfig=wn,ci.AxiosHeaders=rn,ci.formToJSON=t=>Ye(ye.isHTMLForm(t)?new FormData(t):t),ci.getAdapter=Yn,ci.HttpStatusCode=li,ci.default=ci;const ui=ci.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:5000/api",timeout:1e4,headers:{"Content-Type":"application/json"}});ui.interceptors.request.use((t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization="Bearer ".concat(e)),t}),(t=>(console.error("Request Error:",t),Promise.reject(t)))),ui.interceptors.response.use((t=>t),(t=>(t.response?(401===t.response.status&&(localStorage.removeItem("authToken"),window.location.href="/login"),console.error("Response Error:",t.response.data)):t.request?console.error("No Response:",t.request):console.error("Error:",t.message),Promise.reject(t))));const hi={get:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ui.get(t,{params:e})},post:(t,e)=>ui.post(t,e),put:(t,e)=>ui.put(t,e),patch:(t,e)=>ui.patch(t,e),delete:t=>ui.delete(t)},di=hi;var fi=n(579);const pi=(0,s.createContext)(null),gi=()=>{const t=(0,s.useContext)(pi);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},mi=()=>{const{user:t,logout:e}=gi();return(0,fi.jsx)("header",{className:"header",children:(0,fi.jsx)("nav",{children:(0,fi.jsxs)("ul",{children:[(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/",children:"Home"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/features",children:"Features"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/dashboard",children:"Dashboard"})}),t?(0,fi.jsxs)(fi.Fragment,{children:[(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/profile",children:"Profile"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)("button",{onClick:e,children:"Logout"})})]}):(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/login",children:"Login"})})]})})})},vi=()=>(0,fi.jsxs)("footer",{className:"bg-navy-800 text-white py-6 mt-12",children:[(0,fi.jsxs)("div",{className:"container mx-auto flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,fi.jsxs)("div",{children:[(0,fi.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Quick Links"}),(0,fi.jsxs)("ul",{className:"space-y-1",children:[(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/",className:"hover:text-emerald-400",children:"Home"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/about",className:"hover:text-emerald-400",children:"About"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/features",className:"hover:text-emerald-400",children:"Features"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/dashboard",className:"hover:text-emerald-400",children:"Dashboard"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/contact",className:"hover:text-emerald-400",children:"Contact"})})]})]}),(0,fi.jsxs)("div",{children:[(0,fi.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Follow Us"}),(0,fi.jsxs)("ul",{className:"flex space-x-4",children:[(0,fi.jsx)("li",{children:(0,fi.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-400",children:"Twitter"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-emerald-400",children:"LinkedIn"})})]})]}),(0,fi.jsxs)("div",{children:[(0,fi.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Legal"}),(0,fi.jsxs)("ul",{className:"space-y-1",children:[(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/privacy-policy",className:"hover:text-emerald-400",children:"Privacy Policy"})}),(0,fi.jsx)("li",{children:(0,fi.jsx)(Rt,{to:"/terms-of-service",className:"hover:text-emerald-400",children:"Terms of Service"})})]})]})]}),(0,fi.jsxs)("div",{className:"text-center mt-6 text-sm border-t border-gray-700 pt-4",children:["\xa9 ",(new Date).getFullYear()," GFVRHO. All Rights Reserved."]})]}),bi=()=>{const t=nt();return(0,fi.jsxs)("section",{className:"relative w-full min-h-screen flex items-center justify-center bg-gray-50 overflow-hidden",children:[(0,fi.jsxs)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"absolute top-0 left-0 w-full h-full object-cover z-0",poster:"https://via.placeholder.com/1920x1080?text=Loading+Video",children:[(0,fi.jsx)("source",{src:"https://www.w3schools.com/html/mov_bbb.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),(0,fi.jsx)("div",{className:"absolute top-0 left-0 w-full h-full bg-black bg-opacity-30 z-0"}),(0,fi.jsxs)("div",{className:"relative z-10 max-w-4xl mx-auto px-4 text-center flex flex-col items-center",children:[(0,fi.jsx)("h1",{className:"text-3xl md:text-5xl font-bold mb-4 text-white",style:{fontFamily:"Poppins"},children:"Submit Your Pitch. Unlock Insights. Accelerate Growth."}),(0,fi.jsx)("p",{className:"text-lg md:text-xl text-white mb-8 max-w-2xl",style:{fontFamily:"Open Sans"},children:"We provide in-depth startup assessments and investment recommendations."}),(0,fi.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,fi.jsx)("button",{onClick:()=>{t("/submit-pitch-deck")},className:"bg-[#00A676] text-white px-6 py-3 rounded font-semibold hover:bg-[#008B62] transition-colors",style:{fontFamily:"Open Sans"},children:"Submit Your Pitch Deck"}),(0,fi.jsx)("button",{onClick:()=>{t("/#how-it-works")},className:"bg-white text-[#003366] px-6 py-3 rounded font-semibold hover:bg-gray-200 transition-colors",style:{fontFamily:"Open Sans"},children:"Explore Our Process"})]})]})]})},yi=()=>{const t=[{id:1,title:"Submit Pitch Deck",description:"Upload your presentation and business data securely to begin the evaluation process.",icon:(0,fi.jsx)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"mx-auto text-[#00A676]",children:(0,fi.jsx)("path",{d:"M15 10l4.55-4.55a2 2 0 00-2.83-2.83L10 7m-7 5l2.55 2.55a2 2 0 002.83 0L17 7"})})},{id:2,title:"Receive a Tailored Report",description:"Our system analyzes your startup\u2019s data, generating a detailed growth and investment report.",icon:(0,fi.jsx)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"mx-auto text-[#00A676]",children:(0,fi.jsx)("path",{d:"M2 12l9 9 12-12"})})},{id:3,title:"Investor Review",description:"Venture capitalists access your report and consider next steps for potential funding.",icon:(0,fi.jsx)("svg",{width:"48",height:"48",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"mx-auto text-[#00A676]",children:(0,fi.jsx)("path",{d:"M17 21v-2a4 4 0 00-4-4H5v-2m0 4v-6a2 2 0 012-2h2m5 0h2a2 2 0 012 2v4"})})}];return(0,fi.jsx)("section",{className:"w-full bg-[#EFEFEF] py-16",children:(0,fi.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,fi.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",style:{fontFamily:"Poppins",color:"#003366"},children:"How It Works"}),(0,fi.jsx)("p",{className:"text-base md:text-lg mb-12 max-w-2xl mx-auto",style:{fontFamily:"Open Sans",color:"#003366"},children:"Follow these three simple steps to submit your pitch and receive a tailored investment report."}),(0,fi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((t=>(0,fi.jsxs)("div",{className:"bg-white rounded shadow p-6 hover:shadow-lg transition-shadow duration-300",children:[(0,fi.jsx)("div",{className:"mb-4 hover:scale-105 transform transition-transform duration-300",children:t.icon}),(0,fi.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Poppins",color:"#003366"},children:t.title}),(0,fi.jsx)("p",{className:"text-sm",style:{fontFamily:"Open Sans",color:"#333"},children:t.description})]},t.id)))}),(0,fi.jsx)("div",{className:"mt-12",children:(0,fi.jsx)("button",{onClick:()=>{console.log("Navigating to Get Started flow...")},className:"bg-[#00A676] text-white px-8 py-3 rounded font-semibold hover:bg-[#008B62] transition-colors",style:{fontFamily:"Open Sans"},children:"Get Started"})})]})})},wi=()=>{const t=[{id:1,title:"Startup Phase Assessment",description:"Identify your current stage and get tailored insights to move forward confidently.",icon:(0,fi.jsx)("svg",{width:"40",height:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"text-[#00A676]",children:(0,fi.jsx)("path",{d:"M4 6h16M4 12h10M4 18h7"})})},{id:2,title:"Growth Strategy Reports",description:"Receive in-depth analysis to scale your operations and drive sustained success.",icon:(0,fi.jsx)("svg",{width:"40",height:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"text-[#00A676]",children:(0,fi.jsx)("path",{d:"M3 3h18M9 3v18M9 14l4 4 8-8"})})},{id:3,title:"VC Dashboard",description:"Venture capitalists can monitor reports, track progress, and stay informed.",icon:(0,fi.jsx)("svg",{width:"40",height:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"text-[#00A676]",children:(0,fi.jsx)("path",{d:"M9 21V8c0-.55.45-1 1-1h4c.55 0 1 .45 1 1v13M12 2v5M5 8h14"})})},{id:4,title:"Resources & Templates",description:"Access ready-to-use materials and guidance to refine pitches and grow faster.",icon:(0,fi.jsx)("svg",{width:"40",height:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",className:"text-[#00A676]",children:(0,fi.jsx)("path",{d:"M6 4v16M10 4v16M2 8h20M2 16h20"})})}];return(0,fi.jsx)("section",{className:"bg-white py-16",children:(0,fi.jsxs)("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[(0,fi.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-6",style:{fontFamily:"Poppins",color:"#003366"},children:"What We Offer"}),(0,fi.jsx)("p",{className:"text-base md:text-lg mb-12 max-w-2xl mx-auto",style:{fontFamily:"Open Sans",color:"#003366"},children:"Explore our tailored solutions that help startups and venture capitalists thrive."}),(0,fi.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((t=>(0,fi.jsxs)("div",{className:"bg-[#EFEFEF] rounded-lg p-6 hover:shadow-md transition-shadow duration-300 flex flex-col items-center",children:[(0,fi.jsx)("div",{className:"mb-4 hover:scale-105 transform transition-transform duration-300",children:t.icon}),(0,fi.jsx)("h3",{className:"text-xl font-semibold mb-2",style:{fontFamily:"Poppins",color:"#003366"},children:t.title}),(0,fi.jsx)("p",{className:"text-sm text-gray-700",style:{fontFamily:"Open Sans"},children:t.description})]},t.id)))})]})})},xi=()=>(0,fi.jsx)("section",{className:"bg-white py-16",children:(0,fi.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,fi.jsx)("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-[#003366]",style:{fontFamily:"Poppins"},children:"Market Opportunity & Financial Reports"}),(0,fi.jsx)("p",{className:"text-base md:text-lg mb-8 max-w-2xl text-[#003366]",style:{fontFamily:"Open Sans"},children:"Dive into key metrics and financial insights to understand how your startup fares in the market, and explore growth potential with targeted data."}),(0,fi.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,fi.jsxs)("div",{className:"bg-[#EFEFEF] p-6 rounded shadow flex flex-col items-center justify-center",children:[(0,fi.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{fontFamily:"Poppins",color:"#003366"},children:"ARR / MRR Trends"}),(0,fi.jsx)("div",{className:"bg-white w-full h-40 flex items-center justify-center",children:(0,fi.jsx)("span",{className:"text-gray-400 italic",style:{fontFamily:"Open Sans"},children:"[ ARR/MRR Chart Placeholder ]"})})]}),(0,fi.jsxs)("div",{className:"bg-[#EFEFEF] p-6 rounded shadow flex flex-col items-center justify-center",children:[(0,fi.jsx)("h3",{className:"text-xl font-semibold mb-4",style:{fontFamily:"Poppins",color:"#003366"},children:"Funding History"}),(0,fi.jsx)("div",{className:"bg-white w-full h-40 flex items-center justify-center",children:(0,fi.jsx)("span",{className:"text-gray-400 italic",style:{fontFamily:"Open Sans"},children:"[ Funding Chart Placeholder ]"})})]})]}),(0,fi.jsxs)("div",{className:"mt-12",children:[(0,fi.jsx)("h3",{className:"text-2xl font-bold mb-2 text-[#003366]",style:{fontFamily:"Poppins"},children:"Total Addressable Market (TAM)"}),(0,fi.jsx)("p",{className:"text-sm md:text-base mb-6 text-gray-700",style:{fontFamily:"Open Sans"},children:"Understanding your TAM is crucial for gauging how big your potential customer base can be. Our analysis estimates the overall market size, offering insights into the competitiveness and scalability of your startup."})]}),(0,fi.jsxs)("div",{className:"flex flex-col sm:flex-row items-center mt-8 bg-[#EFEFEF] p-6 rounded",children:[(0,fi.jsxs)("div",{className:"flex-1 mb-4 sm:mb-0",children:[(0,fi.jsx)("h4",{className:"text-lg font-semibold mb-2 text-[#003366]",style:{fontFamily:"Poppins"},children:"Sample Investment Report"}),(0,fi.jsx)("p",{className:"text-sm text-gray-700",style:{fontFamily:"Open Sans"},children:"Download a sample report to see how we break down financial metrics, market opportunities, and strategic recommendations."})]}),(0,fi.jsx)("button",{onClick:()=>{console.log("Downloading sample report...")},className:"bg-[#00A676] text-white px-6 py-2 rounded font-semibold hover:bg-[#008B62] transition-colors",style:{fontFamily:"Open Sans"},children:"Download Sample"})]})]})}),Ai=()=>(0,fi.jsxs)(fi.Fragment,{children:[(0,fi.jsx)(bi,{}),(0,fi.jsx)(yi,{}),(0,fi.jsx)(wi,{}),(0,fi.jsx)(xi,{})]}),_i=()=>{const[t,e]=(0,s.useState)(""),[n,i]=(0,s.useState)(""),[r,a]=(0,s.useState)(null),o=nt(),{login:l}=gi();return(0,fi.jsxs)("div",{className:"login-page",children:[(0,fi.jsx)("h1",{children:"Login"}),(0,fi.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),a(null);try{const e=await async function(t,e){try{const n=await di.post("/api/auth/login",{email:t,password:e});if(n&&n.data){const{token:t}=n.data;return localStorage.setItem("gfvrho_token",t),t}throw new Error("Login failed: Invalid response from server.")}catch(r){throw r.response&&r.response.data&&r.response.data.error?new Error(r.response.data.error):new Error(r.message||"An error occurred during login.")}}(t,n);l(e),o("/dashboard")}catch(i){a(i.message||"Failed to login. Please try again.")}},children:[(0,fi.jsxs)("div",{children:[(0,fi.jsx)("label",{children:"Email:"}),(0,fi.jsx)("input",{type:"email",value:t,onChange:t=>e(t.target.value),required:!0})]}),(0,fi.jsxs)("div",{children:[(0,fi.jsx)("label",{children:"Password:"}),(0,fi.jsx)("input",{type:"password",value:n,onChange:t=>i(t.target.value),required:!0})]}),r&&(0,fi.jsx)("p",{className:"error",children:r}),(0,fi.jsx)("button",{type:"submit",children:"Login"})]})]})};var Si=n(139),ki=n.n(Si);const Ei=["children","variant","onClick","disabled"],Ci=t=>{let{children:e,variant:n,onClick:i,disabled:s}=t,r=function(t,e){if(null==t)return{};var n,i,s=function(t,e){if(null==t)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.includes(i))continue;n[i]=t[i]}return n}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}(t,Ei);const a={primary:"bg-[#00A676] text-white hover:bg-[#008B62]",secondary:"bg-[#003366] text-white hover:bg-[#002955]",light:"bg-[#EFEFEF] text-[#003366] hover:bg-gray-300"},o=ki()("px-4 py-2 rounded font-semibold focus:outline-none transition-colors",a[n]||a.primary,{"opacity-50 cursor-not-allowed":s});return(0,fi.jsx)("button",ze(ze({type:"button",className:o,onClick:i,disabled:s,style:{fontFamily:"Open Sans"}},r),{},{children:e}))};Ci.defaultProps={variant:"primary",onClick:()=>{},disabled:!1};const Mi=Ci,Ti=t=>{let{label:e,name:n,type:i,value:s,onChange:r,placeholder:a,required:o}=t;return(0,fi.jsxs)("div",{className:"mb-4",children:[e&&(0,fi.jsx)("label",{htmlFor:n,className:"block mb-1 text-sm font-medium text-gray-700",style:{fontFamily:"Poppins"},children:e}),(0,fi.jsx)("input",{id:n,name:n,type:i,value:s,onChange:r,placeholder:a,required:o,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-[#00A676] text-sm",style:{fontFamily:"Open Sans"}})]})};Ti.defaultProps={label:"",type:"text",value:"",onChange:()=>{},placeholder:"",required:!1};const Ri=Ti;const Pi=()=>{const[t,e]=(0,s.useState)([]),[n,i]=(0,s.useState)(""),[r,a]=(0,s.useState)("All"),[o,l]=(0,s.useState)(!0);(0,s.useEffect)((()=>{!async function(){try{l(!0);const t=await async function(){try{return(await di.get("/api/report/all")).data}catch(t){throw t.response&&t.response.data&&t.response.data.error?new Error(t.response.data.error):new Error(t.message||"Failed to fetch reports.")}}();e(t)}catch(t){console.error("Failed to fetch reports:",t)}finally{l(!1)}}()}),[]);const c=t.filter((t=>{const e=t.title.toLowerCase().includes(n.toLowerCase()),i="All"===r||t.status===r;return e&&i}));return(0,fi.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50 text-gray-800",children:[(0,fi.jsx)(mi,{}),(0,fi.jsxs)("main",{className:"flex-1 container mx-auto px-6 py-12",children:[(0,fi.jsx)("h1",{className:"text-4xl font-bold text-[#003366] mb-8",children:"VC Dashboard"}),(0,fi.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 mb-6",children:[(0,fi.jsx)(Ri,{placeholder:"Search Reports...",value:n,onChange:t=>{i(t.target.value)},className:"w-full md:w-1/3"}),(0,fi.jsxs)("select",{value:r,onChange:t=>{a(t.target.value)},className:"w-full md:w-1/4 border border-gray-300 rounded-md p-2",children:[(0,fi.jsx)("option",{value:"All",children:"All"}),(0,fi.jsx)("option",{value:"Completed",children:"Completed"}),(0,fi.jsx)("option",{value:"Pending",children:"Pending"}),(0,fi.jsx)("option",{value:"In Progress",children:"In Progress"})]}),(0,fi.jsx)(Mi,{text:"Refresh",onClick:()=>window.location.reload()})]}),o?(0,fi.jsx)("p",{className:"text-center text-gray-500",children:"Loading reports..."}):c.length>0?(0,fi.jsx)("div",{className:"overflow-x-auto",children:(0,fi.jsxs)("table",{className:"w-full border-collapse bg-white shadow-md rounded-md",children:[(0,fi.jsx)("thead",{className:"bg-[#003366] text-white",children:(0,fi.jsxs)("tr",{children:[(0,fi.jsx)("th",{className:"py-2 px-4 text-left",children:"Report ID"}),(0,fi.jsx)("th",{className:"py-2 px-4 text-left",children:"Title"}),(0,fi.jsx)("th",{className:"py-2 px-4 text-left",children:"Status"}),(0,fi.jsx)("th",{className:"py-2 px-4 text-left",children:"Created At"})]})}),(0,fi.jsx)("tbody",{children:c.map((t=>(0,fi.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,fi.jsx)("td",{className:"py-2 px-4",children:t.id}),(0,fi.jsx)("td",{className:"py-2 px-4",children:t.title}),(0,fi.jsx)("td",{className:"py-2 px-4",children:t.status}),(0,fi.jsx)("td",{className:"py-2 px-4",children:new Date(t.created_at).toLocaleDateString()})]},t.id)))})]})}):(0,fi.jsx)("p",{className:"text-center text-gray-500",children:"No reports found."})]}),(0,fi.jsx)(vi,{})]})},Li=()=>(0,fi.jsxs)("div",{className:"flex flex-col min-h-screen bg-white text-gray-800",children:[(0,fi.jsx)(mi,{}),(0,fi.jsxs)("main",{className:"flex-1 container mx-auto px-6 py-12",children:[(0,fi.jsxs)("section",{className:"text-center mb-12",children:[(0,fi.jsx)("h1",{className:"text-4xl font-bold text-[#003366] mb-4",children:"About Us"}),(0,fi.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Our mission is to empower startups with tailored insights and data-driven reports, enabling them to attract the right venture capital and scale effectively."})]}),(0,fi.jsxs)("section",{className:"my-12",children:[(0,fi.jsx)("h2",{className:"text-2xl font-semibold text-[#00A676] mb-4",children:"Our Mission"}),(0,fi.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"At GFVRHO, we bridge the gap between visionary startups and forward-thinking investors. Our platform delivers comprehensive market insights, growth strategies, and tailored recommendations to help startups thrive in competitive markets."})]}),(0,fi.jsxs)("section",{className:"my-12",children:[(0,fi.jsx)("h2",{className:"text-2xl font-semibold text-[#00A676] mb-4",children:"Meet Our Team"}),(0,fi.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-6",children:[(0,fi.jsxs)("div",{className:"text-center",children:[(0,fi.jsx)("img",{src:"/assets/team/member1.jpg",alt:"Team Member 1",className:"w-32 h-32 rounded-full mx-auto object-cover"}),(0,fi.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Jane Doe"}),(0,fi.jsx)("p",{className:"text-sm text-gray-500",children:"CEO & Founder"})]}),(0,fi.jsxs)("div",{className:"text-center",children:[(0,fi.jsx)("img",{src:"/assets/team/member2.jpg",alt:"Team Member 2",className:"w-32 h-32 rounded-full mx-auto object-cover"}),(0,fi.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"John Smith"}),(0,fi.jsx)("p",{className:"text-sm text-gray-500",children:"CTO"})]}),(0,fi.jsxs)("div",{className:"text-center",children:[(0,fi.jsx)("img",{src:"/assets/team/member3.jpg",alt:"Team Member 3",className:"w-32 h-32 rounded-full mx-auto object-cover"}),(0,fi.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Emily Johnson"}),(0,fi.jsx)("p",{className:"text-sm text-gray-500",children:"Head of Partnerships"})]})]})]}),(0,fi.jsxs)("section",{className:"my-12 text-center",children:[(0,fi.jsx)("h2",{className:"text-2xl font-semibold text-[#00A676] mb-4",children:"Join Our Journey"}),(0,fi.jsx)("p",{className:"text-gray-600 mb-6",children:"Whether you're a startup looking for insights or an investor seeking opportunities, GFVRHO is here to support you every step of the way."}),(0,fi.jsx)("a",{href:"/contact",className:"bg-[#00A676] hover:bg-[#007A5C] text-white font-semibold py-2 px-6 rounded-md",children:"Contact Us"})]})]}),(0,fi.jsx)(vi,{})]}),Ni=[{title:"Startup Phase Assessment",description:"Evaluate and understand your startup\u2019s current phase to better plan your growth strategy.",icon:"\ud83d\ude80"},{title:"Growth Strategy Reports",description:"Receive tailored recommendations to scale your business efficiently.",icon:"\ud83d\udcca"},{title:"VC Dashboard",description:"Access detailed reports and track startup performance in a dedicated dashboard.",icon:"\ud83d\udcc8"},{title:"Resources & Templates",description:"Download resources, templates, and guidelines to streamline your business processes.",icon:"\ud83d\udcc1"}],Fi=()=>(0,fi.jsx)("section",{className:"py-12 bg-gray-50",children:(0,fi.jsxs)("div",{className:"container mx-auto px-4",children:[(0,fi.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-800 mb-8",children:"Platform Features"}),(0,fi.jsx)("p",{className:"text-center text-gray-600 mb-12",children:"Explore the powerful tools and resources designed to help startups and VCs grow."}),(0,fi.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Ni.map(((t,e)=>(0,fi.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200",children:[(0,fi.jsx)("div",{className:"text-4xl text-emerald-500 mb-4 text-center",children:t.icon}),(0,fi.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2 text-center",children:t.title}),(0,fi.jsx)("p",{className:"text-gray-600 text-center",children:t.description})]},e)))})]})});function Ii(t,e,n){e||(e=[]);var i=e.length++;return Object.defineProperty({},"_",{set:function(s){e[i]=s,t.apply(n,e)}})}function Di(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oi(t,e){Di(t,e),e.add(t)}function ji(t,e,n){Di(t,e),e.set(t,n)}function Wi(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Bi(t,e,n){return n(Wi(t,e))}function zi(t,e){return t.get(Wi(t,e))}function Hi(t,e,n){return t.set(Wi(t,e),n),n}var Ui,Vi,qi,Gi,Xi,Ki,Yi,Qi,$i,Ji,Zi,ts,es={d:(t,e)=>{for(var n in e)es.o(e,n)&&!es.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},ns=globalThis.pdfjsLib={};es.d(ns,{AbortException:()=>pr,AnnotationEditorLayer:()=>Lb,AnnotationEditorParamsType:()=>vs,AnnotationEditorType:()=>ms,AnnotationEditorUIManager:()=>Lo,AnnotationLayer:()=>zp,AnnotationMode:()=>gs,ColorPicker:()=>vm,DOMSVGFactory:()=>df,DrawLayer:()=>Vb,FeatureTest:()=>br,GlobalWorkerOptions:()=>ku,ImageKind:()=>ks,InvalidPDFException:()=>ur,MissingPDFException:()=>hr,OPS:()=>Qs,OutputScale:()=>na,PDFDataRangeTransport:()=>_d,PDFDateString:()=>Yr,PDFWorker:()=>Id,PasswordResponses:()=>$s,PermissionFlag:()=>bs,PixelsPerInch:()=>Or,RenderingCancelledException:()=>Br,TextLayer:()=>td,UnexpectedResponseException:()=>dr,Util:()=>wr,VerbosityLevel:()=>Ys,XfaLayer:()=>ff,build:()=>of,createValidAbsoluteUrl:()=>rr,fetchData:()=>jr,getDocument:()=>yd,getFilenameFromUrl:()=>Ur,getPdfFilenameFromUrl:()=>Vr,getXfaPageViewport:()=>$r,isDataScheme:()=>zr,isPdfFile:()=>Hr,noContextMenu:()=>Xr,normalizeUnicode:()=>kr,setLayerDimensions:()=>ea,shadow:()=>ar,version:()=>af});const is="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),ss=[1,0,0,1,0,0],rs=[.001,0,0,.001,0,0],as=1.35,os=1,ls=2,cs=4,us=16,hs=32,ds=64,fs=128,ps=256,gs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},ms={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},vs={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bs={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ys=0,ws=1,xs=2,As=3,_s=3,Ss=4,ks={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Es=1,Cs=2,Ms=3,Ts=4,Rs=5,Ps=6,Ls=7,Ns=8,Fs=9,Is=10,Ds=11,Os=12,js=13,Ws=14,Bs=15,zs=16,Hs=17,Us=20,Vs=1,qs=2,Gs=3,Xs=4,Ks=5,Ys={ERRORS:0,WARNINGS:1,INFOS:5},Qs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},$s={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Js=Ys.WARNINGS;function Zs(t){Number.isInteger(t)&&(Js=t)}function tr(){return Js}function er(t){Js>=Ys.INFOS&&console.log("Info: ".concat(t))}function nr(t){Js>=Ys.WARNINGS&&console.log("Warning: ".concat(t))}function ir(t){throw new Error(t)}function sr(t,e){t||ir(e)}function rr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"===typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){const e=t.match(/\./g);(null===e||void 0===e?void 0:e.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=decodeURIComponent(escape(t))}catch(i){}}const s=e?new URL(t,e):new URL(t);if(function(t){switch(null===t||void 0===t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(s))return s}catch(s){}return null}function ar(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const or=function(){function t(t,e){this.message=t,this.name=e}return t.prototype=new Error,t.constructor=t,t}();class lr extends or{constructor(t,e){super(t,"PasswordException"),this.code=e}}class cr extends or{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class ur extends or{constructor(t){super(t,"InvalidPDFException")}}class hr extends or{constructor(t){super(t,"MissingPDFException")}}class dr extends or{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class fr extends or{constructor(t){super(t,"FormatError")}}class pr extends or{constructor(t){super(t,"AbortException")}}function gr(t){"object"===typeof t&&void 0!==(null===t||void 0===t?void 0:t.length)||ir("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let s=0;s<e;s+=n){const r=Math.min(s+n,e),a=t.subarray(s,r);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function mr(t){"string"!==typeof t&&ir("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=255&t.charCodeAt(i);return n}function vr(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}class br{static get isLittleEndian(){return ar(this,"isLittleEndian",function(){const t=new Uint8Array(4);return t[0]=1,1===new Uint32Array(t.buffer,0,1)[0]}())}static get isEvalSupported(){return ar(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}static get isOffscreenCanvasSupported(){return ar(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var t,e;return"undefined"!==typeof navigator&&"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.platform)?ar(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&navigator.userAgent.includes("Firefox")}):ar(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var t,e;return ar(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const yr=Array.from(Array(256).keys(),(t=>t.toString(16).padStart(2,"0")));class wr{static makeHexColor(t,e,n){return"#".concat(yr[t]).concat(yr[e]).concat(yr[n])}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),s=this.applyTransform([t[0],t[3]],e),r=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],i[0],s[0],r[0]),Math.min(n[1],i[1],s[1],r[1]),Math.max(n[0],i[0],s[0],r[0]),Math.max(n[1],i[1],s[1],r[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],s=t[2]*e[0]+t[3]*e[2],r=t[2]*e[1]+t[3]*e[3],a=(n+r)/2,o=Math.sqrt((n+r)**2-4*(n*r-s*i))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>i)return null;const s=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),r=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return s>r?null:[n,s,i,r]}static bezierBoundingBox(t,e,n,i,s,r,a,o,l){return l?(l[0]=Math.min(l[0],t,a),l[1]=Math.min(l[1],e,o),l[2]=Math.max(l[2],t,a),l[3]=Math.max(l[3],e,o)):l=[Math.min(t,a),Math.min(e,o),Math.max(t,a),Math.max(e,o)],Wi(wr,this,Ar).call(this,t,n,s,a,e,i,r,o,3*(3*(n-s)-t+a),6*(t-2*n+s),3*(n-t),l),Wi(wr,this,Ar).call(this,t,n,s,a,e,i,r,o,3*(3*(i-r)-e+o),6*(e-2*i+r),3*(i-e),l),l}}function xr(t,e,n,i,s,r,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,f=u*(u*(u*t+3*l*e)+3*h*n)+d*i,p=u*(u*(u*s+3*l*r)+3*h*a)+d*o;c[0]=Math.min(c[0],f),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],f),c[3]=Math.max(c[3],p)}function Ar(t,e,n,i,s,r,a,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&Wi(Ui,this,xr).call(this,t,e,n,i,s,r,a,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const f=Math.sqrt(d),p=2*l;Wi(Ui,this,xr).call(this,t,e,n,i,s,r,a,o,(-c+f)/p,h),Wi(Ui,this,xr).call(this,t,e,n,i,s,r,a,o,(-c-f)/p,h)}Ui=wr;let _r=null,Sr=null;function kr(t){return _r||(_r=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Sr=new Map([["\ufb05","\u017ft"]])),t.replaceAll(_r,((t,e,n)=>e?e.normalize("NFKC"):Sr.get(n)))}const Er="pdfjs_internal_id_",Cr=0,Mr=1,Tr=2,Rr=3,Pr=4,Lr=5,Nr=6,Fr=7,Ir=8;const Dr="http://www.w3.org/2000/svg";class Or{}async function jr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Gr(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,i)=>{const s=new XMLHttpRequest;s.open("GET",t,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE)if(200!==s.status&&0!==s.status)i(new Error(s.statusText));else{switch(e){case"arraybuffer":case"blob":case"json":return void n(s.response)}n(s.responseText)}},s.send(null)}))}Vi=Or,We(Or,"CSS",96),We(Or,"PDF",72),We(Or,"PDF_TO_CSS_UNITS",Vi.CSS/Vi.PDF);class Wr{constructor(t){let{viewBox:e,scale:n,rotation:i,offsetX:s=0,offsetY:r=0,dontFlip:a=!1}=t;this.viewBox=e,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=r;const o=(e[2]+e[0])/2,l=(e[3]+e[1])/2;let c,u,h,d,f,p,g,m;switch(i%=360,i<0&&(i+=360),i){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,d=-d),0===c?(f=Math.abs(l-e[1])*n+s,p=Math.abs(o-e[0])*n+r,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(f=Math.abs(o-e[0])*n+s,p=Math.abs(l-e[1])*n+r,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[c*n,u*n,h*n,d*n,f-c*n*o-h*n*l,p-u*n*o-d*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:t}=this;return ar(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone(){let{scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wr({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(t,e){return wr.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=wr.applyTransform([t[0],t[1]],this.transform),n=wr.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return wr.applyInverseTransform([t,e],this.transform)}}class Br extends or{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(t,"RenderingCancelledException"),this.extraDelay=e}}function zr(t){const e=t.length;let n=0;for(;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function Hr(t){return"string"===typeof t&&/\.pdf$/i.test(t)}function Ur(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Vr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof t)return e;if(zr(t))return nr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch(r){}return s||e}class qr{constructor(){We(this,"started",Object.create(null)),We(this,"times",[])}time(t){t in this.started&&nr("Timer is already running for ".concat(t)),this.started[t]=Date.now()}timeEnd(t){t in this.started||nr("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:i,end:s}of this.times)t.push("".concat(n.padEnd(e)," ").concat(s-i,"ms\n"));return t.join("")}}function Gr(t,e){try{const{protocol:n}=e?new URL(t,e):new URL(t);return"http:"===n||"https:"===n}catch(n){return!1}}function Xr(t){t.preventDefault()}function Kr(t){console.log("Deprecated API usage: "+t)}class Yr{static toDateObject(t){if(!t||"string"!==typeof t)return null;Wi(Yr,this,Qr)._||(Qr._=Wi(Yr,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const e=Wi(Yr,this,Qr)._.exec(t);if(!e)return null;const n=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(e[3],10);s=s>=1&&s<=31?s:1;let r=parseInt(e[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(e[6],10);o=o>=0&&o<=59?o:0;const l=e[7]||"Z";let c=parseInt(e[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(e[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(r+=c,a+=u):"+"===l&&(r-=c,a-=u),new Date(Date.UTC(n,i,s,r,a,o))}}var Qr={_:void 0};function $r(t,e){let{scale:n=1,rotation:i=0}=e;const{width:s,height:r}=t.attributes.style,a=[0,0,parseInt(s),parseInt(r)];return new Wr({viewBox:a,scale:n,rotation:i})}function Jr(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((t=>parseInt(t))):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((t=>parseInt(t))).slice(0,3):(nr('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function Zr(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform();return[e,n,i,s,r,a]}function ta(t){const{a:e,b:n,c:i,d:s,e:r,f:a}=t.getTransform().invertSelf();return[e,n,i,s,r,a]}function ea(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof Wr){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:r}=t,a=br.isCSSRoundSupported,o="var(--scale-factor) * ".concat(i,"px"),l="var(--scale-factor) * ".concat(s,"px"),c=a?"round(down, ".concat(o,", var(--scale-round-x, 1px))"):"calc(".concat(o,")"),u=a?"round(down, ".concat(l,", var(--scale-round-y, 1px))"):"calc(".concat(l,")");n&&e.rotation%180!==0?(r.width=u,r.height=c):(r.width=c,r.height=u)}i&&t.setAttribute("data-main-rotation",e.rotation)}class na{constructor(){const t=window.devicePixelRatio||1;this.sx=t,this.sy=t}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}var ia=new WeakMap,sa=new WeakMap,ra=new WeakMap,aa=new WeakMap,oa=new WeakMap,la=new WeakSet;class ca{constructor(t){Oi(this,la),ji(this,ia,null),ji(this,sa,null),ji(this,ra,void 0),ji(this,aa,null),ji(this,oa,null),Hi(ra,this,t),ma._||(ma._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const t=Hi(ia,this,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=zi(ra,this)._uiManager._signal;t.addEventListener("contextmenu",Xr,{signal:e}),t.addEventListener("pointerdown",ua,{signal:e});const n=Hi(aa,this,document.createElement("div"));n.className="buttons",t.append(n);const i=zi(ra,this).toolbarPosition;if(i){const{style:e}=t,n="ltr"===zi(ra,this)._uiManager.direction?1-i[0]:i[0];e.insetInlineEnd="".concat(100*n,"%"),e.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return Wi(la,this,pa).call(this),t}get div(){return zi(ia,this)}hide(){var t;zi(ia,this).classList.add("hidden"),null===(t=zi(sa,this))||void 0===t||t.hideDropdown()}show(){var t;zi(ia,this).classList.remove("hidden"),null===(t=zi(oa,this))||void 0===t||t.shown()}async addAltText(t){const e=await t.render();Wi(la,this,fa).call(this,e),zi(aa,this).prepend(e,Bi(la,this,ga)),Hi(oa,this,t)}addColorPicker(t){Hi(sa,this,t);const e=t.renderButton();Wi(la,this,fa).call(this,e),zi(aa,this).prepend(e,Bi(la,this,ga))}remove(){var t;zi(ia,this).remove(),null===(t=zi(sa,this))||void 0===t||t.destroy(),Hi(sa,this,null)}}function ua(t){t.stopPropagation()}function ha(t){zi(ra,this)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}function da(t){zi(ra,this)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}function fa(t){const e=zi(ra,this)._uiManager._signal;t.addEventListener("focusin",Wi(la,this,ha).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",Wi(la,this,da).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Xr,{signal:e})}function pa(){const{editorType:t,_uiManager:e}=zi(ra,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",ma._[t]),Wi(la,this,fa).call(this,n),n.addEventListener("click",(t=>{e.delete()}),{signal:e._signal}),zi(aa,this).append(n)}function ga(t){const e=document.createElement("div");return e.className="divider",e}var ma={_:null},va=new WeakMap,ba=new WeakMap,ya=new WeakMap,wa=new WeakSet;class xa{constructor(t){Oi(this,wa),ji(this,va,null),ji(this,ba,null),ji(this,ya,void 0),Hi(ya,this,t)}show(t,e,n){const[i,s]=Wi(wa,this,_a).call(this,e,n),{style:r}=zi(ba,this)||Hi(ba,this,Wi(wa,this,Aa).call(this));t.append(zi(ba,this)),r.insetInlineEnd="".concat(100*i,"%"),r.top="calc(".concat(100*s,"% + var(--editor-toolbar-vert-offset))")}hide(){zi(ba,this).remove()}}function Aa(){const t=Hi(ba,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Xr,{signal:zi(ya,this)._signal});const e=Hi(va,this,document.createElement("div"));return e.className="buttons",t.append(e),Wi(wa,this,Sa).call(this),t}function _a(t,e){let n=0,i=0;for(const s of t){const t=s.y+s.height;if(t<n)continue;const r=s.x+(e?s.width:0);t>n?(i=r,n=t):e?r>i&&(i=r):r<i&&(i=r)}return[e?1-i:i,n]}function Sa(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=zi(ya,this)._signal;t.addEventListener("contextmenu",Xr,{signal:n}),t.addEventListener("click",(()=>{zi(ya,this).highlightSelection("floating_button")}),{signal:n}),zi(va,this).append(t)}function ka(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var Ea=new WeakMap;class Ca{constructor(){ji(this,Ea,0)}get id(){var t,e;return"".concat("pdfjs_internal_editor_").concat((Hi(Ea,this,(t=zi(Ea,this),e=t++,t)),e))}}var Ma=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Pa=new WeakSet;class La{constructor(){Oi(this,Pa),ji(this,Ma,function(){var t,e;if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.getRandomValues))crypto.getRandomValues(n);else for(let i=0;i<32;i++)n[i]=Math.floor(255*Math.random());return gr(n)}()),ji(this,Ta,0),ji(this,Ra,null)}static get _isSVGFittingCanvas(){const t=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return ar(this,"_isSVGFittingCanvas",e.decode().then((()=>(t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(t){const{lastModified:e,name:n,size:i,type:s}=t;return Wi(Pa,this,Na).call(this,"".concat(e,"_").concat(n,"_").concat(i,"_").concat(s),t)}async getFromUrl(t){return Wi(Pa,this,Na).call(this,t,t)}async getFromBlob(t,e){const n=await e;return Wi(Pa,this,Na).call(this,t,n)}async getFromId(t){zi(Ra,this)||Hi(Ra,this,new Map);const e=zi(Ra,this).get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:t}=e;return delete e.blobPromise,this.getFromBlob(e.id,t)}return this.getFromUrl(e.url)}getFromCanvas(t,e){var n,i,s;zi(Ra,this)||Hi(Ra,this,new Map);let r=zi(Ra,this).get(t);if(null!==(s=r)&&void 0!==s&&s.bitmap)return r.refCounter+=1,r;const a=new OffscreenCanvas(e.width,e.height);return a.getContext("2d").drawImage(e,0,0),r={bitmap:a.transferToImageBitmap(),id:"image_".concat(zi(Ma,this),"_").concat((Hi(Ta,this,(n=zi(Ta,this),i=n++,n)),i)),refCounter:1,isSvg:!1},zi(Ra,this).set(t,r),zi(Ra,this).set(r.id,r),r}getSvgUrl(t){const e=zi(Ra,this).get(t);return null!==e&&void 0!==e&&e.isSvg?e.svgUrl:null}deleteId(t){var e;zi(Ra,this)||Hi(Ra,this,new Map);const n=zi(Ra,this).get(t);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const t=new OffscreenCanvas(i.width,i.height);t.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=t.convertToBlob()}null===(e=i.close)||void 0===e||e.call(i),n.bitmap=null}isValidId(t){return t.startsWith("image_".concat(zi(Ma,this),"_"))}}async function Na(t,e){var n;zi(Ra,this)||Hi(Ra,this,new Map);let i=zi(Ra,this).get(t);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var s,r;let t;if(i||(i={bitmap:null,id:"image_".concat(zi(Ma,this),"_").concat((Hi(Ta,this,(s=zi(Ta,this),r=s++,s)),r)),refCounter:0,isSvg:!1}),"string"===typeof e?(i.url=e,t=await jr(e,"blob")):e instanceof File?t=i.file=e:e instanceof Blob&&(t=e),"image/svg+xml"===t.type){const e=qi._isSVGFittingCanvas,n=new FileReader,s=new Image,r=new Promise(((t,r)=>{s.onload=()=>{i.bitmap=s,i.isSvg=!0,t()},n.onload=async()=>{const t=i.svgUrl=n.result;s.src=await e?"".concat(t,"#svgView(preserveAspectRatio(none))"):t},s.onerror=n.onerror=r}));n.readAsDataURL(t),await r}else i.bitmap=await createImageBitmap(t);i.refCounter=1}catch(sw){console.error(sw),i=null}return zi(Ra,this).set(t,i),i&&zi(Ra,this).set(i.id,i),i}qi=La;var Fa=new WeakMap,Ia=new WeakMap,Da=new WeakMap,Oa=new WeakMap;class ja{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;ji(this,Fa,[]),ji(this,Ia,!1),ji(this,Da,void 0),ji(this,Oa,-1),Hi(Da,this,t)}add(t){let{cmd:e,undo:n,post:i,mustExec:s,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=t;if(s&&e(),zi(Ia,this))return;const l={cmd:e,undo:n,post:i,type:r};if(-1===zi(Oa,this))return zi(Fa,this).length>0&&(zi(Fa,this).length=0),Hi(Oa,this,0),void zi(Fa,this).push(l);if(a&&zi(Fa,this)[zi(Oa,this)].type===r)return o&&(l.undo=zi(Fa,this)[zi(Oa,this)].undo),void(zi(Fa,this)[zi(Oa,this)]=l);const c=zi(Oa,this)+1;c===zi(Da,this)?zi(Fa,this).splice(0,1):(Hi(Oa,this,c),c<zi(Fa,this).length&&zi(Fa,this).splice(c)),zi(Fa,this).push(l)}undo(){if(-1===zi(Oa,this))return;Hi(Ia,this,!0);const{undo:t,post:e}=zi(Fa,this)[zi(Oa,this)];t(),null===e||void 0===e||e(),Hi(Ia,this,!1),Hi(Oa,this,zi(Oa,this)-1)}redo(){if(zi(Oa,this)<zi(Fa,this).length-1){Hi(Oa,this,zi(Oa,this)+1),Hi(Ia,this,!0);const{cmd:t,post:e}=zi(Fa,this)[zi(Oa,this)];t(),null===e||void 0===e||e(),Hi(Ia,this,!1)}}hasSomethingToUndo(){return-1!==zi(Oa,this)}hasSomethingToRedo(){return zi(Oa,this)<zi(Fa,this).length-1}destroy(){Hi(Fa,this,null)}}var Wa=new WeakSet;class Ba{constructor(t){Oi(this,Wa),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=br.platform;for(const[n,i,s={}]of t)for(const t of n){const n=t.startsWith("mac+");e&&n?(this.callbacks.set(t.slice(4),{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1))):e||n||(this.callbacks.set(t,{callback:i,options:s}),this.allKeys.add(t.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(Wi(Wa,this,za).call(this,e));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:r=[],checker:a=null}}=n;a&&!a(t,e)||(i.bind(t,...r,e)(),s||(e.stopPropagation(),e.preventDefault()))}}function za(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}class Ha{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return function(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,Jr(i))}e.remove()}(t),ar(this,"_colors",t)}convert(t){const e=Jr(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,i]of this._colors)if(i.every(((t,n)=>t===e[n])))return Ha._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?wr.makeHexColor(...e):t}}We(Ha,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Ua=new WeakMap,Va=new WeakMap,qa=new WeakMap,Ga=new WeakMap,Xa=new WeakMap,Ka=new WeakMap,Ya=new WeakMap,Qa=new WeakMap,$a=new WeakMap,Ja=new WeakMap,Za=new WeakMap,to=new WeakMap,eo=new WeakMap,no=new WeakMap,io=new WeakMap,so=new WeakMap,ro=new WeakMap,ao=new WeakMap,oo=new WeakMap,lo=new WeakMap,co=new WeakMap,uo=new WeakMap,ho=new WeakMap,fo=new WeakMap,po=new WeakMap,go=new WeakMap,mo=new WeakMap,vo=new WeakMap,bo=new WeakMap,yo=new WeakMap,wo=new WeakMap,xo=new WeakMap,Ao=new WeakMap,_o=new WeakMap,So=new WeakMap,ko=new WeakMap,Eo=new WeakMap,Co=new WeakMap,Mo=new WeakMap,To=new WeakMap,Ro=new WeakMap,Po=new WeakSet;class Lo{static get _keyboardManager(){const t=Lo.prototype,e=t=>zi(Mo,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl(),n=(t,e)=>{let{target:n}=e;if(n instanceof HTMLInputElement){const{type:t}=n;return"text"!==t&&"number"!==t}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return ar(this,"_keyboardManager",new Ba([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&zi(Mo,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(t,e)=>{let{target:n}=e;return!(n instanceof HTMLButtonElement)&&zi(Mo,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}]]))}constructor(t,e,n,i,s,r,a,o,l,c,u){Oi(this,Po),ji(this,Ua,new AbortController),ji(this,Va,null),ji(this,qa,new Map),ji(this,Ga,new Map),ji(this,Xa,null),ji(this,Ka,null),ji(this,Ya,null),ji(this,Qa,new ja),ji(this,$a,null),ji(this,Ja,0),ji(this,Za,new Set),ji(this,to,null),ji(this,eo,null),ji(this,no,new Set),ji(this,io,!1),ji(this,so,!1),ji(this,ro,!1),ji(this,ao,null),ji(this,oo,null),ji(this,lo,null),ji(this,co,null),ji(this,uo,!1),ji(this,ho,null),ji(this,fo,new Ca),ji(this,po,!1),ji(this,go,!1),ji(this,mo,null),ji(this,vo,null),ji(this,bo,null),ji(this,yo,null),ji(this,wo,ms.NONE),ji(this,xo,new Set),ji(this,Ao,null),ji(this,_o,null),ji(this,So,null),ji(this,ko,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),ji(this,Eo,[0,0]),ji(this,Co,null),ji(this,Mo,null),ji(this,To,null),ji(this,Ro,null);const h=this._signal=zi(Ua,this).signal;Hi(Mo,this,t),Hi(To,this,e),Hi(Xa,this,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:h}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),i._on("setpreference",this.onSetPreference.bind(this),{signal:h}),i._on("switchannotationeditorparams",(t=>this.updateParams(t.type,t.value)),{signal:h}),Wi(Po,this,jo).call(this),Wi(Po,this,qo).call(this),Wi(Po,this,zo).call(this),Hi(Ka,this,s.annotationStorage),Hi(ao,this,s.filterFactory),Hi(_o,this,r),Hi(co,this,a||null),Hi(io,this,o),Hi(so,this,l),Hi(ro,this,c),Hi(yo,this,u||null),this.viewParameters={realScale:Or.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var t,e,n,i;null===(t=zi(Ro,this))||void 0===t||t.resolve(),Hi(Ro,this,null),null===(e=zi(Ua,this))||void 0===e||e.abort(),Hi(Ua,this,null),this._signal=null;for(const s of zi(Ga,this).values())s.destroy();zi(Ga,this).clear(),zi(qa,this).clear(),zi(no,this).clear(),Hi(Va,this,null),zi(xo,this).clear(),zi(Qa,this).destroy(),null===(n=zi(Xa,this))||void 0===n||n.destroy(),null===(i=zi(ho,this))||void 0===i||i.hide(),Hi(ho,this,null),zi(oo,this)&&(clearTimeout(zi(oo,this)),Hi(oo,this,null)),zi(Co,this)&&(clearTimeout(zi(Co,this)),Hi(Co,this,null))}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return zi(yo,this)}get useNewAltTextFlow(){return zi(so,this)}get useNewAltTextWhenAddingImage(){return zi(ro,this)}get hcmFilter(){return ar(this,"hcmFilter",zi(_o,this)?zi(ao,this).addHCMFilter(zi(_o,this).foreground,zi(_o,this).background):"none")}get direction(){return ar(this,"direction",getComputedStyle(zi(Mo,this)).direction)}get highlightColors(){return ar(this,"highlightColors",zi(co,this)?new Map(zi(co,this).split(",").map((t=>t.split("=").map((t=>t.trim()))))):null)}get highlightColorNames(){return ar(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(t=>t.reverse()))):null)}setMainHighlightColorPicker(t){Hi(bo,this,t)}editAltText(t){var e;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(e=zi(Xa,this))||void 0===e||e.editAltText(this,t,n)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference(t){let{name:e,value:n}=t;if("enableNewAltTextWhenAddingImage"===e)Hi(ro,this,n)}onPageChanging(t){let{pageNumber:e}=t;Hi(Ja,this,e-1)}focusMainContainer(){zi(Mo,this).focus()}findParent(t,e){for(const n of zi(Ga,this).values()){const{x:i,y:s,width:r,height:a}=n.div.getBoundingClientRect();if(t>=i&&t<=i+r&&e>=s&&e<=s+a)return n}return null}disableUserSelect(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];zi(To,this).classList.toggle("noUserSelect",t)}addShouldRescale(t){zi(no,this).add(t)}removeShouldRescale(t){zi(no,this).delete(t)}onScaleChanging(t){let{scale:e}=t;this.commitOrRemove(),this.viewParameters.realScale=e*Or.PDF_TO_CSS_UNITS;for(const n of zi(no,this))n.onScaleChanging()}onRotationChanging(t){let{pagesRotation:e}=t;this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r}=e,a=e.toString(),o=Wi(Po,this,No).call(this,e).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;e.empty();const c=Wi(Po,this,Fo).call(this,o),u=zi(wo,this)===ms.NONE,h=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:l,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:r,text:a}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(ms.HIGHLIGHT,h):h()}addToAnnotationStorage(t){t.isEmpty()||!zi(Ka,this)||zi(Ka,this).has(t.id)||zi(Ka,this).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,zi(uo,this)&&(Hi(uo,this,!1),Wi(Po,this,Oo).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of zi(xo,this))if(e.div.contains(t)){Hi(vo,this,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!zi(vo,this))return;const[t,e]=zi(vo,this);Hi(vo,this,null),e.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),e.focus()}addEditListeners(){Wi(Po,this,zo).call(this),Wi(Po,this,Uo).call(this)}removeEditListeners(){Wi(Po,this,Ho).call(this),Wi(Po,this,Vo).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of zi(eo,this))if(n.isHandlingMimeForPasting(e))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}drop(t){for(const e of t.dataTransfer.items)for(const n of zi(eo,this))if(n.isHandlingMimeForPasting(e.type))return n.paste(e,this.currentLayer),void t.preventDefault()}copy(t){var e;if(t.preventDefault(),null===(e=zi(Va,this))||void 0===e||e.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of zi(xo,this)){const t=i.serialize(!0);t&&n.push(t)}0!==n.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const t of zi(eo,this))if(t.isHandlingMimeForPasting(r.type))return void t.paste(r,this.currentLayer);let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){return void nr('paste: "'.concat(s.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const t=[];for(const r of n){const e=await i.deserialize(r);if(!e)return;t.push(e)}const e=()=>{for(const e of t)Wi(Po,this,Qo).call(this,e);Wi(Po,this,Zo).call(this,t)},s=()=>{for(const e of t)e.remove()};this.addCommands({cmd:e,undo:s,mustExec:!0})}catch(s){nr('paste: "'.concat(s.message,'".'))}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),zi(wo,this)===ms.NONE||this.isEditorHandlingKeyboard||Lo._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,zi(uo,this)&&(Hi(uo,this,!1),Wi(Po,this,Oo).call(this,"main_toolbar")))}onEditingAction(t){let{name:e}=t;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(t){t?(Wi(Po,this,Wo).call(this),Wi(Po,this,Uo).call(this),Wi(Po,this,Go).call(this,{isEditing:zi(wo,this)!==ms.NONE,isEmpty:Wi(Po,this,Jo).call(this),hasSomethingToUndo:zi(Qa,this).hasSomethingToUndo(),hasSomethingToRedo:zi(Qa,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(Wi(Po,this,Bo).call(this),Wi(Po,this,Vo).call(this),Wi(Po,this,Go).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!zi(eo,this)){Hi(eo,this,t);for(const t of zi(eo,this))Wi(Po,this,Xo).call(this,t.defaultPropertiesToUpdate)}}getId(){return zi(fo,this).id}get currentLayer(){return zi(Ga,this).get(zi(Ja,this))}getLayer(t){return zi(Ga,this).get(t)}get currentPageIndex(){return zi(Ja,this)}addLayer(t){zi(Ga,this).set(t.pageIndex,t),zi(po,this)?t.enable():t.disable()}removeLayer(t){zi(Ga,this).delete(t.pageIndex)}async updateMode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(zi(wo,this)!==t&&(!zi(Ro,this)||(await zi(Ro,this).promise,zi(Ro,this)))){if(Hi(Ro,this,Promise.withResolvers()),Hi(wo,this,t),t===ms.NONE)return this.setEditingState(!1),Wi(Po,this,Yo).call(this),void zi(Ro,this).resolve();this.setEditingState(!0),await Wi(Po,this,Ko).call(this),this.unselectAll();for(const e of zi(Ga,this).values())e.updateMode(t);if(!e)return n&&this.addNewEditorFromKeyboard(),void zi(Ro,this).resolve();for(const t of zi(qa,this).values())t.annotationElementId===e?(this.setSelected(t),t.enterInEditMode()):t.unselect();zi(Ro,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==zi(wo,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(zi(eo,this)){switch(t){case vs.CREATE:return void this.currentLayer.addNewEditor();case vs.HIGHLIGHT_DEFAULT_COLOR:null===(n=zi(bo,this))||void 0===n||n.updateColor(e);break;case vs.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(zi(So,this)||Hi(So,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}for(const n of zi(xo,this))n.updateParams(t,e);for(const n of zi(eo,this))n.updateDefaultParams(t,e)}}showAllEditors(t,e){var n,i;for(const s of zi(qa,this).values())s.editorType===t&&s.show(e);(null===(n=null===(i=zi(So,this))||void 0===i?void 0:i.get(vs.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&Wi(Po,this,Xo).call(this,[[vs.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(zi(go,this)!==t){Hi(go,this,t);for(const e of zi(Ga,this).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of zi(qa,this).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return zi(qa,this).get(t)}addEditor(t){zi(qa,this).set(t.id,t)}removeEditor(t){var e;(t.div.contains(document.activeElement)&&(zi(oo,this)&&clearTimeout(zi(oo,this)),Hi(oo,this,setTimeout((()=>{this.focusMainContainer(),Hi(oo,this,null)}),0))),zi(qa,this).delete(t.id),this.unselect(t),t.annotationElementId&&zi(Za,this).has(t.annotationElementId))||(null===(e=zi(Ka,this))||void 0===e||e.remove(t.id))}addDeletedAnnotationElement(t){zi(Za,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return zi(Za,this).has(t)}removeDeletedAnnotationElement(t){zi(Za,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){zi(Va,this)!==t&&(Hi(Va,this,t),t&&Wi(Po,this,Xo).call(this,t.propertiesToUpdate))}updateUI(t){Bi(Po,this,$o)===t&&Wi(Po,this,Xo).call(this,t.propertiesToUpdate)}toggleSelected(t){if(zi(xo,this).has(t))return zi(xo,this).delete(t),t.unselect(),void Wi(Po,this,Go).call(this,{hasSelectedEditor:this.hasSelection});zi(xo,this).add(t),t.select(),Wi(Po,this,Xo).call(this,t.propertiesToUpdate),Wi(Po,this,Go).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of zi(xo,this))e!==t&&e.unselect();zi(xo,this).clear(),zi(xo,this).add(t),t.select(),Wi(Po,this,Xo).call(this,t.propertiesToUpdate),Wi(Po,this,Go).call(this,{hasSelectedEditor:!0})}isSelected(t){return zi(xo,this).has(t)}get firstSelectedEditor(){return zi(xo,this).values().next().value}unselect(t){t.unselect(),zi(xo,this).delete(t),Wi(Po,this,Go).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==zi(xo,this).size}get isEnterHandled(){return 1===zi(xo,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){zi(Qa,this).undo(),Wi(Po,this,Go).call(this,{hasSomethingToUndo:zi(Qa,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Wi(Po,this,Jo).call(this)})}redo(){zi(Qa,this).redo(),Wi(Po,this,Go).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:zi(Qa,this).hasSomethingToRedo(),isEmpty:Wi(Po,this,Jo).call(this)})}addCommands(t){zi(Qa,this).add(t),Wi(Po,this,Go).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Wi(Po,this,Jo).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...zi(xo,this)];this.addCommands({cmd:()=>{for(const e of t)e.remove()},undo:()=>{for(const e of t)Wi(Po,this,Qo).call(this,e)},mustExec:!0})}commitOrRemove(){var t;null===(t=zi(Va,this))||void 0===t||t.commitOrRemove()}hasSomethingToControl(){return zi(Va,this)||this.hasSelection}selectAll(){for(const t of zi(xo,this))t.commit();Wi(Po,this,Zo).call(this,zi(qa,this).values())}unselectAll(){if((!zi(Va,this)||(zi(Va,this).commitOrRemove(),zi(wo,this)===ms.NONE))&&this.hasSelection){for(const t of zi(xo,this))t.unselect();zi(xo,this).clear(),Wi(Po,this,Go).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;zi(Eo,this)[0]+=t,zi(Eo,this)[1]+=e;const[n,i]=zi(Eo,this),s=[...zi(xo,this)];zi(Co,this)&&clearTimeout(zi(Co,this)),Hi(Co,this,setTimeout((()=>{Hi(Co,this,null),zi(Eo,this)[0]=zi(Eo,this)[1]=0,this.addCommands({cmd:()=>{for(const t of s)zi(qa,this).has(t.id)&&t.translateInPage(n,i)},undo:()=>{for(const t of s)zi(qa,this).has(t.id)&&t.translateInPage(-n,-i)},mustExec:!1})}),1e3));for(const r of s)r.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Hi(to,this,new Map);for(const t of zi(xo,this))zi(to,this).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!zi(to,this))return!1;this.disableUserSelect(!1);const t=zi(to,this);Hi(to,this,null);let e=!1;for(const[{x:i,y:s,pageIndex:r},a]of t)a.newX=i,a.newY=s,a.newPageIndex=r,e||(e=i!==a.savedX||s!==a.savedY||r!==a.savedPageIndex);if(!e)return!1;const n=(t,e,n,i)=>{if(zi(qa,this).has(t.id)){const s=zi(Ga,this).get(i);s?t._setParentAndPosition(s,e,n):(t.pageIndex=i,t.x=e,t.y=n)}};return this.addCommands({cmd:()=>{for(const[e,{newX:i,newY:s,newPageIndex:r}]of t)n(e,i,s,r)},undo:()=>{for(const[e,{savedX:i,savedY:s,savedPageIndex:r}]of t)n(e,i,s,r)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(zi(to,this))for(const n of zi(to,this).keys())n.drag(t,e)}rebuild(t){if(null===t.parent){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===zi(xo,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return zi(Va,this)===t}getActive(){return zi(Va,this)}getMode(){return zi(wo,this)}get imageManager(){return ar(this,"imageManager",new La)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let l=0,c=e.rangeCount;l<c;l++)if(!t.contains(e.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:r}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(t,e,a,o)=>({x:(e-i)/r,y:1-(t+a-n)/s,width:o/r,height:a/s});break;case"180":a=(t,e,a,o)=>({x:1-(t+a-n)/s,y:1-(e+o-i)/r,width:a/s,height:o/r});break;case"270":a=(t,e,a,o)=>({x:1-(e+o-i)/r,y:(t-n)/s,width:o/r,height:a/s});break;default:a=(t,e,a,o)=>({x:(t-n)/s,y:(e-i)/r,width:a/s,height:o/r})}const o=[];for(let l=0,c=e.rangeCount;l<c;l++){const t=e.getRangeAt(l);if(!t.collapsed)for(const{x:e,y:n,width:i,height:s}of t.getClientRects())0!==i&&0!==s&&o.push(a(e,n,i,s))}return 0===o.length?null:o}addChangedExistingAnnotation(t){let{annotationElementId:e,id:n}=t;(zi(Ya,this)||Hi(Ya,this,new Map)).set(e,n)}removeChangedExistingAnnotation(t){var e;let{annotationElementId:n}=t;null===(e=zi(Ya,this))||void 0===e||e.delete(n)}renderAnnotationElement(t){var e;const n=null===(e=zi(Ya,this))||void 0===e?void 0:e.get(t.data.id);if(!n)return;const i=zi(Ka,this).getRawValue(n);i&&(zi(wo,this)!==ms.NONE||i.hasBeenModified)&&i.renderAnnotationElement(t)}}function No(t){let{anchorNode:e}=t;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Fo(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of zi(Ga,this).values())if(n.hasTextLayer(t))return n;return null}function Io(){const t=document.getSelection();if(!t||t.isCollapsed)return;const e=Wi(Po,this,No).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(zi(ho,this)||Hi(ho,this,new xa(this)),zi(ho,this).show(e,n,"ltr"===this.direction))}function Do(){var t;const e=document.getSelection();if(!e||e.isCollapsed){var n;if(zi(Ao,this))null===(n=zi(ho,this))||void 0===n||n.hide(),Hi(Ao,this,null),Wi(Po,this,Go).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=e;if(i===zi(Ao,this))return;const s=Wi(Po,this,No).call(this,e).closest(".textLayer");var r;if(s){if(null===(t=zi(ho,this))||void 0===t||t.hide(),Hi(Ao,this,i),Wi(Po,this,Go).call(this,{hasSelectedText:!0}),(zi(wo,this)===ms.HIGHLIGHT||zi(wo,this)===ms.NONE)&&(zi(wo,this)===ms.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Hi(uo,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const t=zi(wo,this)===ms.HIGHLIGHT?Wi(Po,this,Fo).call(this,s):null;null===t||void 0===t||t.toggleDrawing();const e=new AbortController,n=this.combinedSignal(e),i=n=>{"pointerup"===n.type&&0!==n.button||(e.abort(),null===t||void 0===t||t.toggleDrawing(!0),"pointerup"===n.type&&Wi(Po,this,Oo).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}}else zi(Ao,this)&&(null===(r=zi(ho,this))||void 0===r||r.hide(),Hi(Ao,this,null),Wi(Po,this,Go).call(this,{hasSelectedText:!1}))}function Oo(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";zi(wo,this)===ms.HIGHLIGHT?this.highlightSelection(t):zi(io,this)&&Wi(Po,this,Io).call(this)}function jo(){document.addEventListener("selectionchange",Wi(Po,this,Do).bind(this),{signal:this._signal})}function Wo(){if(zi(lo,this))return;Hi(lo,this,new AbortController);const t=this.combinedSignal(zi(lo,this));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}function Bo(){var t;null===(t=zi(lo,this))||void 0===t||t.abort(),Hi(lo,this,null)}function zo(){if(zi(mo,this))return;Hi(mo,this,new AbortController);const t=this.combinedSignal(zi(mo,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}function Ho(){var t;null===(t=zi(mo,this))||void 0===t||t.abort(),Hi(mo,this,null)}function Uo(){if(zi($a,this))return;Hi($a,this,new AbortController);const t=this.combinedSignal(zi($a,this));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}function Vo(){var t;null===(t=zi($a,this))||void 0===t||t.abort(),Hi($a,this,null)}function qo(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}function Go(t){Object.entries(t).some((t=>{let[e,n]=t;return zi(ko,this)[e]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(zi(ko,this),t)}),zi(wo,this)===ms.HIGHLIGHT&&!1===t.hasSelectedEditor&&Wi(Po,this,Xo).call(this,[[vs.HIGHLIGHT_FREE,!0]]))}function Xo(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}async function Ko(){if(!zi(po,this)){Hi(po,this,!0);const t=[];for(const e of zi(Ga,this).values())t.push(e.enable());await Promise.all(t);for(const e of zi(qa,this).values())e.enable()}}function Yo(){if(this.unselectAll(),zi(po,this)){Hi(po,this,!1);for(const t of zi(Ga,this).values())t.disable();for(const t of zi(qa,this).values())t.disable()}}function Qo(t){const e=zi(Ga,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function $o(t){let e=null;for(e of zi(xo,t));return e}function Jo(){if(0===zi(qa,this).size)return!0;if(1===zi(qa,this).size)for(const t of zi(qa,this).values())return t.isEmpty();return!1}function Zo(t){for(const e of zi(xo,this))e.unselect();zi(xo,this).clear();for(const e of t)e.isEmpty()||(zi(xo,this).add(e),e.select());Wi(Po,this,Go).call(this,{hasSelectedEditor:this.hasSelection})}We(Lo,"TRANSLATE_SMALL",1),We(Lo,"TRANSLATE_BIG",10);var tl=new WeakMap,el=new WeakMap,nl=new WeakMap,il=new WeakMap,sl=new WeakMap,rl=new WeakMap,al=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,ul=new WeakMap,hl=new WeakMap,dl=new WeakSet;class fl{constructor(t){Oi(this,dl),ji(this,tl,null),ji(this,el,!1),ji(this,nl,null),ji(this,il,null),ji(this,sl,null),ji(this,rl,null),ji(this,al,!1),ji(this,ol,null),ji(this,ll,null),ji(this,cl,null),ji(this,ul,null),ji(this,hl,!1),Hi(ll,this,t),Hi(hl,this,t._uiManager.useNewAltTextFlow),ml._||(ml._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){var e;null!==(e=fl._l10n)&&void 0!==e||(fl._l10n=t)}async render(){const t=Hi(nl,this,document.createElement("button"));t.className="altText",t.tabIndex="0";const e=Hi(il,this,document.createElement("span"));t.append(e),zi(hl,this)?(t.classList.add("new"),t.setAttribute("data-l10n-id",ml._.missing),e.setAttribute("data-l10n-id",ml._["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=zi(ll,this)._uiManager._signal;t.addEventListener("contextmenu",Xr,{signal:n}),t.addEventListener("pointerdown",(t=>t.stopPropagation()),{signal:n});const i=t=>{t.preventDefault(),zi(ll,this)._uiManager.editAltText(zi(ll,this)),zi(hl,this)&&zi(ll,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Bi(dl,this,pl)}})};return t.addEventListener("click",i,{capture:!0,signal:n}),t.addEventListener("keydown",(e=>{e.target===t&&"Enter"===e.key&&(Hi(al,this,!0),i(e))}),{signal:n}),await Wi(dl,this,gl).call(this),t}finish(){zi(nl,this)&&(zi(nl,this).focus({focusVisible:zi(al,this)}),Hi(al,this,!1))}isEmpty(){return zi(hl,this)?null===zi(tl,this):!zi(tl,this)&&!zi(el,this)}hasData(){return zi(hl,this)?null!==zi(tl,this)||!!zi(cl,this):this.isEmpty()}get guessedText(){return zi(cl,this)}async setGuessedText(t){null===zi(tl,this)&&(Hi(cl,this,t),Hi(ul,this,await fl._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),Wi(dl,this,gl).call(this))}toggleAltTextBadge(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e;if(!zi(hl,this)||zi(tl,this))return null===(e=zi(ol,this))||void 0===e||e.remove(),void Hi(ol,this,null);if(!zi(ol,this)){const t=Hi(ol,this,document.createElement("div"));t.className="noAltTextBadge",zi(ll,this).div.append(t)}zi(ol,this).classList.toggle("hidden",!t)}serialize(t){let e=zi(tl,this);return t||zi(cl,this)!==e||(e=zi(ul,this)),{altText:e,decorative:zi(el,this),guessedText:zi(cl,this),textWithDisclaimer:zi(ul,this)}}get data(){return{altText:zi(tl,this),decorative:zi(el,this)}}set data(t){let{altText:e,decorative:n,guessedText:i,textWithDisclaimer:s,cancel:r=!1}=t;i&&(Hi(cl,this,i),Hi(ul,this,s)),zi(tl,this)===e&&zi(el,this)===n||(r||(Hi(tl,this,e),Hi(el,this,n)),Wi(dl,this,gl).call(this))}toggle(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];zi(nl,this)&&(!t&&zi(rl,this)&&(clearTimeout(zi(rl,this)),Hi(rl,this,null)),zi(nl,this).disabled=!t)}shown(){zi(ll,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Bi(dl,this,pl)}})}destroy(){var t,e;null===(t=zi(nl,this))||void 0===t||t.remove(),Hi(nl,this,null),Hi(il,this,null),Hi(sl,this,null),null===(e=zi(ol,this))||void 0===e||e.remove(),Hi(ol,this,null)}}function pl(t){return(zi(tl,t)?"added":null===zi(tl,t)&&t.guessedText&&"review")||"missing"}async function gl(){const t=zi(nl,this);if(!t)return;if(zi(hl,this)){var e,n;if(t.classList.toggle("done",!!zi(tl,this)),t.setAttribute("data-l10n-id",ml._[Bi(dl,this,pl)]),null===(e=zi(il,this))||void 0===e||e.setAttribute("data-l10n-id",ml._["".concat(Bi(dl,this,pl),"-label")]),!zi(tl,this))return void(null===(n=zi(sl,this))||void 0===n||n.remove())}else{var i;if(!zi(tl,this)&&!zi(el,this))return t.classList.remove("done"),void(null===(i=zi(sl,this))||void 0===i||i.remove());t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let s=zi(sl,this);if(!s){Hi(sl,this,s=document.createElement("span")),s.className="tooltip",s.setAttribute("role","tooltip"),s.id="alt-text-tooltip-".concat(zi(ll,this).id);const e=100,n=zi(ll,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(zi(rl,this)),Hi(rl,this,null)}),{once:!0}),t.addEventListener("mouseenter",(()=>{Hi(rl,this,setTimeout((()=>{Hi(rl,this,null),zi(sl,this).classList.add("show"),zi(ll,this)._reportTelemetry({action:"alt_text_tooltip"})}),e))}),{signal:n}),t.addEventListener("mouseleave",(()=>{var t;zi(rl,this)&&(clearTimeout(zi(rl,this)),Hi(rl,this,null)),null===(t=zi(sl,this))||void 0===t||t.classList.remove("show")}),{signal:n})}zi(el,this)?s.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(s.removeAttribute("data-l10n-id"),s.textContent=zi(tl,this)),s.parentNode||t.append(s);const r=zi(ll,this).getImageForAltText();null===r||void 0===r||r.setAttribute("aria-describedby",s.id)}var ml={_:null};We(fl,"_l10n",null);var vl=new WeakMap,bl=new WeakMap,yl=new WeakMap,wl=new WeakMap,xl=new WeakMap,Al=new WeakMap,_l=new WeakMap,Sl=new WeakMap,kl=new WeakMap,El=new WeakMap,Cl=new WeakMap,Ml=new WeakMap,Tl=new WeakMap,Rl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Nl=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Dl=new WeakMap,Ol=new WeakSet;class jl{static get _resizerKeyboardManager(){const t=jl.prototype._resizeWithKeyboard,e=Lo.TRANSLATE_SMALL,n=Lo.TRANSLATE_BIG;return ar(this,"_resizerKeyboardManager",new Ba([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],jl.prototype._stopResizingWithKeyboard]]))}constructor(t){Oi(this,Ol),ji(this,vl,null),ji(this,bl,null),ji(this,yl,null),ji(this,wl,!1),ji(this,xl,!1),ji(this,Al,null),ji(this,_l,null),ji(this,Sl,null),ji(this,kl,""),ji(this,El,!1),ji(this,Cl,null),ji(this,Ml,!1),ji(this,Tl,!1),ji(this,Rl,!1),ji(this,Pl,null),ji(this,Ll,0),ji(this,Nl,0),ji(this,Fl,null),We(this,"_editToolbar",null),We(this,"_initialOptions",Object.create(null)),We(this,"_initialData",null),We(this,"_isVisible",!0),We(this,"_uiManager",null),We(this,"_focusEventsAllowed",!0),ji(this,Il,!1),ji(this,Dl,jl._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:r}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,r];const[a,o]=this.parentDimensions;this.x=t.x/a,this.y=t.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return ar(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new tc({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){var n;if(null!==(n=jl._l10n)&&void 0!==n||(jl._l10n=t),jl._l10nResizer||(jl._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==jl._borderLineWidth)return;const i=getComputedStyle(document.documentElement);jl._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){ir("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return zi(Il,this)}set _isDraggable(t){var e;Hi(Il,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(2*t),this.y+=this.width*t/(2*e);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(2*t),this.y-=this.width*t/(2*e);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=zi(Dl,this)}setParent(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):Wi(Ol,this,Zl).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(zi(El,this)?Hi(El,this,!1):this.parent.setSelected(this))}focusout(t){var e;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=t.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,i){const[s,r]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(t+n)/s,this.y=(e+i)/r,this.fixAndSetPosition()}translate(t,e){Wi(Ol,this,Wl).call(this,this.parentDimensions,t,e)}translateInPage(t,e){zi(Cl,this)||Hi(Cl,this,[this.x,this.y]),Wi(Ol,this,Wl).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){zi(Cl,this)||Hi(Cl,this,[this.x,this.y]);const[n,i]=this.parentDimensions;if(this.x+=t/n,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:t,y:e}=this.div.getBoundingClientRect();this.parent.findNewParent(this,t,e)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[a,o]=this.getBaseTranslation();s+=a,r+=o,this.div.style.left="".concat((100*s).toFixed(2),"%"),this.div.style.top="".concat((100*r).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!zi(Cl,this)&&(zi(Cl,this)[0]!==this.x||zi(Cl,this)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=jl,i=n/t,s=n/e;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[e,n]=this.pageDimensions;let{x:i,y:s,width:r,height:a}=this;if(r*=e,a*=n,i*=e,s*=n,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(e-r,i)),s=Math.max(0,Math.min(n-a,s));break;case 90:i=Math.max(0,Math.min(e-a,i)),s=Math.min(n,Math.max(r,s));break;case 180:i=Math.min(e,Math.max(r,i)),s=Math.min(n,Math.max(a,s));break;case 270:i=Math.min(e,Math.max(a,i)),s=Math.max(0,Math.min(n-r,s))}this.x=i/=e,this.y=s/=n;const[o,l]=this.getBaseTranslation();i+=o,s+=l;const{style:c}=this.div;c.left="".concat((100*i).toFixed(2),"%"),c.top="".concat((100*s).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(t,e){return Bl.call(jl,t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Bl.call(jl,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(t,e){const[n,i]=this.parentDimensions;this.div.style.width="".concat((100*t/n).toFixed(2),"%"),zi(xl,this)||(this.div.style.height="".concat((100*e/i).toFixed(2),"%"))}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,i=n.endsWith("%"),s=!zi(xl,this)&&e.endsWith("%");if(i&&s)return;const[r,a]=this.parentDimensions;i||(t.width="".concat((100*parseFloat(n)/r).toFixed(2),"%")),zi(xl,this)||s||(t.height="".concat((100*parseFloat(e)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var t;null===(t=zi(yl,this))||void 0===t||t.finish()}async addEditToolbar(){return this._editToolbar||zi(Tl,this)||(this._editToolbar=new ca(this),this.div.append(this._editToolbar.render()),zi(yl,this)&&await this._editToolbar.addAltText(zi(yl,this))),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(t=zi(yl,this))||void 0===t||t.destroy())}addContainer(t){var e;const n=null===(e=this._editToolbar)||void 0===e?void 0:e.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){zi(yl,this)||(fl.initialize(jl._l10n),Hi(yl,this,new fl(this)),zi(vl,this)&&(zi(yl,this).data=zi(vl,this),Hi(vl,this,null)),await this.addEditToolbar())}get altTextData(){var t;return null===(t=zi(yl,this))||void 0===t?void 0:t.data}set altTextData(t){zi(yl,this)&&(zi(yl,this).data=t)}get guessedAltText(){var t;return null===(t=zi(yl,this))||void 0===t?void 0:t.guessedText}async setGuessedAltText(t){var e;await(null===(e=zi(yl,this))||void 0===e?void 0:e.setGuessedText(t))}serializeAltText(t){var e;return null===(e=zi(yl,this))||void 0===e?void 0:e.serialize(t)}hasAltText(){return!!zi(yl,this)&&!zi(yl,this).isEmpty()}hasAltTextData(){var t,e;return null!==(t=null===(e=zi(yl,this))||void 0===e?void 0:e.hasData())&&void 0!==t&&t}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=zi(wl,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),Wi(Ol,this,Kl).call(this);const[t,e]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*e/t).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*t/e).toFixed(2),"%"));const[n,i]=this.getInitialTranslation();return this.translate(n,i),ka(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=br.platform;0!==t.button||t.ctrlKey&&e?t.preventDefault():(Hi(El,this,!0),this._isDraggable?Wi(Ol,this,Xl).call(this,t):Wi(Ol,this,Gl).call(this,t))}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){zi(Pl,this)&&clearTimeout(zi(Pl,this)),Hi(Pl,this,setTimeout((()=>{var t;Hi(Pl,this,null),null===(t=this.parent)||void 0===t||t.moveEditorInDOM(this)}),0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[s,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=t/i,c=e/i,u=this.x*s,h=this.y*r,d=this.width*s,f=this.height*r;switch(n){case 0:return[u+l+a,r-h-c-f+o,u+l+d+a,r-h-c+o];case 90:return[u+c+a,r-h+l+o,u+c+f+a,r-h+l+d+o];case 180:return[u-l-d+a,r-h+c+o,u-l+a,r-h+c+f+o];case 270:return[u-c-f+a,r-h-l-d+o,u-c+a,r-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,i,s,r]=t,a=s-n,o=r-i;switch(this.rotation){case 0:return[n,e-r,a,o];case 90:return[n,e-i,o,a];case 180:return[s,e-i,a,o];case 270:return[s,e-r,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Hi(Tl,this,!0)}disableEditMode(){Hi(Tl,this,!1)}isInEditMode(){return zi(Tl,this)}shouldGetKeyboardEvents(){return zi(Rl,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){Wi(Ol,this,Kl).call(this)}rotate(t){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(t=this._initialData)||void 0===t?void 0:t.popupRef)||""}}serialize(){ir("An editor must be serializable")}static async deserialize(t,e,n){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});i.rotation=t.rotation,Hi(vl,i,t.accessibilityData);const[s,r]=i.pageDimensions,[a,o,l,c]=i.getRectInCurrentCoords(t.rect,r);return i.x=a/s,i.y=o/r,i.width=l/s,i.height=c/r,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var t;if(null===(t=zi(Sl,this))||void 0===t||t.abort(),Hi(Sl,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),zi(Pl,this)&&(clearTimeout(zi(Pl,this)),Hi(Pl,this,null)),Wi(Ol,this,Zl).call(this),this.removeEditToolbar(),zi(Fl,this)){for(const t of zi(Fl,this).values())clearTimeout(t);Hi(Fl,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(Wi(Ol,this,Hl).call(this),zi(Al,this).classList.remove("hidden"),ka(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),Hi(_l,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=zi(Al,this).children;if(!zi(bl,this)){Hi(bl,this,Array.from(e));const t=Wi(Ol,this,Yl).bind(this),n=Wi(Ol,this,Ql).bind(this),i=this._uiManager._signal;for(const e of zi(bl,this)){const s=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",t,{signal:i}),e.addEventListener("blur",n,{signal:i}),e.addEventListener("focus",Wi(Ol,this,$l).bind(this,s),{signal:i}),e.setAttribute("data-l10n-id",jl._l10nResizer[s])}}const n=zi(bl,this)[0];let i=0;for(const r of e){if(r===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(zi(bl,this).length/4);if(s!==i){if(s<i)for(let e=0;e<i-s;e++)zi(Al,this).append(zi(Al,this).firstChild);else if(s>i)for(let e=0;e<s-i;e++)zi(Al,this).firstChild.before(zi(Al,this).lastChild);let t=0;for(const n of e){const e=zi(bl,this)[t++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",jl._l10nResizer[e])}}Wi(Ol,this,Jl).call(this,0),Hi(Rl,this,!0),zi(Al,this).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){zi(Rl,this)&&Wi(Ol,this,ql).call(this,zi(kl,this),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){Wi(Ol,this,Zl).call(this),this.div.focus()}select(){var t,e,n;this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),this._editToolbar?(null===(e=this._editToolbar)||void 0===e||e.show(),null===(n=zi(yl,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var t,e;null!==(t=this.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=this._editToolbar)||void 0===e||e.show())}))}unselect(){var t,e,n,i,s;null===(t=zi(Al,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(s=zi(yl,this))||void 0===s||s.toggleAltTextBadge(!0)}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return zi(Ml,this)}set isEditing(t){Hi(Ml,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){Hi(xl,this,!0);const n=t/e,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){zi(Fl,this)||Hi(Fl,this,new Map);const{action:e}=t;let n=zi(Fl,this).get(e);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(t),zi(Fl,this).delete(e),0===zi(Fl,this).size&&Hi(Fl,this,null)}),jl._telemetryTimeout),void zi(Fl,this).set(e,n)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),Hi(wl,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),Hi(wl,this,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){const t=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.before(e)}}else e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}resetAnnotationElement(t){const{firstChild:e}=t.container;"DIV"===(null===e||void 0===e?void 0:e.nodeName)&&e.classList.contains("annotationContent")&&e.remove()}}function Wl(t,e,n){let[i,s]=t;[e,n]=this.screenToPageTranslation(e,n),this.x+=e/i,this.y+=n/s,this.fixAndSetPosition()}function Bl(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function zl(t){switch(t){case 90:{const[t,e]=this.pageDimensions;return[0,-t/e,e/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,e]=this.pageDimensions;return[0,t/e,-e/t,0]}default:return[1,0,0,1]}}function Hl(){if(zi(Al,this))return;Hi(Al,this,document.createElement("div")),zi(Al,this).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const t=document.createElement("div");zi(Al,this).append(t),t.classList.add("resizer",n),t.setAttribute("data-resizer-name",n),t.addEventListener("pointerdown",Wi(Ol,this,Ul).bind(this,n),{signal:e}),t.addEventListener("contextmenu",Xr,{signal:e}),t.tabIndex=-1}this.div.prepend(zi(Al,this))}function Ul(t,e){var n;e.preventDefault();const{isMac:i}=br.platform;if(0!==e.button||e.ctrlKey&&i)return;null===(n=zi(yl,this))||void 0===n||n.toggle(!1);const s=this._isDraggable;this._isDraggable=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Wi(Ol,this,ql).bind(this,t),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Xr,{signal:a});const o=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const f=()=>{var t;r.abort(),this.parent.togglePointerEvents(!0),null===(t=zi(yl,this))||void 0===t||t.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=h,this.div.style.cursor=d,Wi(Ol,this,Vl).call(this,o,l,c,u)};window.addEventListener("pointerup",f,{signal:a}),window.addEventListener("blur",f,{signal:a})}function Vl(t,e,n,i){const s=this.x,r=this.y,a=this.width,o=this.height;s===t&&r===e&&a===n&&o===i||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=s,this.y=r;const[t,e]=this.parentDimensions;this.setDims(t*a,e*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=i,this.x=t,this.y=e;const[s,r]=this.parentDimensions;this.setDims(s*n,r*i),this.fixAndSetPosition()},mustExec:!0})}function ql(t,e){const[n,i]=this.parentDimensions,s=this.x,r=this.y,a=this.width,o=this.height,l=Gi.MIN_SIZE/n,c=Gi.MIN_SIZE/i,u=t=>Math.round(1e4*t)/1e4,h=Wi(Ol,this,zl).call(this,this.rotation),d=(t,e)=>[h[0]*t+h[2]*e,h[1]*t+h[3]*e],f=Wi(Ol,this,zl).call(this,360-this.rotation);let p,g,m=!1,v=!1;switch(t){case"topLeft":m=!0,p=(t,e)=>[0,0],g=(t,e)=>[t,e];break;case"topMiddle":p=(t,e)=>[t/2,0],g=(t,e)=>[t/2,e];break;case"topRight":m=!0,p=(t,e)=>[t,0],g=(t,e)=>[0,e];break;case"middleRight":v=!0,p=(t,e)=>[t,e/2],g=(t,e)=>[0,e/2];break;case"bottomRight":m=!0,p=(t,e)=>[t,e],g=(t,e)=>[0,0];break;case"bottomMiddle":p=(t,e)=>[t/2,e],g=(t,e)=>[t/2,0];break;case"bottomLeft":m=!0,p=(t,e)=>[0,e],g=(t,e)=>[t,0];break;case"middleLeft":v=!0,p=(t,e)=>[0,e/2],g=(t,e)=>[t,e/2]}const b=p(a,o),y=g(a,o);let w=d(...y);const x=u(s+w[0]),A=u(r+w[1]);let _=1,S=1,[k,E]=this.screenToPageTranslation(e.movementX,e.movementY);var C,M;if([k,E]=(C=k/n,M=E/i,[f[0]*C+f[2]*M,f[1]*C+f[3]*M]),m){const t=Math.hypot(a,o);_=S=Math.max(Math.min(Math.hypot(y[0]-b[0]-k,y[1]-b[1]-E)/t,1/a,1/o),l/a,c/o)}else v?_=Math.max(l,Math.min(1,Math.abs(y[0]-b[0]-k)))/a:S=Math.max(c,Math.min(1,Math.abs(y[1]-b[1]-E)))/o;const T=u(a*_),R=u(o*S);w=d(...g(T,R));const P=x-w[0],L=A-w[1];this.width=T,this.height=R,this.x=P,this.y=L,this.setDims(n*T,i*R),this.fixAndSetPosition()}function Gl(t){const{isMac:e}=br.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Xl(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();const n=new AbortController,i=this._uiManager.combinedSignal(n);if(e){this.div.classList.add("moving"),Hi(Ll,this,t.clientX),Hi(Nl,this,t.clientY);const e=t=>{const{clientX:e,clientY:n}=t,[i,s]=this.screenToPageTranslation(e-zi(Ll,this),n-zi(Nl,this));Hi(Ll,this,e),Hi(Nl,this,n),this._uiManager.dragSelectedEditors(i,s)};window.addEventListener("pointermove",e,{passive:!0,capture:!0,signal:i})}const s=()=>{n.abort(),e&&this.div.classList.remove("moving"),Hi(El,this,!1),this._uiManager.endDragSession()||Wi(Ol,this,Gl).call(this,t)};window.addEventListener("pointerup",s,{signal:i}),window.addEventListener("blur",s,{signal:i})}function Kl(){if(zi(Sl,this)||!this.div)return;Hi(Sl,this,new AbortController);const t=this._uiManager.combinedSignal(zi(Sl,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}function Yl(t){Gi._resizerKeyboardManager.exec(this,t)}function Ql(t){var e;zi(Rl,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==zi(Al,this)&&Wi(Ol,this,Zl).call(this)}function $l(t){Hi(kl,this,zi(Rl,this)?t:"")}function Jl(t){if(zi(bl,this))for(const e of zi(bl,this))e.tabIndex=t}function Zl(){if(Hi(Rl,this,!1),Wi(Ol,this,Jl).call(this,-1),zi(_l,this)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:i}=zi(_l,this);Wi(Ol,this,Vl).call(this,t,e,n,i),Hi(_l,this,null)}}Gi=jl,We(jl,"_l10n",null),We(jl,"_l10nResizer",null),We(jl,"_borderLineWidth",-1),We(jl,"_colorManager",new Ha),We(jl,"_zIndex",1),We(jl,"_telemetryTimeout",1e3);class tc extends jl{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ec=3285377520,nc=4294901760,ic=65535;class sc{constructor(t){this.h1=t?4294967295&t:ec,this.h2=t?4294967295&t:ec}update(t){let e,n;if("string"===typeof t){e=new Uint8Array(2*t.length),n=0;for(let i=0,s=t.length;i<s;i++){const s=t.charCodeAt(i);s<=255?e[n++]=s:(e[n++]=s>>>8,e[n++]=255&s)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");e=t.slice(),n=e.byteLength}const i=n>>2,s=n-4*i,r=new Uint32Array(e.buffer,0,i);let a=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,f=13715;for(let p=0;p<i;p++)1&p?(a=r[p],a=a*u&nc|a*d&ic,a=a<<15|a>>>17,a=a*h&nc|a*f&ic,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[p],o=o*u&nc|o*d&ic,o=o<<15|o>>>17,o=o*h&nc|o*f&ic,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,s){case 3:a^=e[4*i+2]<<16;case 2:a^=e[4*i+1]<<8;case 1:a^=e[4*i],a=a*u&nc|a*d&ic,a=a<<15|a>>>17,a=a*h&nc|a*f&ic,1&i?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=3981806797*t&nc|36045*t&ic,e=4283543511*e&nc|(2950163797*(e<<16|t>>>16)&nc)>>>16,t^=e>>>1,t=444984403*t&nc|60499*t&ic,e=3301882366*e&nc|(3120437893*(e<<16|t>>>16)&nc)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const rc=Object.freeze({map:null,hash:"",transfer:void 0});var ac=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakSet;class uc{constructor(){Oi(this,cc),ji(this,ac,!1),ji(this,oc,null),ji(this,lc,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=zi(lc,this).get(t);return void 0===n?e:Object.assign(e,n)}getRawValue(t){return zi(lc,this).get(t)}remove(t){if(zi(lc,this).delete(t),0===zi(lc,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const t of zi(lc,this).values())if(t instanceof jl)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=zi(lc,this).get(t);let i=!1;if(void 0!==n)for(const[s,r]of Object.entries(e))n[s]!==r&&(i=!0,n[s]=r);else i=!0,zi(lc,this).set(t,e);i&&Wi(cc,this,hc).call(this),e instanceof jl&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}has(t){return zi(lc,this).has(t)}getAll(){return zi(lc,this).size>0?vr(zi(lc,this)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return zi(lc,this).size}resetModified(){zi(ac,this)&&(Hi(ac,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new fc(this)}get serializable(){if(0===zi(lc,this).size)return rc;const t=new Map,e=new sc,n=[],i=Object.create(null);let s=!1;for(const[r,a]of zi(lc,this)){const n=a instanceof jl?a.serialize(!1,i):a;n&&(t.set(r,n),e.update("".concat(r,":").concat(JSON.stringify(n))),s||(s=!!n.bitmap))}if(s)for(const r of t.values())r.bitmap&&n.push(r.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:rc}get editorStats(){let t=null;const e=new Map;for(const s of zi(lc,this).values()){var n;if(!(s instanceof jl))continue;const r=s.telemetryFinalData;if(!r)continue;const{type:a}=r;e.has(a)||e.set(a,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const o=(n=t)[a]||(n[a]=new Map);for(const[t,e]of Object.entries(r)){var i;if("type"===t)continue;let n=o.get(t);n||(n=new Map,o.set(t,n));const s=null!==(i=n.get(e))&&void 0!==i?i:0;n.set(e,s+1)}}for(const[s,r]of e)t[s]=r.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){Hi(oc,this,null)}get modifiedIds(){if(zi(oc,this))return zi(oc,this);const t=[];for(const e of zi(lc,this).values())e instanceof jl&&e.annotationElementId&&e.serialize()&&t.push(e.annotationElementId);return Hi(oc,this,{ids:new Set(t),hash:t.join(",")})}}function hc(){zi(ac,this)||(Hi(ac,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var dc=new WeakMap;class fc extends uc{constructor(t){super(),ji(this,dc,void 0);const{map:e,hash:n,transfer:i}=t.serializable,s=structuredClone(e,i?{transfer:i}:null);Hi(dc,this,{map:s,hash:n,transfer:i})}get print(){ir("Should not call PrintAnnotationStorage.print")}get serializable(){return zi(dc,this)}get modifiedIds(){return ar(this,"modifiedIds",{ids:new Set,hash:""})}}var pc=new WeakMap;class gc{constructor(t){let{ownerDocument:e=globalThis.document,styleElement:n=null}=t;ji(this,pc,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),zi(pc,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(t){let{systemFontInfo:e,_inspectFont:n}=t;if(e&&!zi(pc,this).has(e.loadedName))if(sr(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:s,style:r}=e,a=new FontFace(t,s,r);this.addNativeFontFace(a);try{await a.load(),zi(pc,this).add(t),null===n||void 0===n||n(e)}catch(i){nr("Cannot load system font: ".concat(e.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}}else ir("Not implemented: loadSystemFont without the Font Loading API.")}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo)return void await this.loadSystemFont(t);if(this.isFontLoadingAPISupported){const e=t.createNativeFontFace();if(e){this.addNativeFontFace(e);try{await e.loaded}catch(n){throw nr("Failed to load font '".concat(e.family,"': '").concat(n,"'.")),t.disableFontFace=!0,n}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise((e=>{const n=this._queueLoadingCallback(e);this._prepareFontLoadEvent(t,n)}))}}get isFontLoadingAPISupported(){var t;return ar(this,"isFontLoadingAPISupported",!(null===(t=this._document)||void 0===t||!t.fonts))}get isSyncFontLoadingSupported(){var t;let e=!1;return(is||"undefined"!==typeof navigator&&"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),ar(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(t){const{loadingRequests:e}=this,n={done:!1,complete:function(){for(sr(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){const t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}get _loadTestFont(){return ar(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,e){function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function i(t,e,n,i){return t.substring(0,e)+i+t.substring(e+n)}let s,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=i(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(s=0,r=c.length-3;s<r;s+=4)d=d-h+n(c,s)|0;var f;s<c.length&&(d=d-h+n(c+"XXX",s)|0),u=i(u,16,4,(f=d,String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f)));const p="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(p,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const v of[t.loadedName,c]){const t=this._document.createElement("span");t.textContent="Hi",t.style.fontFamily=v,m.append(t)}this._document.body.append(m),function t(e,n){if(++l>30)return nr("Load test font never loaded."),void n();o.font="30px "+e,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(c,(()=>{m.remove(),e.complete()}))}}class mc{constructor(t,e){let{disableFontFace:n=!1,inspectFont:i=null}=e;this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this.disableFontFace=!0===n,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(this.cssFontInfo){const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}createFontFaceRule(){var t;if(!this.data||this.disableFontFace)return null;const e="url(data:".concat(this.mimetype,";base64,").concat((n=this.data,Uint8Array.prototype.toBase64?n.toBase64():btoa(gr(n))),");");var n;let i;if(this.cssFontInfo){let t="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(t+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),i='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(t,"src:").concat(e,"}")}else i='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(e,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,e),i}getPathGenerator(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(s){nr('getPathGenerator - ignoring character: "'.concat(s,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[e]=function(t,e){};const i=[];for(let r=0,a=n.length;r<a;)switch(n[r++]){case Cr:{const[t,e,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.bezierCurveTo(t,e,s,a,o,l))),r+=6}break;case Mr:{const[t,e]=n.slice(r,r+2);i.push((n=>n.moveTo(t,e))),r+=2}break;case Tr:{const[t,e]=n.slice(r,r+2);i.push((n=>n.lineTo(t,e))),r+=2}break;case Rr:{const[t,e,s,a]=n.slice(r,r+4);i.push((n=>n.quadraticCurveTo(t,e,s,a))),r+=4}break;case Pr:i.push((t=>t.restore()));break;case Lr:i.push((t=>t.save()));break;case Nr:sr(2===i.length,"Scale command is only valid at the third position.");break;case Fr:{const[t,e,s,a,o,l]=n.slice(r,r+6);i.push((n=>n.transform(t,e,s,a,o,l))),r+=6}break;case Ir:{const[t,e]=n.slice(r,r+2);i.push((n=>n.translate(t,e))),r+=2}}return this.compiledGlyphs[e]=function(t,e){i[0](t),i[1](t),t.scale(e,-e);for(let n=2,s=i.length;n<s;n++)i[n](t)}}}var vc=new WeakMap;class bc{constructor(t){let{enableHWA:e=!1}=t;ji(this,vc,!1),Hi(vc,this,e)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!zi(vc,this)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){ir("Abstract method `_createCanvas` called.")}}class yc{constructor(t){let{baseUrl:e=null,isCompressed:n=!0}=t;this.baseUrl=e,this.isCompressed=n}async fetch(t){let{name:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then((t=>({cMapData:t,isCompressed:this.isCompressed}))).catch((t=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(t){ir("Abstract method `_fetch` called.")}}class wc extends yc{async _fetch(t){const e=await jr(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):mr(e)}}class xc{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,i,s){return"none"}destroy(){}}var Ac=new WeakMap,_c=new WeakMap,Sc=new WeakMap,kc=new WeakMap,Ec=new WeakMap,Cc=new WeakMap,Mc=new WeakMap,Tc=new WeakSet;function Rc(t){return zi(_c,t)||Hi(_c,t,new Map)}function Pc(t){return zi(Cc,t)||Hi(Cc,t,new Map)}function Lc(t){if(!zi(Sc,t)){const e=zi(Ec,t).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=zi(Ec,t).createElementNS(Dr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),Hi(Sc,t,zi(Ec,t).createElementNS(Dr,"defs")),e.append(i),i.append(zi(Sc,t)),zi(Ec,t).body.append(e)}return zi(Sc,t)}function Nc(t){if(1===t.length){const e=t[0],n=new Array(256);for(let t=0;t<256;t++)n[t]=e[t]/255;const i=n.join(",");return[i,i,i]}const[e,n,i]=t,s=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)s[o]=e[o]/255,r[o]=n[o]/255,a[o]=i[o]/255;return[s.join(","),r.join(","),a.join(",")]}function Fc(t){if(void 0===zi(Ac,this)){Hi(Ac,this,"");const t=zi(Ec,this).URL;t!==zi(Ec,this).baseURI&&(zr(t)?nr('#createUrl: ignore "data:"-URL for performance reasons.'):Hi(Ac,this,t.split("#",1)[0]))}return"url(".concat(zi(Ac,this),"#").concat(t,")")}function Ic(t){const e=zi(Ec,this).createElementNS(Dr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Dc(t){const e=zi(Ec,this).createElementNS(Dr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Oc(t){const e=zi(Ec,this).createElementNS(Dr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),Bi(Tc,this,Lc).append(e),e}function jc(t,e,n){const i=zi(Ec,this).createElementNS(Dr,e);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),t.append(i)}function Wc(t,e,n,i){const s=zi(Ec,this).createElementNS(Dr,"feComponentTransfer");i.append(s),Wi(Tc,this,jc).call(this,s,"feFuncR",t),Wi(Tc,this,jc).call(this,s,"feFuncG",e),Wi(Tc,this,jc).call(this,s,"feFuncB",n)}function Bc(t,e){const n=zi(Ec,this).createElementNS(Dr,"feComponentTransfer");e.append(n),Wi(Tc,this,jc).call(this,n,"feFuncA",t)}function zc(t){return Bi(Tc,this,Lc).style.color=t,Jr(getComputedStyle(Bi(Tc,this,Lc)).getPropertyValue("color"))}class Hc{constructor(t){let{baseUrl:e=null}=t;this.baseUrl=e}async fetch(t){let{filename:e}=t;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(e);return this._fetch(n).catch((t=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(t){ir("Abstract method `_fetch` called.")}}class Uc extends Hc{async _fetch(t){const e=await jr(t,"arraybuffer");return new Uint8Array(e)}}if(is){var Vc=Promise.withResolvers(),qc=null;(async()=>{const t=await import("fs"),e=await import("http"),n=await import("https"),i=await import("url");return new Map(Object.entries({fs:t,http:e,https:n,url:i,canvas:undefined,path2d:undefined}))})().then((t=>{qc=t,Vc.resolve()}),(t=>{nr("loadPackages: ".concat(t)),qc=new Map,Vc.resolve()}))}class Gc{static get promise(){return Vc.promise}static get(t){var e;return null===(e=qc)||void 0===e?void 0:e.get(t)}}async function Xc(t){const e=Gc.get("fs"),n=await e.promises.readFile(t);return new Uint8Array(n)}const Kc="Fill",Yc="Stroke",Qc="Shading";function $c(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],n,i),t.clip(s)}class Jc{getPattern(){ir("Abstract method `getPattern` called.")}}class Zc extends Jc{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,i){let s;if(i===Yc||i===Kc){const r=e.current.getClippedPathBoundingBox(i,Zr(t))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=e.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),n=wr.transform(n,[1,0,0,1,r[0],r[1]]),c.transform(...e.baseTransform),this.matrix&&c.transform(...this.matrix),$c(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),s=t.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);s.setTransform(u)}else $c(t,this._bbox),s=this._createGradient(t);return s}}function tu(t,e,n,i,s,r,a,o){const l=e.coords,c=e.colors,u=t.data,h=4*t.width;let d;l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=r,r=a,a=d),l[i+1]>l[s+1]&&(d=i,i=s,s=d,d=a,a=o,o=d),l[n+1]>l[i+1]&&(d=n,n=i,i=d,d=r,r=a,a=d);const f=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY,v=(l[s]+e.offsetX)*e.scaleX,b=(l[s+1]+e.offsetY)*e.scaleY;if(p>=b)return;const y=c[r],w=c[r+1],x=c[r+2],A=c[a],_=c[a+1],S=c[a+2],k=c[o],E=c[o+1],C=c[o+2],M=Math.round(p),T=Math.round(b);let R,P,L,N,F,I,D,O;for(let j=M;j<=T;j++){if(j<m){const t=j<p?0:(p-j)/(p-m);R=f-(f-g)*t,P=y-(y-A)*t,L=w-(w-_)*t,N=x-(x-S)*t}else{let t;t=j>b?1:m===b?0:(m-j)/(m-b),R=g-(g-v)*t,P=A-(A-k)*t,L=_-(_-E)*t,N=S-(S-C)*t}let t;t=j<p?0:j>b?1:(p-j)/(p-b),F=f-(f-v)*t,I=y-(y-k)*t,D=w-(w-E)*t,O=x-(x-C)*t;const e=Math.round(Math.min(R,F)),n=Math.round(Math.max(R,F));let i=h*j+4*e;for(let s=e;s<=n;s++)t=(R-s)/(R-F),t<0?t=0:t>1&&(t=1),u[i++]=P-(P-I)*t|0,u[i++]=L-(L-D)*t|0,u[i++]=N-(N-O)*t|0,u[i++]=255}}function eu(t,e,n){const i=e.coords,s=e.colors;let r,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(r=0;r<l;r++){let e=r*o;for(let r=0;r<c;r++,e++)tu(t,n,i[e],i[e+1],i[e+o],s[e],s[e+1],s[e+o]),tu(t,n,i[e+o+1],i[e+1],i[e+o],s[e+o+1],s[e+1],s[e+o])}break;case"triangles":for(r=0,a=i.length;r<a;r+=3)tu(t,n,i[r],i[r+1],i[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}class nu extends Jc{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const i=Math.floor(this._bounds[0]),s=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-i,a=Math.ceil(this._bounds[3])-s,o=Math.min(Math.ceil(Math.abs(r*t[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),c=r/o,u=a/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-s,scaleX:1/c,scaleY:1/u},d=o+4,f=l+4,p=n.getCanvas("mesh",d,f),g=p.context,m=g.createImageData(o,l);if(e){const t=m.data;for(let n=0,i=t.length;n<i;n+=4)t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=255}for(const v of this._figures)eu(m,v,h);g.putImageData(m,2,2);return{canvas:p.canvas,offsetX:i-2*c,offsetY:s-2*u,scaleX:c,scaleY:u}}getPattern(t,e,n,i){let s;if($c(t,this._bbox),i===Qc)s=wr.singularValueDecompose2dScale(Zr(t));else if(s=wr.singularValueDecompose2dScale(e.baseTransform),this.matrix){const t=wr.singularValueDecompose2dScale(this.matrix);s=[s[0]*t[0],s[1]*t[1]]}const r=this._createMeshCanvas(s,i===Qc?null:this._background,e.cachedCanvases);return i!==Qc&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(r.offsetX,r.offsetY),t.scale(r.scaleX,r.scaleY),t.createPattern(r.canvas,"no-repeat")}}class iu extends Jc{getPattern(){return"hotpink"}}const su=1,ru=2;class au{constructor(t,e,n,i,s){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(t){const{bbox:e,operatorList:n,paintType:i,tilingType:s,color:r,canvasGraphicsFactory:a}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),er("TilingType: "+s);const c=e[0],u=e[1],h=e[2],d=e[3],f=h-c,p=d-u,g=wr.singularValueDecompose2dScale(this.matrix),m=wr.singularValueDecompose2dScale(this.baseTransform),v=g[0]*m[0],b=g[1]*m[1];let y=f,w=p,x=!1,A=!1;const _=Math.ceil(o*v),S=Math.ceil(l*b);_>=Math.ceil(f*v)?y=o:x=!0,S>=Math.ceil(p*b)?w=l:A=!0;const k=this.getSizeAndScale(y,this.ctx.canvas.width,v),E=this.getSizeAndScale(w,this.ctx.canvas.height,b),C=t.cachedCanvases.getCanvas("pattern",k.size,E.size),M=C.context,T=a.createCanvasGraphics(M);if(T.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(T,i,r),M.translate(-k.scale*c,-E.scale*u),T.transform(k.scale,0,0,E.scale,0,0),M.save(),this.clipBbox(T,c,u,h,d),T.baseTransform=Zr(T.ctx),T.executeOperatorList(n),T.endDrawing(),M.restore(),x||A){const e=C.canvas;x&&(y=o),A&&(w=l);const n=this.getSizeAndScale(y,this.ctx.canvas.width,v),i=this.getSizeAndScale(w,this.ctx.canvas.height,b),s=n.size,r=i.size,a=t.cachedCanvases.getCanvas("pattern-workaround",s,r),h=a.context,d=x?Math.floor(f/o):0,g=A?Math.floor(p/l):0;for(let t=0;t<=d;t++)for(let n=0;n<=g;n++)h.drawImage(e,s*t,r*n,s,r,0,0,s,r);return{canvas:a.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:c,offsetY:u}}return{canvas:C.canvas,scaleX:k.scale,scaleY:E.scale,offsetX:c,offsetY:u}}getSizeAndScale(t,e,n){const i=Math.max(au.MAX_PATTERN_SIZE,e);let s=Math.ceil(t*n);return s>=i?s=i:n=s/t,{scale:n,size:s}}clipBbox(t,e,n,i,s){const r=i-e,a=s-n;t.ctx.rect(e,n,r,a),t.current.updateRectMinMax(Zr(t.ctx),[e,n,i,s]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const i=t.ctx,s=t.current;switch(e){case su:const t=this.ctx;i.fillStyle=t.fillStyle,i.strokeStyle=t.strokeStyle,s.fillColor=t.fillStyle,s.strokeColor=t.strokeStyle;break;case ru:const r=wr.makeHexColor(n[0],n[1],n[2]);i.fillStyle=r,i.strokeStyle=r,s.fillColor=r,s.strokeColor=r;break;default:throw new fr("Unsupported paint type: ".concat(e))}}getPattern(t,e,n,i){let s=n;i!==Qc&&(s=wr.transform(s,e.baseTransform),this.matrix&&(s=wr.transform(s,this.matrix)));const r=this.createPatternCanvas(e);let a=new DOMMatrix(s);a=a.translate(r.offsetX,r.offsetY),a=a.scale(1/r.scaleX,1/r.scaleY);const o=t.createPattern(r.canvas,"repeat");return o.setTransform(a),o}}function ou(t){let{src:e,srcPos:n=0,dest:i,width:s,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=t;const l=br.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],h=s>>3,d=7&s,f=e.length;i=new Uint32Array(i.buffer);let p=0;for(let g=0;g<r;g++){for(const s=n+h;n<s;n++){const t=n<f?e[n]:255;i[p++]=128&t?u:c,i[p++]=64&t?u:c,i[p++]=32&t?u:c,i[p++]=16&t?u:c,i[p++]=8&t?u:c,i[p++]=4&t?u:c,i[p++]=2&t?u:c,i[p++]=1&t?u:c}if(0===d)continue;const t=n<f?e[n++]:255;for(let e=0;e<d;e++)i[p++]=t&1<<7-e?u:c}return{srcPos:n,destPos:p}}We(au,"MAX_PATTERN_SIZE",3e3);const lu=16;class cu{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let i;return void 0!==this.cache[t]?(i=this.cache[t],this.canvasFactory.reset(i,e,n)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function uu(t,e,n,i,s,r,a,o,l,c){const[u,h,d,f,p,g]=Zr(t);if(0===h&&0===d){const m=a*u+p,v=Math.round(m),b=o*f+g,y=Math.round(b),w=(a+l)*u+p,x=Math.abs(Math.round(w)-v)||1,A=(o+c)*f+g,_=Math.abs(Math.round(A)-y)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(f),v,y),t.drawImage(e,n,i,s,r,0,0,x,_),t.setTransform(u,h,d,f,p,g),[x,_]}if(0===u&&0===f){const m=o*d+p,v=Math.round(m),b=a*h+g,y=Math.round(b),w=(o+c)*d+p,x=Math.abs(Math.round(w)-v)||1,A=(a+l)*h+g,_=Math.abs(Math.round(A)-y)||1;return t.setTransform(0,Math.sign(h),Math.sign(d),0,v,y),t.drawImage(e,n,i,s,r,0,0,_,x),t.setTransform(u,h,d,f,p,g),[_,x]}t.drawImage(e,n,i,s,r,a,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,f)*c]}class hu{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=ss,this.textMatrixScale=1,this.fontMatrix=rs,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ys,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=wr.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=wr.applyTransform(e,t),i=wr.applyTransform(e.slice(2),t),s=wr.applyTransform([e[0],e[3]],t),r=wr.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],i[0],s[0],r[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],r[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],r[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],r[1])}updateScalingPathMinMax(t,e){wr.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,i,s,r,a,o,l,c){const u=wr.bezierBoundingBox(e,n,i,s,r,a,o,l,c);c||this.updateRectMinMax(t,u)}getPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Yc){e||ir("Stroke bounding box must include transform.");const t=wr.singularValueDecompose2dScale(e),i=t[0]*this.lineWidth/2,s=t[1]*this.lineWidth/2;n[0]-=i,n[1]-=s,n[2]+=i,n[3]+=s}return n}updateClipFromPath(){const t=wr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kc,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return wr.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function du(t,e){if("undefined"!==typeof ImageData&&e instanceof ImageData)return void t.putImageData(e,0,0);const n=e.height,i=e.width,s=n%lu,r=(n-s)/lu,a=0===s?r:r+1,o=t.createImageData(i,lu);let l,c=0;const u=e.data,h=o.data;let d,f,p,g;if(e.kind===ks.GRAYSCALE_1BPP){const e=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=i+7>>3,v=4294967295,b=br.isLittleEndian?4278190080:255;for(d=0;d<a;d++){for(p=d<r?lu:s,l=0,f=0;f<p;f++){const t=e-c;let s=0;const r=t>m?i:8*t-7,a=-8&r;let o=0,h=0;for(;s<a;s+=8)h=u[c++],n[l++]=128&h?v:b,n[l++]=64&h?v:b,n[l++]=32&h?v:b,n[l++]=16&h?v:b,n[l++]=8&h?v:b,n[l++]=4&h?v:b,n[l++]=2&h?v:b,n[l++]=1&h?v:b;for(;s<r;s++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:b,o>>=1}for(;l<g;)n[l++]=0;t.putImageData(o,0,d*lu)}}else if(e.kind===ks.RGBA_32BPP){for(f=0,g=i*lu*4,d=0;d<r;d++)h.set(u.subarray(c,c+g)),c+=g,t.putImageData(o,0,f),f+=lu;d<a&&(g=i*s*4,h.set(u.subarray(c,c+g)),t.putImageData(o,0,f))}else{if(e.kind!==ks.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(p=lu,g=i*p,d=0;d<a;d++){for(d>=r&&(p=s,g=i*p),l=0,f=g;f--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;t.putImageData(o,0,d*lu)}}}function fu(t,e){if(e.bitmap)return void t.drawImage(e.bitmap,0,0);const n=e.height,i=e.width,s=n%lu,r=(n-s)/lu,a=0===s?r:r+1,o=t.createImageData(i,lu);let l=0;const c=e.data,u=o.data;for(let h=0;h<a;h++){const e=h<r?lu:s;({srcPos:l}=ou({src:c,srcPos:l,dest:u,width:i,height:e,nonBlackColor:0})),t.putImageData(o,0,h*lu)}}function pu(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==t[i]&&(e[i]=t[i]);void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function gu(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),!is){const{filter:e}=t;"none"!==e&&""!==e&&(t.filter="none")}}function mu(t,e){if(e)return!0;const n=wr.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const i=Math.fround((globalThis.devicePixelRatio||1)*Or.PDF_TO_CSS_UNITS);return n[0]<=i&&n[1]<=i}const vu=["butt","round","square"],bu=["miter","round","bevel"],yu={},wu={};var xu=new WeakSet;class Au{constructor(t,e,n,i,s,r,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=r;Oi(this,xu),this.ctx=t,this.current=new hu(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new cu(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing(t){let{transform:e,viewport:n,transparency:i=!1,background:s=null}=t;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,i){const t=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform(...Zr(this.compositeCtx))}this.ctx.save(),gu(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Zr(this.ctx)}executeOperatorList(t,e,n,i){const s=t.argsArray,r=t.fnArray;let a=e||0;const o=s.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const h=this.commonObjs,d=this.objs;let f;for(;;){if(void 0!==i&&a===i.nextBreakPoint)return i.breakIt(a,n),a;if(f=r[a],f!==Qs.dependency)this[f].apply(this,s[a]);else for(const t of s[a]){const e=t.startsWith("g_")?h:d;if(!e.has(t))return e.get(t,n),a}if(a++,a===o)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}endDrawing(){Wi(xu,this,_u).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),Wi(xu,this,Su).call(this)}_scaleImage(t,e){var n,i;const s=null!==(n=t.width)&&void 0!==n?n:t.displayWidth,r=null!==(i=t.height)&&void 0!==i?i:t.displayHeight;let a,o,l=Math.max(Math.hypot(e[0],e[1]),1),c=Math.max(Math.hypot(e[2],e[3]),1),u=s,h=r,d="prescale1";for(;l>2&&u>1||c>2&&h>1;){let e=u,n=h;l>2&&u>1&&(e=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/e),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),a=this.cachedCanvases.getCanvas(d,e,n),o=a.context,o.clearRect(0,0,e,n),o.drawImage(t,0,0,u,h,0,0,e,n),t=a.canvas,u=e,h=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:h}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:i}=t,s=this.current.fillColor,r=this.current.patternFill,a=Zr(e);let o,l,c,u;if((t.bitmap||t.data)&&t.count>1){const e=t.bitmap||t.data.buffer;l=JSON.stringify(r?a:[a.slice(0,4),s]),o=this._cachedBitmapsMap.get(e),o||(o=new Map,this._cachedBitmapsMap.set(e,o));const n=o.get(l);if(n&&!r){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,i),fu(u.context,t));let h=wr.transform(a,[1/n,0,0,-1/i,0,0]);h=wr.transform(h,[1,0,0,1,0,-i]);const[d,f,p,g]=wr.getAxialAlignedBoundingBox([0,0,n,i],h),m=Math.round(p-d)||1,v=Math.round(g-f)||1,b=this.cachedCanvases.getCanvas("fillCanvas",m,v),y=b.context,w=d,x=f;y.translate(-w,-x),y.transform(...h),c||(c=this._scaleImage(u.canvas,ta(y)),c=c.img,o&&r&&o.set(l,c)),y.imageSmoothingEnabled=mu(Zr(y),t.interpolate),uu(y,c,0,0,c.width,c.height,0,0,n,i),y.globalCompositeOperation="source-in";const A=wr.transform(ta(y),[1,0,0,1,-w,-x]);return y.fillStyle=r?s.getPattern(e,this,A,Kc):s,y.fillRect(0,0,n,i),o&&!r&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,b.canvas)),{canvas:b.canvas,offsetX:Math.round(w),offsetY:Math.round(x)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=vu[t]}setLineJoin(t){this.ctx.lineJoin=bu[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Zr(this.suspendedCtx)),pu(this.suspendedCtx,s),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,i,s,r,a){e.transform(t,n,i,s,r,a),this.__originalTransform(t,n,i,s,r,a)},t.setTransform=function(t,n,i,s,r,a){e.setTransform(t,n,i,s,r,a),this.__originalSetTransform(t,n,i,s,r,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,i,s,r,a){e.bezierCurveTo(t,n,i,s,r,a),this.__originalBezierCurveTo(t,n,i,s,r,a)},t.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),pu(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,i){const s=i[0],r=i[1],a=i[2]-s,o=i[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(e.context,n,a,o,e.subtype,e.backdrop,e.transferMap,s,r,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,i,s,r,a,o,l,c,u){let h=t.canvas,d=o-c,f=l-u;if(r){const e=wr.makeHexColor(...r);if(d<0||f<0||d+n>h.width||f+i>h.height){const t=this.cachedCanvases.getCanvas("maskExtension",n,i),s=t.context;s.drawImage(h,-d,-f),s.globalCompositeOperation="destination-atop",s.fillStyle=e,s.fillRect(0,0,n,i),s.globalCompositeOperation="source-over",h=t.canvas,d=f=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const s=new Path2D;s.rect(d,f,n,i),t.clip(s),t.globalCompositeOperation="destination-atop",t.fillStyle=e,t.fillRect(d,f,n,i),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===s&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===s&&(e.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(o,l,n,i),e.clip(p),e.globalCompositeOperation="destination-in",e.drawImage(h,d,f,n,i,o,l,n,i),e.restore()}save(){this.inSMaskMode?(pu(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),pu(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,i,s,r){this.ctx.transform(t,e,n,i,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const i=this.ctx,s=this.current;let r,a,o=s.x,l=s.y;const c=Zr(i),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=u?n.slice(0):null;for(let d=0,f=0,p=t.length;d<p;d++)switch(0|t[d]){case Qs.rectangle:o=e[f++],l=e[f++];const t=e[f++],n=e[f++],d=o+t,p=l+n;i.moveTo(o,l),0===t||0===n?i.lineTo(d,p):(i.lineTo(d,l),i.lineTo(d,p),i.lineTo(o,p)),u||s.updateRectMinMax(c,[o,l,d,p]),i.closePath();break;case Qs.moveTo:o=e[f++],l=e[f++],i.moveTo(o,l),u||s.updatePathMinMax(c,o,l);break;case Qs.lineTo:o=e[f++],l=e[f++],i.lineTo(o,l),u||s.updatePathMinMax(c,o,l);break;case Qs.curveTo:r=o,a=l,o=e[f+4],l=e[f+5],i.bezierCurveTo(e[f],e[f+1],e[f+2],e[f+3],o,l),s.updateCurvePathMinMax(c,r,a,e[f],e[f+1],e[f+2],e[f+3],o,l,h),f+=6;break;case Qs.curveTo2:r=o,a=l,i.bezierCurveTo(o,l,e[f],e[f+1],e[f+2],e[f+3]),s.updateCurvePathMinMax(c,r,a,o,l,e[f],e[f+1],e[f+2],e[f+3],h),o=e[f+2],l=e[f+3],f+=4;break;case Qs.curveTo3:r=o,a=l,o=e[f+2],l=e[f+3],i.bezierCurveTo(e[f],e[f+1],o,l,o,l),s.updateCurvePathMinMax(c,r,a,e[f],e[f+1],o,l,o,l,h),f+=4;break;case Qs.closePath:i.closePath()}u&&s.updateScalingPathMinMax(c,h),s.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,ta(e),Yc),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const e=this.ctx,n=this.current.fillColor;let i=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,ta(e),Kc),i=!0);const s=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==s&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),i&&e.restore(),t&&this.consumePath(s)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=yu}eoClip(){this.pendingClip=wu}beginText(){this.current.textMatrix=ss,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var n;const i=this.commonObjs.get(t),s=this.current;if(!i)throw new Error("Can't find font for ".concat(t));if(s.fontMatrix=i.fontMatrix||rs,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||nr("Invalid font matrix for font "+t),e<0?(e=-e,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=e,i.isType3Font)return;const r=i.loadedName||"sans-serif",a=(null===(n=i.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(r,'", ').concat(i.fallbackName);let o="normal";i.black?o="900":i.bold&&(o="bold");const l=i.italic?"italic":"normal";let c=e;e<16?c=16:e>100&&(c=100),this.current.fontSizeScale=e/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(a)}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,i,s,r){this.current.textMatrix=[t,e,n,i,s,r],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,i){const s=this.ctx,r=this.current,a=r.font,o=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,c=o&_s,u=!!(o&Ss),h=r.patternFill&&!a.missingFile;let d;if((a.disableFontFace||u||h)&&(d=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||h?(s.save(),s.translate(e,n),s.beginPath(),d(s,l),i&&s.setTransform(...i),c!==ys&&c!==xs||s.fill(),c!==ws&&c!==xs||s.stroke(),s.restore()):(c!==ys&&c!==xs||s.fillText(t,e,n),c!==ws&&c!==xs||s.strokeText(t,e,n)),u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Zr(s),x:e,y:n,fontSize:l,addToPath:d})}}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return ar(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(0===i)return;const s=this.ctx,r=e.fontSizeScale,a=e.charSpacing,o=e.wordSpacing,l=e.fontDirection,c=e.textHScale*l,u=t.length,h=n.vertical,d=h?1:-1,f=n.defaultVMetrics,p=i*e.fontMatrix[0],g=e.textRenderingMode===ys&&!n.disableFontFace&&!e.patternFill;let m;if(s.save(),s.transform(...e.textMatrix),s.translate(e.x,e.y+e.textRise),l>0?s.scale(c,-1):s.scale(c,1),e.patternFill){s.save();const t=e.fillColor.getPattern(s,this,ta(s),Kc);m=Zr(s),s.restore(),s.fillStyle=t}let v=e.lineWidth;const b=e.textMatrixScale;if(0===b||0===v){const t=e.textRenderingMode&_s;t!==ws&&t!==xs||(v=this.getSinglePixelWidth())}else v/=b;if(1!==r&&(s.scale(r,r),v/=r),s.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let i=0;for(const e of t)n.push(e.unicode),i+=e.width;return s.fillText(n.join(""),0,0),e.x+=i*p*c,s.restore(),void this.compose()}let y,w=0;for(y=0;y<u;++y){const e=t[y];if("number"===typeof e){w+=d*e*i/1e3;continue}let c=!1;const u=(e.isSpace?o:0)+a,v=e.fontChar,b=e.accent;let x,A,_=e.width;if(h){const t=e.vmetric||f,n=-(e.vmetric?t[1]:.5*_)*p,i=t[2]*p;_=t?-t[0]:_,x=n/r,A=(w+i)/r}else x=w/r,A=0;if(n.remeasure&&_>0){const t=1e3*s.measureText(v).width/i*r;if(_<t&&this.isFontSubpixelAAEnabled){const e=_/t;c=!0,s.save(),s.scale(e,1),x/=e}else _!==t&&(x+=(_-t)/2e3*i/r)}if(this.contentVisible&&(e.isInFont||n.missingFile))if(g&&!b)s.fillText(v,x,A);else if(this.paintChar(v,x,A,m),b){const t=x+i*b.offset.x/r,e=A-i*b.offset.y/r;this.paintChar(b.fontChar,t,e,m)}w+=h?_*p-u*l:_*p+u*l,c&&s.restore()}h?e.y-=w:e.x+=w*c,s.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,i=n.font,s=n.fontSize,r=n.fontDirection,a=i.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*r,u=n.fontMatrix||rs,h=t.length;let d,f,p,g;if(!(n.textRenderingMode===As)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(c,r),d=0;d<h;++d){if(f=t[d],"number"===typeof f){g=a*f*s/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const r=(f.isSpace?l:0)+o,h=i.charProcOperatorList[f.operatorListId];if(!h){nr('Type3 character "'.concat(f.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=f,this.save(),e.scale(s,s),e.transform(...u),this.executeOperatorList(h),this.restore());p=wr.applyTransform([f.width,0],u)[0]*s+r,e.translate(p,0),n.x+=p*c}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,i,s,r){this.ctx.rect(n,i,s-n,r-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if("TilingPattern"===t[0]){const n=t[1],i=this.baseTransform||Zr(this.ctx),s={createCanvasGraphics:t=>new Au(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new au(t,n,this.ctx,s,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){this.ctx.strokeStyle=this.current.strokeColor=wr.makeHexColor(t,e,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,n){this.ctx.fillStyle=this.current.fillColor=wr.makeHexColor(t,e,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new Zc(t);case"Mesh":return new nu(t);case"Dummy":return new iu}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,ta(e),Qc);const i=ta(e);if(i){const{width:t,height:n}=e.canvas,[s,r,a,o]=wr.getAxialAlignedBoundingBox([0,0,t,n],i);this.ctx.fillRect(s,r,a-s,o-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ir("Should not call beginInlineImage")}beginImageData(){ir("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Zr(this.ctx),e)){const t=e[2]-e[0],n=e[3]-e[1];this.ctx.rect(e[0],e[1],t,n),this.current.updateRectMinMax(Zr(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||er("TODO: Support non-isolated groups."),t.knockout&&nr("Knockout groups not supported.");const n=Zr(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=wr.getAxialAlignedBoundingBox(t.bbox,Zr(e));const s=[0,0,e.canvas.width,e.canvas.height];i=wr.intersect(i,s)||[0,0,0,0];const r=Math.floor(i[0]),a=Math.floor(i[1]),o=Math.max(Math.ceil(i[2])-r,1),l=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;t.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),h=u.context;h.translate(-r,-a),h.transform(...n),t.smask?this.smaskStack.push({canvas:u.canvas,context:h,offsetX:r,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(r,a),e.save()),pu(e,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const t=Zr(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...t);const n=wr.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],t);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(t,e,n,i,s){if(Wi(xu,this,_u).call(this),gu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const i=e[2]-e[0],r=e[3]-e[1];if(s&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=i,e[3]=r;const[s,a]=wr.singularValueDecompose2dScale(Zr(this.ctx)),{viewportScale:o}=this,l=Math.ceil(i*this.outputScaleX*o),c=Math.ceil(r*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(t,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(s,0,0,-a,0,r*a),gu(this.ctx)}else gu(this.ctx),this.endPath(),this.ctx.rect(e[0],e[1],i,r),this.ctx.clip(),this.ctx.beginPath()}this.current=new hu(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),Wi(xu,this,Su).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;(t=this.getObject(t.data,t)).count=e;const n=this.ctx,i=this.processingType3;if(i&&(void 0===i.compiled&&(i.compiled=function(t){const{width:e,height:n}=t;if(e>1e3||n>1e3)return null;const i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let r,a,o,l=new Uint8Array(s*(n+1));const c=e+7&-8;let u=new Uint8Array(c*n),h=0;for(const g of t.data){let t=128;for(;t>0;)u[h++]=g&t?0:255,t>>=1}let d=0;for(h=0,0!==u[h]&&(l[0]=1,++d),a=1;a<e;a++)u[h]!==u[h+1]&&(l[a]=u[h]?2:1,++d),h++;for(0!==u[h]&&(l[a]=2,++d),r=1;r<n;r++){h=r*c,o=r*s,u[h-c]!==u[h]&&(l[o]=u[h]?1:8,++d);let t=(u[h]?4:0)+(u[h-c]?8:0);for(a=1;a<e;a++)t=(t>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),i[t]&&(l[o+a]=i[t],++d),h++;if(u[h-c]!==u[h]&&(l[o+a]=u[h]?2:4,++d),d>1e3)return null}for(h=c*(n-1),o=r*s,0!==u[h]&&(l[o]=8,++d),a=1;a<e;a++)u[h]!==u[h+1]&&(l[o+a]=u[h]?4:8,++d),h++;if(0!==u[h]&&(l[o+a]=4,++d),d>1e3)return null;const f=new Int32Array([0,s,-1,0,-s,0,0,0,1]),p=new Path2D;for(r=0;d&&r<=n;r++){let t=r*s;const n=t+e;for(;t<n&&!l[t];)t++;if(t===n)continue;p.moveTo(t%s,r);const i=t;let a=l[t];do{const e=f[a];do{t+=e}while(!l[t]);const n=l[t];5!==n&&10!==n?(a=n,l[t]=0):(a=n&51*a>>4,l[t]&=a>>2|a<<2),p.lineTo(t%s,t/s|0),l[t]||--d}while(i!==t);--r}return u=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(p),t.beginPath(),t.restore()}}(t)),i.compiled))return void i.compiled(n);const s=this._createMaskCanvas(t),r=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(r,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,r=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const o=Zr(a);a.transform(e,n,i,s,0,0);const l=this._createMaskCanvas(t);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=r.length;c<u;c+=2){const t=wr.transform(o,[e,n,i,s,r[c],r[c+1]]),[u,h]=wr.applyTransform([0,0],t);a.drawImage(l.canvas,u,h)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of t){const{data:t,width:r,height:a,transform:o}=s,l=this.cachedCanvases.getCanvas("maskCanvas",r,a),c=l.context;c.save();fu(c,this.getObject(t,s)),c.globalCompositeOperation="source-in",c.fillStyle=i?n.getPattern(c,this,ta(e),Kc):n,c.fillRect(0,0,r,a),c.restore(),e.save(),e.transform(...o),e.scale(1,-1),uu(e,l.canvas,0,0,r,a,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);e?this.paintInlineImageXObject(e):nr("Dependent image isn't ready yet")}paintImageXObjectRepeat(t,e,n,i){if(!this.contentVisible)return;const s=this.getObject(t);if(!s)return void nr("Dependent image isn't ready yet");const r=s.width,a=s.height,o=[];for(let l=0,c=i.length;l<c;l+=2)o.push({transform:[e,0,0,n,i[l],i[l+1]],x:0,y:0,w:r,h:a});this.paintInlineImageXObjectGroup(s,o)}applyTransferMapsToCanvas(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if("none"===this.current.transferMaps)return t.bitmap;const{bitmap:e,width:n,height:i}=t,s=this.cachedCanvases.getCanvas("inlineImage",n,i),r=s.context;return r.filter=this.current.transferMaps,r.drawImage(e,0,0),r.filter="none",s.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,i=this.ctx;if(this.save(),!is){const{filter:t}=i;"none"!==t&&""!==t&&(i.filter="none")}let s;if(i.scale(1/e,-1/n),t.bitmap)s=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)s=t;else{const i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;du(i,t),s=this.applyTransferMapsToCanvas(i)}const r=this._scaleImage(s,ta(i));i.imageSmoothingEnabled=mu(Zr(i),t.interpolate),uu(i,r.img,0,0,r.paintWidth,r.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const e=t.width,n=t.height,s=this.cachedCanvases.getCanvas("inlineImage",e,n).context;du(s,t),i=this.applyTransferMapsToCanvas(s)}for(const s of e)n.save(),n.transform(...s.transform),n.scale(1,-1),uu(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===wu?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Zr(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:t}=this.current,{a:e,b:n,c:i,d:s}=this.ctx.getTransform();let r,a;if(0===n&&0===i){const n=Math.abs(e),i=Math.abs(s);if(n===i)if(0===t)r=a=1/n;else{const e=n*t;r=a=e<1?1/e:1}else if(0===t)r=1/n,a=1/i;else{const e=n*t,s=i*t;r=e<1?1/e:1,a=s<1?1/s:1}}else{const o=Math.abs(e*s-n*i),l=Math.hypot(e,n),c=Math.hypot(i,s);if(0===t)r=c/o,a=l/o;else{const e=t*o;r=c>e?c/e:1,a=l>e?l/e:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(e.lineWidth=n||1,1===i&&1===s)return void e.stroke();const r=e.getLineDash();if(t&&e.save(),e.scale(i,s),r.length>0){const t=Math.max(i,s);e.setLineDash(r.map((e=>e/t))),e.lineDashOffset/=t}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}function _u(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Su(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}for(const n in Qs)void 0!==Au.prototype[n]&&(Au.prototype[Qs[n]]=Au.prototype[n]);class ku{static get workerPort(){return Wi(ku,this,Eu)._}static set workerPort(t){if(!("undefined"!==typeof Worker&&t instanceof Worker)&&null!==t)throw new Error("Invalid `workerPort` type.");Eu._=Wi(ku,this,t)}static get workerSrc(){return Wi(ku,this,Cu)._}static set workerSrc(t){if("string"!==typeof t)throw new Error("Invalid `workerSrc` type.");Cu._=Wi(ku,this,t)}}var Eu={_:null},Cu={_:""};const Mu=1,Tu=2,Ru=1,Pu=2,Lu=3,Nu=4,Fu=5,Iu=6,Du=7,Ou=8;function ju(t){switch(t instanceof Error||"object"===typeof t&&null!==t||ir('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new pr(t.message);case"MissingPDFException":return new hr(t.message);case"PasswordException":return new lr(t.message,t.code);case"UnexpectedResponseException":return new dr(t.message,t.status);case"UnknownErrorException":return new cr(t.message,t.details);default:return new cr(t.message,t.toString())}}var Wu=new WeakMap,Bu=new WeakSet;class zu{constructor(t,e,n){Oi(this,Bu),ji(this,Wu,new AbortController),this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",Wi(Bu,this,Hu).bind(this),{signal:zi(Wu,this).signal})}on(t,e){const n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},n)}catch(r){s.reject(r)}return s.promise}sendWithStream(t,e,n,i){const s=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[s]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:t,streamId:s,data:e,desiredSize:n.desiredSize},i),l.promise},pull:t=>{const e=Promise.withResolvers();return this.streamControllers[s].pullCall=e,o.postMessage({sourceName:r,targetName:a,stream:Iu,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:t=>{sr(t instanceof Error,"cancel must have a valid reason");const e=Promise.withResolvers();return this.streamControllers[s].cancelCall=e,this.streamControllers[s].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:Ru,streamId:s,reason:ju(t)}),e.promise}},n)}destroy(){var t;null===(t=zi(Wu,this))||void 0===t||t.abort(),Hi(Wu,this,null)}}function Hu(t){let{data:e}=t;if(e.targetName!==this.sourceName)return;if(e.stream)return void Wi(Bu,this,Vu).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error("Cannot resolve callback ".concat(t));if(delete this.callbackCapabilities[t],e.callback===Mu)n.resolve(e.data);else{if(e.callback!==Tu)throw new Error("Unexpected callback case");n.reject(ju(e.reason))}return}const n=this.actionHandler[e.action];if(!n)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){const t=this.sourceName,i=e.sourceName,s=this.comObj;new Promise((function(t){t(n(e.data))})).then((function(n){s.postMessage({sourceName:t,targetName:i,callback:Mu,callbackId:e.callbackId,data:n})}),(function(n){s.postMessage({sourceName:t,targetName:i,callback:Tu,callbackId:e.callbackId,reason:ju(n)})}))}else e.streamId?Wi(Bu,this,Uu).call(this,e):n(e.data)}function Uu(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this,a=this.actionHandler[t.action],o={enqueue(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Nu,streamId:e,chunk:t},a)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Lu,streamId:e}),delete r.streamSinks[e])},error(t){sr(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Fu,streamId:e,reason:ju(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[e]=o,new Promise((function(e){e(a(t.data,o))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Ou,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:Ou,streamId:e,reason:ju(t)})}))}function Vu(t){const e=t.streamId,n=this.sourceName,i=t.sourceName,s=this.comObj,r=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case Ou:t.success?r.startCall.resolve():r.startCall.reject(ju(t.reason));break;case Du:t.success?r.pullCall.resolve():r.pullCall.reject(ju(t.reason));break;case Iu:if(!a){s.postMessage({sourceName:n,targetName:i,stream:Du,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise((function(t){var e;t(null===(e=a.onPull)||void 0===e?void 0:e.call(a))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Du,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:Du,streamId:e,reason:ju(t)})}));break;case Nu:if(sr(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(t.chunk);break;case Lu:if(sr(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),Wi(Bu,this,qu).call(this,r,e);break;case Fu:sr(r,"error should have stream controller"),r.controller.error(ju(t.reason)),Wi(Bu,this,qu).call(this,r,e);break;case Pu:t.success?r.cancelCall.resolve():r.cancelCall.reject(ju(t.reason)),Wi(Bu,this,qu).call(this,r,e);break;case Ru:if(!a)break;new Promise((function(e){var n;e(null===(n=a.onCancel)||void 0===n?void 0:n.call(a,ju(t.reason)))})).then((function(){s.postMessage({sourceName:n,targetName:i,stream:Pu,streamId:e,success:!0})}),(function(t){s.postMessage({sourceName:n,targetName:i,stream:Pu,streamId:e,reason:ju(t)})})),a.sinkCapability.reject(ju(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async function qu(t,e){var n,i,s;await Promise.allSettled([null===(n=t.startCall)||void 0===n?void 0:n.promise,null===(i=t.pullCall)||void 0===i?void 0:i.promise,null===(s=t.cancelCall)||void 0===s?void 0:s.promise]),delete this.streamControllers[e]}var Gu=new WeakMap,Xu=new WeakMap;class Ku{constructor(t){let{parsedData:e,rawData:n}=t;ji(this,Gu,void 0),ji(this,Xu,void 0),Hi(Gu,this,e),Hi(Xu,this,n)}getRaw(){return zi(Xu,this)}get(t){var e;return null!==(e=zi(Gu,this).get(t))&&void 0!==e?e:null}getAll(){return vr(zi(Gu,this))}has(t){return zi(Gu,this).has(t)}}const Yu=Symbol("INTERNAL");var Qu=new WeakMap,$u=new WeakMap,Ju=new WeakMap,Zu=new WeakMap;class th{constructor(t,e){let{name:n,intent:i,usage:s,rbGroups:r}=e;ji(this,Qu,!1),ji(this,$u,!1),ji(this,Ju,!1),ji(this,Zu,!0),Hi(Qu,this,!!(t&ls)),Hi($u,this,!!(t&cs)),this.name=n,this.intent=i,this.usage=s,this.rbGroups=r}get visible(){if(zi(Ju,this))return zi(Zu,this);if(!zi(Zu,this))return!1;const{print:t,view:e}=this.usage;return zi(Qu,this)?"OFF"!==(null===e||void 0===e?void 0:e.viewState):!zi($u,this)||"OFF"!==(null===t||void 0===t?void 0:t.printState)}_setVisible(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==Yu&&ir("Internal method `_setVisible` called."),Hi(Ju,this,n),Hi(Zu,this,e)}}var eh=new WeakMap,nh=new WeakMap,ih=new WeakMap,sh=new WeakMap,rh=new WeakSet;class ah{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ls;if(Oi(this,rh),ji(this,eh,null),ji(this,nh,new Map),ji(this,ih,null),ji(this,sh,null),this.renderingIntent=e,this.name=null,this.creator=null,null!==t){this.name=t.name,this.creator=t.creator,Hi(sh,this,t.order);for(const n of t.groups)zi(nh,this).set(n.id,new th(e,n));if("OFF"===t.baseState)for(const t of zi(nh,this).values())t._setVisible(Yu,!1);for(const e of t.on)zi(nh,this).get(e)._setVisible(Yu,!0);for(const e of t.off)zi(nh,this).get(e)._setVisible(Yu,!1);Hi(ih,this,this.getHash())}}isVisible(t){if(0===zi(nh,this).size)return!0;if(!t)return er("Optional content group not defined."),!0;if("OCG"===t.type)return zi(nh,this).has(t.id)?zi(nh,this).get(t.id).visible:(nr("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return Wi(rh,this,oh).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){for(const e of t.ids){if(!zi(nh,this).has(e))return nr("Optional content group not found: ".concat(e)),!0;if(zi(nh,this).get(e).visible)return!0}return!1}if("AllOn"===t.policy){for(const e of t.ids){if(!zi(nh,this).has(e))return nr("Optional content group not found: ".concat(e)),!0;if(!zi(nh,this).get(e).visible)return!1}return!0}if("AnyOff"===t.policy){for(const e of t.ids){if(!zi(nh,this).has(e))return nr("Optional content group not found: ".concat(e)),!0;if(!zi(nh,this).get(e).visible)return!0}return!1}if("AllOff"===t.policy){for(const e of t.ids){if(!zi(nh,this).has(e))return nr("Optional content group not found: ".concat(e)),!0;if(zi(nh,this).get(e).visible)return!1}return!0}return nr("Unknown optional content policy ".concat(t.policy,".")),!0}return nr("Unknown group type ".concat(t.type,".")),!0}setVisibility(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=zi(nh,this).get(t);if(i){if(n&&e&&i.rbGroups.length)for(const e of i.rbGroups)for(const n of e){var s;if(n!==t)null===(s=zi(nh,this).get(n))||void 0===s||s._setVisible(Yu,!1,!0)}i._setVisible(Yu,!!e,!0),Hi(eh,this,null)}else nr("Optional content group not found: ".concat(t))}setOCGState(t){let e,{state:n,preserveRB:i}=t;for(const s of n){switch(s){case"ON":case"OFF":case"Toggle":e=s;continue}const t=zi(nh,this).get(s);if(t)switch(e){case"ON":this.setVisibility(s,!0,i);break;case"OFF":this.setVisibility(s,!1,i);break;case"Toggle":this.setVisibility(s,!t.visible,i)}}Hi(eh,this,null)}get hasInitialVisibility(){return null===zi(ih,this)||this.getHash()===zi(ih,this)}getOrder(){return zi(nh,this).size?zi(sh,this)?zi(sh,this).slice():[...zi(nh,this).keys()]:null}getGroups(){return zi(nh,this).size>0?vr(zi(nh,this)):null}getGroup(t){return zi(nh,this).get(t)||null}getHash(){if(null!==zi(eh,this))return zi(eh,this);const t=new sc;for(const[e,n]of zi(nh,this))t.update("".concat(e,":").concat(n.visible));return Hi(eh,this,t.hexdigest())}}function oh(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let i=1;i<e;i++){const e=t[i];let s;if(Array.isArray(e))s=Wi(rh,this,oh).call(this,e);else{if(!zi(nh,this).has(e))return nr("Optional content group not found: ".concat(e)),!0;s=zi(nh,this).get(e).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}class lh{constructor(t,e){let{disableRange:n=!1,disableStream:i=!1}=e;sr(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:r,progressiveDone:a,contentDispositionFilename:o}=t;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===r||void 0===r?void 0:r.length)>0){const t=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(t)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener(((t,e)=>{this._onReceiveData({begin:t,chunk:e})})),t.addProgressListener(((t,e)=>{this._onProgress({loaded:t,total:e})})),t.addProgressiveReadListener((t=>{this._onReceiveData({chunk:t})})),t.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),t.transportReady()}_onReceiveData(t){let{begin:e,chunk:n}=t;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{sr(this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(i),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}_onProgress(t){var e,n,i,s;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(s=i.onProgress)||void 0===s||s.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){sr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new ch(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new uh(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class ch{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=t,this._done=n||!1,this._filename=Hr(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunks.push(t);this._loaded+=t.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class uh{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function hh(t,e){const n=new Headers;if(!t||!e||"object"!==typeof e)return n;for(const i in e){const t=e[i];void 0!==t&&n.append(i,t)}return n}function dh(t){let{responseHeaders:e,isHttp:n,rangeChunkSize:i,disableRange:s}=t;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*i)return r;if(s||!n)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function fh(t){const e=t.get("Content-Disposition");if(e){let t=function(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let t=a(n);return t=unescape(t),t=o(t),t=l(t),r(t)}if(n=function(t){const e=[];let n;const s=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=s.exec(t));){let[,t,i,s]=n;if(t=parseInt(t,10),t in e){if(0===t)break}else e[t]=[i,s]}const r=[];for(let i=0;i<e.length&&i in e;++i){let[t,n]=e[i];n=a(n),t&&(n=unescape(n),0===i&&(n=o(n))),r.push(n)}return r.join("")}(t),n)return r(l(n));if(n=i("filename","i").exec(t),n){n=n[1];let t=a(n);return t=l(t),r(t)}function i(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function s(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(t,{fatal:!0}),s=mr(n);n=i.decode(s),e=!1}catch(i){}}return n}function r(t){return e&&/[\x80-\xff]/.test(t)&&(t=s("utf-8",t),e&&(t=s("iso-8859-1",t))),t}function a(t){if(t.startsWith('"')){const e=t.slice(1).split('\\"');for(let t=0;t<e.length;++t){const n=e[t].indexOf('"');-1!==n&&(e[t]=e[t].slice(0,n),e.length=t+1),e[t]=e[t].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function o(t){const e=t.indexOf("'");return-1===e?t:s(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function l(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,i){if("q"===n||"Q"===n)return s(e,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{i=atob(i)}catch(r){}return s(e,i)}))}return""}(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch(n){}if(Hr(t))return t}return null}function ph(t,e){return 404===t||0===t&&e.startsWith("file:")?new hr('Missing PDF "'+e+'".'):new dr("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)}function gh(t){return 200===t||206===t}function mh(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function vh(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(nr("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}class bh{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=hh(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return sr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yh(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new wh(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class yh{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),i=e.url;fetch(i,mh(n,this._withCredentials,this._abortController)).then((e=>{if(!gh(e.status))throw ph(e.status,i);this._reader=e.body.getReader(),this._headersCapability.resolve();const n=e.headers,{allowRangeRequests:s,suggestedLength:r}=dh({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=s,this._contentLength=r||this._contentLength,this._filename=fh(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new pr("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:vh(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class wh{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(t.headers);s.append("Range","bytes=".concat(e,"-").concat(n-1));const r=i.url;fetch(r,mh(s,this._withCredentials,this._abortController)).then((t=>{if(!gh(t.status))throw ph(t.status,r);this._readCapability.resolve(),this._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded}),{value:vh(e),done:!1})}cancel(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}class xh{constructor(t){let{url:e,httpHeaders:n,withCredentials:i}=t;this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=hh(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const i={begin:t,end:e};for(const s in n)i[s]=n[s];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[s,r]of this.headers)e.setRequestHeader(s,r);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),i.expectedStatus=206):i.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var n;const i=this.pendingRequests[t];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,e))}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(t in this.pendingRequests))return;var s;if(delete this.pendingRequests[t],0===i.status&&this.isHttp)return void(null===(s=n.onError)||void 0===s||s.call(n,i.status));const r=i.status||200;var a;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,i.status));const o=function(t){const e=t.response;return"string"!==typeof e?e:mr(e).buffer}(i);if(206===r){const t=i.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(t);n.onDone({begin:parseInt(e[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,i.status)}}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class Ah{constructor(t){this._source=t,this._manager=new xh(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return sr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _h(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new Sh(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class _h{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=new Headers(e.getAllResponseHeaders().trim().split(/[\r\n]+/).map((t=>{const[e,...n]=t.split(": ");return[e,n.join(": ")]}))),{allowRangeRequests:i,suggestedLength:s}=dh({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=fh(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t)if(this._requests.length>0){this._requests.shift().resolve({value:t.chunk,done:!1})}else this._cachedChunks.push(t.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=ph(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Sh{constructor(t,e,n){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}_onDone(t){const e=t.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunk=e;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=ph(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const kh=/^[a-z][a-z0-9\-+.]+:/i;function Eh(t,e,n){if("http:"===t.protocol){return Gc.get("http").request(t,{headers:e},n)}return Gc.get("https").request(t,{headers:e},n)}class Ch{constructor(t){this.source=t,this.url=function(t){if(kh.test(t))return new URL(t);const e=Gc.get("url");return new URL(e.pathToFileURL(t))}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=hh(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}getFullReader(){return sr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Lh(this):new Rh(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new Nh(this,t,e):new Ph(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class Mh{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new pr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Th{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();if(null===e)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=e.length,null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:this._loaded});return{value:new Uint8Array(e).buffer,done:!1}}cancel(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",(()=>{this._readCapability.resolve()})),t.on("end",(()=>{t.destroy(),this._done=!0,this._readCapability.resolve()})),t.on("error",(t=>{this._error(t)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class Rh extends Mh{constructor(t){super(t);const e=Object.fromEntries(t.headers);this._request=Eh(this._url,e,(e=>{if(404===e.statusCode){const t=new hr('Missing PDF "'.concat(this._url,'".'));return this._storedError=t,void this._headersCapability.reject(t)}this._headersCapability.resolve(),this._setReadableStream(e);const n=new Headers(this._readableStream.headers),{allowRangeRequests:i,suggestedLength:s}=dh({responseHeaders:n,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=fh(n)})),this._request.on("error",(t=>{this._storedError=t,this._headersCapability.reject(t)})),this._request.end()}}class Ph extends Th{constructor(t,e,n){super(t);const i=Object.fromEntries(t.headers);i.Range="bytes=".concat(e,"-").concat(n-1);this._request=Eh(this._url,i,(t=>{if(404!==t.statusCode)this._setReadableStream(t);else{const t=new hr('Missing PDF "'.concat(this._url,'".'));this._storedError=t}})),this._request.on("error",(t=>{this._storedError=t})),this._request.end()}}class Lh extends Mh{constructor(t){super(t);const e=Gc.get("fs");e.promises.lstat(this._url).then((t=>{this._contentLength=t.size,this._setReadableStream(e.createReadStream(this._url)),this._headersCapability.resolve()}),(t=>{"ENOENT"===t.code&&(t=new hr('Missing PDF "'.concat(this._url,'".'))),this._storedError=t,this._headersCapability.reject(t)}))}}class Nh extends Th{constructor(t,e,n){super(t);const i=Gc.get("fs");this._setReadableStream(i.createReadStream(this._url,{start:e,end:n-1}))}}const Fh=30;var Ih=new WeakMap,Dh=new WeakMap,Oh=new WeakMap,jh=new WeakMap,Wh=new WeakMap,Bh=new WeakMap,zh=new WeakMap,Hh=new WeakMap,Uh=new WeakMap,Vh=new WeakMap,qh=new WeakMap,Gh=new WeakMap,Xh=new WeakMap,Kh=new WeakMap,Yh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Jh=new WeakMap,Zh=new WeakSet;class td{constructor(t){var e;let{textContentSource:n,container:i,viewport:s}=t;if(Oi(this,Zh),ji(this,Ih,Promise.withResolvers()),ji(this,Dh,null),ji(this,Oh,!1),ji(this,jh,!(null===(e=globalThis.FontInspector)||void 0===e||!e.enabled)),ji(this,Wh,null),ji(this,Bh,null),ji(this,zh,0),ji(this,Hh,0),ji(this,Uh,null),ji(this,Vh,null),ji(this,qh,0),ji(this,Gh,0),ji(this,Xh,Object.create(null)),ji(this,Kh,[]),ji(this,Yh,null),ji(this,Qh,[]),ji(this,$h,new WeakMap),ji(this,Jh,null),n instanceof ReadableStream)Hi(Yh,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');Hi(Yh,this,new ReadableStream({start(t){t.enqueue(n),t.close()}}))}Hi(Dh,this,Hi(Vh,this,i)),Hi(Gh,this,s.scale*(globalThis.devicePixelRatio||1)),Hi(qh,this,s.rotation),Hi(Bh,this,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:o,pageY:l}=s.rawDims;Hi(Jh,this,[1,0,0,-1,-o,l+a]),Hi(Hh,this,r),Hi(zh,this,a),ad.call(td),ea(i,s),zi(Ih,this).promise.finally((()=>{dd._.delete(this),Hi(Bh,this,null),Hi(Xh,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=br.platform;return ar(this,"fontFamilyMap",new Map([["sans-serif","".concat(t&&e?"Calibri, ":"","sans-serif")],["monospace","".concat(t&&e?"Lucida Console, ":"","monospace")]]))}render(){const t=()=>{zi(Uh,this).read().then((e=>{var n;let{value:i,done:s}=e;s?zi(Ih,this).resolve():(null!==(n=zi(Wh,this))&&void 0!==n||Hi(Wh,this,i.lang),Object.assign(zi(Xh,this),i.styles),Wi(Zh,this,ed).call(this,i.items),t())}),zi(Ih,this).reject)};return Hi(Uh,this,zi(Yh,this).getReader()),dd._.add(this),t(),zi(Ih,this).promise}update(t){let{viewport:e,onBefore:n=null}=t;const i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==zi(qh,this)&&(null===n||void 0===n||n(),Hi(qh,this,s),ea(zi(Vh,this),{rotation:s})),i!==zi(Gh,this)){null===n||void 0===n||n(),Hi(Gh,this,i);const t={div:null,properties:null,ctx:sd.call(td,zi(Wh,this))};for(const e of zi(Qh,this))t.properties=zi($h,this).get(e),t.div=e,Wi(Zh,this,id).call(this,t)}}cancel(){var t;const e=new pr("TextLayer task cancelled.");null===(t=zi(Uh,this))||void 0===t||t.cancel(e).catch((()=>{})),Hi(Uh,this,null),zi(Ih,this).reject(e)}get textDivs(){return zi(Qh,this)}get textContentItemsStr(){return zi(Kh,this)}static cleanup(){if(!(Wi(td,this,dd)._.size>0)){Wi(td,this,ld)._.clear();for(const{canvas:t}of Wi(td,this,cd)._.values())t.remove();Wi(td,this,cd)._.clear()}}}function ed(t){var e,n;if(zi(Oh,this))return;null!==(n=(e=zi(Bh,this)).ctx)&&void 0!==n||(e.ctx=sd.call(Xi,zi(Wh,this)));const i=zi(Qh,this),s=zi(Kh,this);for(const r of t){if(i.length>1e5)return nr("Ignoring additional textDivs for performance reasons."),void Hi(Oh,this,!0);if(void 0!==r.str)s.push(r.str),Wi(Zh,this,nd).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const t=zi(Dh,this);Hi(Dh,this,document.createElement("span")),zi(Dh,this).classList.add("markedContent"),null!==r.id&&zi(Dh,this).setAttribute("id","".concat(r.id)),t.append(zi(Dh,this))}else"endMarkedContent"===r.type&&Hi(Dh,this,zi(Dh,this).parentNode)}}function nd(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};zi(Qh,this).push(e);const i=wr.transform(zi(Jh,this),t.transform);let s=Math.atan2(i[1],i[0]);const r=zi(Xh,this)[t.fontName];r.vertical&&(s+=Math.PI/2);let a=zi(jh,this)&&r.fontSubstitution||r.fontFamily;a=Xi.fontFamilyMap.get(a)||a;const o=Math.hypot(i[2],i[3]),l=o*od.call(Xi,a,zi(Wh,this));let c,u;0===s?(c=i[4],u=i[5]-l):(c=i[4]+l*Math.sin(s),u=i[5]-l*Math.cos(s));const h="calc(var(--scale-factor)*",d=e.style;zi(Dh,this)===zi(Vh,this)?(d.left="".concat((100*c/zi(Hh,this)).toFixed(2),"%"),d.top="".concat((100*u/zi(zh,this)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat((hd._*o).toFixed(2),"px)"),d.fontFamily=a,n.fontSize=o,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,zi(jh,this)&&(e.dataset.fontName=r.fontSubstitutionLoadedName||t.fontName),0!==s&&(n.angle=s*(180/Math.PI));let f=!1;if(t.str.length>1)f=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){const e=Math.abs(t.transform[0]),n=Math.abs(t.transform[3]);e!==n&&Math.max(e,n)/Math.min(e,n)>1.5&&(f=!0)}if(f&&(n.canvasWidth=r.vertical?t.height:t.width),zi($h,this).set(e,n),zi(Bh,this).div=e,zi(Bh,this).properties=n,Wi(Zh,this,id).call(this,zi(Bh,this)),n.hasText&&zi(Dh,this).append(e),n.hasEOL){const t=document.createElement("br");t.setAttribute("role","presentation"),zi(Dh,this).append(t)}}function id(t){const{div:e,properties:n,ctx:i}=t,{style:s}=e;let r="";if(hd._>1&&(r="scale(".concat(1/hd._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:t}=s,{canvasWidth:a,fontSize:o}=n;rd.call(Xi,i,o*zi(Gh,this),t);const{width:l}=i.measureText(e.textContent);l>0&&(r="scaleX(".concat(a*zi(Gh,this)/l,") ").concat(r))}0!==n.angle&&(r="rotate(".concat(n.angle,"deg) ").concat(r)),r.length>0&&(s.transform=r)}function sd(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Wi(Xi,this,cd)._.get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),Wi(Xi,this,cd)._.set(t,e),Wi(Xi,this,ud)._.set(e,{size:0,family:""})}return e}function rd(t,e,n){const i=Wi(Xi,this,ud)._.get(t);e===i.size&&n===i.family||(t.font="".concat(e,"px ").concat(n),i.size=e,i.family=n)}function ad(){if(null!==Wi(Xi,this,hd)._)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),hd._=Wi(Xi,this,t.getBoundingClientRect().height),t.remove()}function od(t,e){const n=Wi(Xi,this,ld)._.get(t);if(n)return n;const i=Wi(Xi,this,sd).call(this,e);i.canvas.width=i.canvas.height=Fh,Wi(Xi,this,rd).call(this,i,Fh,t);const s=i.measureText("");let r=s.fontBoundingBoxAscent,a=Math.abs(s.fontBoundingBoxDescent);if(r){const e=r/(r+a);return Wi(Xi,this,ld)._.set(t,e),i.canvas.width=i.canvas.height=0,e}i.strokeStyle="red",i.clearRect(0,0,Fh,Fh),i.strokeText("g",0,0);let o=i.getImageData(0,0,Fh,Fh).data;a=0;for(let c=o.length-1-3;c>=0;c-=4)if(o[c]>0){a=Math.ceil(c/4/Fh);break}i.clearRect(0,0,Fh,Fh),i.strokeText("A",0,Fh),o=i.getImageData(0,0,Fh,Fh).data,r=0;for(let c=0,u=o.length;c<u;c+=4)if(o[c]>0){r=Fh-Math.floor(c/4/Fh);break}i.canvas.width=i.canvas.height=0;const l=r?r/(r+a):.8;return Wi(Xi,this,ld)._.set(t,l),l}Xi=td;var ld={_:new Map},cd={_:new Map},ud={_:new WeakMap},hd={_:null},dd={_:new Set};class fd{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};return function t(n){var i;if(!n)return;let s=null;const r=n.name;if("#text"===r)s=n.value;else{if(!fd.shouldBuildText(r))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?s=n.attributes.textContent:n.value&&(s=n.value)}if(null!==s&&e.push({str:s}),n.children)for(const e of n.children)t(e)}(t),n}static shouldBuildText(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}const pd=65536,gd=is?class extends bc{_createCanvas(t,e){return Gc.get("canvas").createCanvas(t,e)}}:class extends bc{constructor(t){let{ownerDocument:e=globalThis.document,enableHWA:n=!1}=t;super({enableHWA:n}),this._document=e}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}},md=is?class extends yc{async _fetch(t){return Xc(t)}}:wc,vd=is?class extends xc{}:class extends xc{constructor(t){let{docId:e,ownerDocument:n=globalThis.document}=t;super(),Oi(this,Tc),ji(this,Ac,void 0),ji(this,_c,void 0),ji(this,Sc,void 0),ji(this,kc,void 0),ji(this,Ec,void 0),ji(this,Cc,void 0),ji(this,Mc,0),Hi(kc,this,e),Hi(Ec,this,n)}addFilter(t){var e,n;if(!t)return"none";let i=Bi(Tc,this,Rc).get(t);if(i)return i;const[s,r,a]=Wi(Tc,this,Nc).call(this,t),o=1===t.length?s:"".concat(s).concat(r).concat(a);if(i=Bi(Tc,this,Rc).get(o),i)return Bi(Tc,this,Rc).set(t,i),i;const l="g_".concat(zi(kc,this),"_transfer_map_").concat((Hi(Mc,this,(e=zi(Mc,this),n=e++,e)),n)),c=Wi(Tc,this,Fc).call(this,l);Bi(Tc,this,Rc).set(t,c),Bi(Tc,this,Rc).set(o,c);const u=Wi(Tc,this,Oc).call(this,l);return Wi(Tc,this,Wc).call(this,s,r,a,u),c}addHCMFilter(t,e){var n;const i="".concat(t,"-").concat(e),s="base";let r=Bi(Tc,this,Pc).get(s);if((null===(n=r)||void 0===n?void 0:n.key)===i)return r.url;var a;r?(null===(a=r.filter)||void 0===a||a.remove(),r.key=i,r.url="none",r.filter=null):(r={key:i,url:"none",filter:null},Bi(Tc,this,Pc).set(s,r));if(!t||!e)return r.url;const o=Wi(Tc,this,zc).call(this,t);t=wr.makeHexColor(...o);const l=Wi(Tc,this,zc).call(this,e);if(e=wr.makeHexColor(...l),Bi(Tc,this,Lc).style.color="","#000000"===t&&"#ffffff"===e||t===e)return r.url;const c=new Array(256);for(let p=0;p<=255;p++){const t=p/255;c[p]=t<=.03928?t/12.92:((t+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(zi(kc,this),"_hcm_filter"),d=r.filter=Wi(Tc,this,Oc).call(this,h);Wi(Tc,this,Wc).call(this,u,u,u,d),Wi(Tc,this,Dc).call(this,d);const f=(t,e)=>{const n=o[t]/255,i=l[t]/255,s=new Array(e+1);for(let r=0;r<=e;r++)s[r]=n+r/e*(i-n);return s.join(",")};return Wi(Tc,this,Wc).call(this,f(0,5),f(1,5),f(2,5),d),r.url=Wi(Tc,this,Fc).call(this,h),r.url}addAlphaFilter(t){var e,n;let i=Bi(Tc,this,Rc).get(t);if(i)return i;const[s]=Wi(Tc,this,Nc).call(this,[t]),r="alpha_".concat(s);if(i=Bi(Tc,this,Rc).get(r),i)return Bi(Tc,this,Rc).set(t,i),i;const a="g_".concat(zi(kc,this),"_alpha_map_").concat((Hi(Mc,this,(e=zi(Mc,this),n=e++,e)),n)),o=Wi(Tc,this,Fc).call(this,a);Bi(Tc,this,Rc).set(t,o),Bi(Tc,this,Rc).set(r,o);const l=Wi(Tc,this,Oc).call(this,a);return Wi(Tc,this,Bc).call(this,s,l),o}addLuminosityFilter(t){var e,n;let i,s,r=Bi(Tc,this,Rc).get(t||"luminosity");if(r)return r;if(t?([i]=Wi(Tc,this,Nc).call(this,[t]),s="luminosity_".concat(i)):s="luminosity",r=Bi(Tc,this,Rc).get(s),r)return Bi(Tc,this,Rc).set(t,r),r;const a="g_".concat(zi(kc,this),"_luminosity_map_").concat((Hi(Mc,this,(e=zi(Mc,this),n=e++,e)),n)),o=Wi(Tc,this,Fc).call(this,a);Bi(Tc,this,Rc).set(t,o),Bi(Tc,this,Rc).set(s,o);const l=Wi(Tc,this,Oc).call(this,a);return Wi(Tc,this,Ic).call(this,l),t&&Wi(Tc,this,Bc).call(this,i,l),o}addHighlightHCMFilter(t,e,n,i,s){var r;const a="".concat(e,"-").concat(n,"-").concat(i,"-").concat(s);let o=Bi(Tc,this,Pc).get(t);if((null===(r=o)||void 0===r?void 0:r.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},Bi(Tc,this,Pc).set(t,o));if(!e||!n)return o.url;const[c,u]=[e,n].map(Wi(Tc,this,zc).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[f,p]=[i,s].map(Wi(Tc,this,zc).bind(this));d<h&&([h,d,f,p]=[d,h,p,f]),Bi(Tc,this,Lc).style.color="";const g=(t,e,n)=>{const i=new Array(256),s=(d-h)/n,r=t/255,a=(e-t)/(255*n);let o=0;for(let l=0;l<=n;l++){const t=Math.round(h+l*s),e=r+l*a;for(let n=o;n<=t;n++)i[n]=e;o=t+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},m="g_".concat(zi(kc,this),"_hcm_").concat(t,"_filter"),v=o.filter=Wi(Tc,this,Oc).call(this,m);return Wi(Tc,this,Dc).call(this,v),Wi(Tc,this,Wc).call(this,g(f[0],p[0],5),g(f[1],p[1],5),g(f[2],p[2],5),v),o.url=Wi(Tc,this,Fc).call(this,m),o.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==Bi(Tc,this,Pc).size||(zi(Sc,this)&&(zi(Sc,this).parentNode.parentNode.remove(),Hi(Sc,this,null)),zi(_c,this)&&(zi(_c,this).clear(),Hi(_c,this,null)),Hi(Mc,this,0))}},bd=is?class extends Hc{async _fetch(t){return Xc(t)}}:Uc;function yd(){var t,e,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof i||i instanceof URL?i={url:i}:(i instanceof ArrayBuffer||ArrayBuffer.isView(i))&&(i={data:i});const s=new xd,{docId:r}=s,a=i.url?function(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch(e){if(is&&"string"===typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(i.url):null,o=i.data?function(t){if(is&&"undefined"!==typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"===typeof t)return mr(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===typeof t&&!isNaN(null===t||void 0===t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(i.data):null,l=i.httpHeaders||null,c=!0===i.withCredentials,u=null!==(t=i.password)&&void 0!==t?t:null,h=i.range instanceof _d?i.range:null,d=Number.isInteger(i.rangeChunkSize)&&i.rangeChunkSize>0?i.rangeChunkSize:pd;let f=i.worker instanceof Id?i.worker:null;const p=i.verbosity,g="string"!==typeof i.docBaseUrl||zr(i.docBaseUrl)?null:i.docBaseUrl,m="string"===typeof i.cMapUrl?i.cMapUrl:null,v=!1!==i.cMapPacked,b=i.CMapReaderFactory||md,y="string"===typeof i.standardFontDataUrl?i.standardFontDataUrl:null,w=i.StandardFontDataFactory||bd,x=!0!==i.stopAtErrors,A=Number.isInteger(i.maxImageSize)&&i.maxImageSize>-1?i.maxImageSize:-1,_=!1!==i.isEvalSupported,S="boolean"===typeof i.isOffscreenCanvasSupported?i.isOffscreenCanvasSupported:!is,k="boolean"===typeof i.isChrome?i.isChrome:!br.platform.isFirefox&&"undefined"!==typeof window&&!(null===(e=window)||void 0===e||!e.chrome),E=Number.isInteger(i.canvasMaxAreaInBytes)?i.canvasMaxAreaInBytes:-1,C="boolean"===typeof i.disableFontFace?i.disableFontFace:is,M=!0===i.fontExtraProperties,T=!0===i.enableXfa,R=i.ownerDocument||globalThis.document,P=!0===i.disableRange,L=!0===i.disableStream,N=!0===i.disableAutoFetch,F=!0===i.pdfBug,I=i.CanvasFactory||gd,D=i.FilterFactory||vd,O=!0===i.enableHWA,j=h?h.length:null!==(n=i.length)&&void 0!==n?n:NaN,W="boolean"===typeof i.useSystemFonts?i.useSystemFonts:!is&&!C,B="boolean"===typeof i.useWorkerFetch?i.useWorkerFetch:b===wc&&w===Uc&&m&&y&&Gr(m,document.baseURI)&&Gr(y,document.baseURI);i.canvasFactory&&Kr("`canvasFactory`-instance option, please use `CanvasFactory` instead."),i.filterFactory&&Kr("`filterFactory`-instance option, please use `FilterFactory` instead.");Zs(p);const z={canvasFactory:new I({ownerDocument:R,enableHWA:O}),filterFactory:new D({docId:r,ownerDocument:R}),cMapReaderFactory:B?null:new b({baseUrl:m,isCompressed:v}),standardFontDataFactory:B?null:new w({baseUrl:y})};if(!f){const t={verbosity:p,port:ku.workerPort};f=t.port?Id.fromPort(t):new Id(t),s._worker=f}const H={docId:r,apiVersion:"4.8.69",data:o,password:u,disableAutoFetch:N,rangeChunkSize:d,length:j,docBaseUrl:g,enableXfa:T,evaluatorOptions:{maxImageSize:A,disableFontFace:C,ignoreErrors:x,isEvalSupported:_,isOffscreenCanvasSupported:S,isChrome:k,canvasMaxAreaInBytes:E,fontExtraProperties:M,useSystemFonts:W,cMapUrl:B?m:null,standardFontDataUrl:B?y:null}},U={disableFontFace:C,fontExtraProperties:M,ownerDocument:R,pdfBug:F,styleElement:null,loadingParams:{disableAutoFetch:N,enableXfa:T}};return f.promise.then((function(){if(s.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const t=f.messageHandler.sendWithPromise("GetDocRequest",H,o?[o.buffer]:null);let e;if(h)e=new lh(h,{disableRange:P,disableStream:L});else if(!o){if(!a)throw new Error("getDocument - no `url` parameter provided.");let t;if(is){t="undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&Gr(a)?bh:Ch}else t=Gr(a)?bh:Ah;e=new t({url:a,length:j,httpHeaders:l,withCredentials:c,rangeChunkSize:d,disableRange:P,disableStream:L})}return t.then((t=>{if(s.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const n=new zu(r,t,f.port),i=new Xd(n,s,e,U,z);s._transport=i,n.send("Ready",null)}))})).catch(s._capability.reject),s}function wd(t){return"object"===typeof t&&Number.isInteger(null===t||void 0===t?void 0:t.num)&&t.num>=0&&Number.isInteger(null===t||void 0===t?void 0:t.gen)&&t.gen>=0}class xd{constructor(){var t,e;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((Ad._=(t=Ad._,e=t++,t),e)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var t,e;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(e=this._transport)||void 0===e?void 0:e.destroy())}catch(i){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var Ad={_:0};class _d{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(t,e)}))}onDataProgressiveRead(t){this._readyCapability.promise.then((()=>{for(const e of this._progressiveReadListeners)e(t)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const t of this._progressiveDoneListeners)t()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){ir("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Sd{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ar(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var kd=new WeakMap,Ed=new WeakMap,Cd=new WeakSet;class Md{constructor(t,e,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Oi(this,Cd),ji(this,kd,null),ji(this,Ed,!1),this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=i?new qr:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new Jd,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Wr({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations(){let{intent:t="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ar(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return(null===(t=this._transport._htmlForXfa)||void 0===t?void 0:t.children[this._pageIndex])||null}render(t){var e,n;let{canvasContext:i,viewport:s,intent:r="display",annotationMode:a=gs.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:f=!1}=t;null===(e=this._stats)||void 0===e||e.time("Overall");const p=this._transport.getRenderingIntent(r,a,d,f),{renderingIntent:g,cacheKey:m}=p;Hi(Ed,this,!1),Wi(Cd,this,Rd).call(this),c||(c=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(g&cs);var y;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(y=this._stats)||void 0===y||y.time("Page Request"),this._pumpOperatorList(p));const w=t=>{var e;(v.renderTasks.delete(x),(this._maybeCleanupAfterRender||b)&&Hi(Ed,this,!0),Wi(Cd,this,Td).call(this,!b),t?(x.capability.reject(t),this._abortOperatorList({intentState:v,reason:t instanceof Error?t:new Error(t)})):x.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(e=globalThis.Stats)&&void 0!==e&&e.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new sf({callback:w,params:{canvasContext:i,viewport:s,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:h});((n=v).renderTasks||(n.renderTasks=new Set)).add(x);const A=x.task;return Promise.all([v.displayReadyCapability.promise,c]).then((t=>{var e;let[n,i]=t;if(this.destroyed)w();else{if(null===(e=this._stats)||void 0===e||e.time("Rendering"),!(i.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:n,optionalContentConfig:i}),x.operatorListChanged()}})).catch(w),A}getOperatorList(){let{intent:t="display",annotationMode:e=gs.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=this._transport.getRenderingIntent(t,e,n,i,!0);let r,a=this._intentStates.get(s.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(s.cacheKey,a)),a.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(s));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:t=!1,disableNormalization:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===t,disableNormalization:!0===e},{highWaterMark:100,size:t=>t.items.length})}getTextContent(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((t=>fd.textContent(t)));const e=this.streamTextContent(t);return new Promise((function(t,n){const i=e.getReader(),s={items:[],styles:Object.create(null),lang:null};!function e(){i.read().then((function(n){var i;let{value:r,done:a}=n;a?t(s):(null!==(i=s.lang)&&void 0!==i||(s.lang=r.lang),Object.assign(s.styles,r.styles),s.items.push(...r.items),e())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),Hi(Ed,this,!1),Wi(Cd,this,Rd).call(this),Promise.all(t)}cleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Hi(Ed,this,!0);const e=Wi(Cd,this,Td).call(this,!1);return t&&e&&this._stats&&(this._stats=new qr),e}_startRenderPage(t,e){var n,i;const s=this._intentStates.get(e);s&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=s.displayReadyCapability)||void 0===i||i.resolve(t))}_renderPageChunk(t,e){for(let n=0,i=t.length;n<i;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&Wi(Cd,this,Td).call(this,!0)}_pumpOperatorList(t){let{renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:s}=t;const{map:r,transfer:a}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:r,modifiedIds:s},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((t=>{let{value:e,done:n}=t;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,l),c())}),(t=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const t of l.renderTasks)t.operatorListChanged();Wi(Cd,this,Td).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(t);else{if(!l.opListReadCapability)throw t;l.opListReadCapability.reject(t)}}}))};c()}_abortOperatorList(t){let{intentState:e,reason:n,force:i=!1}=t;if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof Br){let t=100;return n.extraDelay>0&&n.extraDelay<1e3&&(t+=n.extraDelay),void(e.streamReaderCancelTimeout=setTimeout((()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})}),t))}}if(e.streamReader.cancel(new pr(n.message)).catch((()=>{})),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}function Td(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Wi(Cd,this,Rd).call(this),!zi(Ed,this)||this.destroyed)return!1;if(t)return Hi(kd,this,setTimeout((()=>{Hi(kd,this,null),Wi(Cd,this,Td).call(this,!1)}),5e3)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Hi(Ed,this,!1),!0}function Rd(){zi(kd,this)&&(clearTimeout(zi(kd,this)),Hi(kd,this,null))}var Pd=new WeakMap,Ld=new WeakMap;class Nd{constructor(){ji(this,Pd,new Map),ji(this,Ld,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};zi(Ld,this).then((()=>{for(const[t]of zi(Pd,this))t.call(this,n)}))}addEventListener(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted)return void nr("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(t,e);i=()=>s.removeEventListener("abort",r),s.addEventListener("abort",r)}zi(Pd,this).set(e,i)}removeEventListener(t,e){const n=zi(Pd,this).get(e);null===n||void 0===n||n(),zi(Pd,this).delete(e)}terminate(){for(const[,t]of zi(Pd,this))null===t||void 0===t||t();zi(Pd,this).clear()}}var Fd=new WeakSet;class Id{constructor(){let{name:t=null,port:e=null,verbosity:n=tr()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Oi(this,Fd),this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){var i;if(null!==(i=Bd._)&&void 0!==i&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");return(Bd._||(Bd._=new WeakMap)).set(e,this),void this._initializeFromPort(e)}this._initialize()}get promise(){return is?Promise.all([Gc.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new zu("main","worker",t),this._messageHandler.on("ready",(function(){})),Wi(Fd,this,Dd).call(this)}_initialize(){if(Wd._||Od(Id))return void this._setupFakeWorker();let{workerSrc:t}=Id;try{Id._isSameOrigin(window.location.href,t)||(t=Id._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new zu("main","worker",e),i=()=>{s.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;e.addEventListener("error",(()=>{this._webWorker||i()}),{signal:s.signal}),n.on("test",(t=>{s.abort(),!this.destroyed&&t?(this._messageHandler=n,this._port=e,this._webWorker=e,Wi(Fd,this,Dd).call(this)):i()})),n.on("ready",(t=>{if(s.abort(),this.destroyed)i();else try{r()}catch(e){this._setupFakeWorker()}}));const r=()=>{const t=new Uint8Array;n.send("test",t,[t.buffer])};return void r()}catch(e){er("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Wd._||(nr("Setting up fake worker."),Wd._=!0),Id._setupFakeWorkerGlobal.then((t=>{var e,n;if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const i=new Nd;this._port=i;const s="fake".concat((jd._=(e=jd._,n=e++,e),n)),r=new zu(s+"_worker",s,i);t.setup(r,i),this._messageHandler=new zu(s,s+"_worker",i),Wi(Fd,this,Dd).call(this)})).catch((t=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(t=Bd._)||void 0===t||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var e;if(null===t||void 0===t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(e=Wi(Id,this,Bd)._)||void 0===e?void 0:e.get(t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Id(t)}static get workerSrc(){if(ku.workerSrc)return ku.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ar(this,"_setupFakeWorkerGlobal",(async()=>{if(Bi(Id,this,Od))return Bi(Id,this,Od);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function Dd(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function Od(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(n){return null}}Ki=Id;var jd={_:0},Wd={_:!1},Bd={_:void 0};is&&(Wd._=Wi(Ki,Ki,!0),ku.workerSrc||(ku.workerSrc="./pdf.worker.mjs")),Ki._isSameOrigin=(t,e)=>{let n;try{if(n=new URL(t),!n.origin||"null"===n.origin)return!1}catch(s){return!1}const i=new URL(e,n);return n.origin===i.origin},Ki._createCDNWrapper=t=>{const e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))};var zd=new WeakMap,Hd=new WeakMap,Ud=new WeakMap,Vd=new WeakMap,qd=new WeakMap,Gd=new WeakSet;class Xd{constructor(t,e,n,i,s){Oi(this,Gd),ji(this,zd,new Map),ji(this,Hd,new Map),ji(this,Ud,new Map),ji(this,Vd,new Map),ji(this,qd,null),this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Jd,this.fontLoader=new gc({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ar(this,"annotationStorage",new uc)}getRenderingIntent(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gs.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=ls,a=rc;switch(t){case"any":r=os;break;case"display":break;case"print":r=cs;break;default:nr("getRenderingIntent - invalid intent: ".concat(t))}const o=r&cs&&n instanceof fc?n:this.annotationStorage;switch(e){case gs.DISABLE:r+=ds;break;case gs.ENABLE:break;case gs.ENABLE_FORMS:r+=us;break;case gs.ENABLE_STORAGE:r+=hs,a=o.serializable;break;default:nr("getRenderingIntent - invalid annotationMode: ".concat(e))}i&&(r+=fs),s&&(r+=ps);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){var t;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=zi(qd,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of zi(Hd,this).values())e.push(i._destroy());zi(Hd,this).clear(),zi(Ud,this).clear(),zi(Vd,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then((()=>{var t;this.commonObjs.clear(),this.fontLoader.clear(),zi(zd,this).clear(),this.filterFactory.destroy(),td.cleanup(),null===(t=this._networkStream)||void 0===t||t.cancelAllRequests(new pr("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",((t,e)=>{sr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=t=>{this._lastProgress={loaded:t.loaded,total:t.total}},e.onPull=()=>{this._fullReader.read().then((function(t){let{value:n,done:i}=t;i?e.close():(sr(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{this._fullReader.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(async t=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:s}=this._fullReader;if(!n||!i){var r;if(this._lastProgress)null===(r=e.onProgress)||void 0===r||r.call(e,this._lastProgress);this._fullReader.onProgress=t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:s}})),t.on("GetRangeReader",((t,e)=>{sr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(t.begin,t.end);n?(e.onPull=()=>{n.read().then((function(t){let{value:n,done:i}=t;i?e.close():(sr(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),e.enqueue(new Uint8Array(n),1,[n]))})).catch((t=>{e.error(t)}))},e.onCancel=t=>{n.cancel(t),e.ready.catch((t=>{if(!this.destroyed)throw t}))}):e.close()})),t.on("GetDoc",(t=>{let{pdfInfo:n}=t;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new Sd(n,this))})),t.on("DocException",(function(t){let n;switch(t.name){case"PasswordException":n=new lr(t.message,t.code);break;case"InvalidPDFException":n=new ur(t.message);break;case"MissingPDFException":n=new hr(t.message);break;case"UnexpectedResponseException":n=new dr(t.message,t.status);break;case"UnknownErrorException":n=new cr(t.message,t.details);break;default:ir("DocException - expected a valid Error.")}e._capability.reject(n)})),t.on("PasswordRequest",(t=>{if(Hi(qd,this,Promise.withResolvers()),e.onPassword){const i=t=>{t instanceof Error?zi(qd,this).reject(t):zi(qd,this).resolve({password:t})};try{e.onPassword(i,t.code)}catch(n){zi(qd,this).reject(n)}}else zi(qd,this).reject(new lr(t.message,t.code));return zi(qd,this).promise})),t.on("DataLoaded",(t=>{var n;null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.length,total:t.length}),this.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(t=>{if(this.destroyed)return;zi(Hd,this).get(t.pageIndex)._startRenderPage(t.transparency,t.cacheKey)})),t.on("commonobj",(e=>{var n;let[i,s,r]=e;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(s){case"Font":const{disableFontFace:e,fontExtraProperties:a,pdfBug:o}=this._params;if("error"in r){const t=r.error;nr("Error during font loading: ".concat(t)),this.commonObjs.resolve(i,t);break}const l=o&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(t,e)=>globalThis.FontInspector.fontAdded(t,e):null,c=new mc(r,{disableFontFace:e,inspectFont:l});this.fontLoader.bind(c).catch((()=>t.sendWithPromise("FontFallback",{id:i}))).finally((()=>{!a&&c.data&&(c.data=null),this.commonObjs.resolve(i,c)}));break;case"CopyLocalImage":const{imageRef:u}=r;sr(u,"The imageRef must be defined.");for(const t of zi(Hd,this).values())for(const[,e]of t.objs)if((null===e||void 0===e?void 0:e.ref)===u)return e.dataLen?(this.commonObjs.resolve(i,structuredClone(e)),e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,r);break;default:throw new Error("Got unknown common object type ".concat(s))}return null})),t.on("obj",(t=>{let[e,n,i,s]=t;if(this.destroyed)return;const r=zi(Hd,this).get(n);var a;if(!r.objs.has(e))if(0!==r._intentStates.size)switch(i){case"Image":r.objs.resolve(e,s),(null===s||void 0===s?void 0:s.dataLen)>1e7&&(r._maybeCleanupAfterRender=!0);break;case"Pattern":r.objs.resolve(e,s);break;default:throw new Error("Got unknown object type ".concat(i))}else null===s||void 0===s||null===(a=s.bitmap)||void 0===a||a.close()})),t.on("DocProgress",(t=>{var n;this.destroyed||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded,total:t.total})})),t.on("FetchBuiltInCMap",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(t)})),t.on("FetchStandardFontData",(async t=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(t)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var t,e;this.annotationStorage.size<=0&&nr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},i).finally((()=>{this.annotationStorage.resetModified()}))}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=zi(Ud,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&zi(Vd,this).set(n.refStr,t);const i=new Md(e,n,this,this._params.pdfBug);return zi(Hd,this).set(e,i),i}));return zi(Ud,this).set(e,i),i}getPageIndex(t){return wd(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return Wi(Gd,this,Kd).call(this,"GetFieldObjects")}hasJSActions(){return Wi(Gd,this,Kd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return"string"!==typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return Wi(Gd,this,Kd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return Wi(Gd,this,Kd).call(this,"GetOptionalContentConfig").then((e=>new ah(e,t)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=zi(zd,this).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then((t=>{var e,n,i,s;return{info:t[0],metadata:t[1]?new Ku(t[1]):null,contentDispositionFilename:null!==(e=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==e?e:null,contentLength:null!==(i=null===(s=this._fullReader)||void 0===s?void 0:s.contentLength)&&void 0!==i?i:null}}));return zi(zd,this).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of zi(Hd,this).values()){if(!t.cleanup())throw new Error("startCleanup: Page ".concat(t.pageNumber," is currently rendering."))}this.commonObjs.clear(),t||this.fontLoader.clear(),zi(zd,this).clear(),this.filterFactory.destroy(!0),td.cleanup()}}cachedPageNumber(t){var e;if(!wd(t))return null;const n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=zi(Vd,this).get(n))&&void 0!==e?e:null}}function Kd(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=zi(zd,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise(t,e);return zi(zd,this).set(t,i),i}const Yd=Symbol("INITIAL_DATA");var Qd=new WeakMap,$d=new WeakSet;class Jd{constructor(){Oi(this,$d),ji(this,Qd,Object.create(null))}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){const n=Wi($d,this,Zd).call(this,t);return n.promise.then((()=>e(n.data))),null}const n=zi(Qd,this)[t];if(!n||n.data===Yd)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}has(t){const e=zi(Qd,this)[t];return!!e&&e.data!==Yd}resolve(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=Wi($d,this,Zd).call(this,t);n.data=e,n.resolve()}clear(){for(const e in zi(Qd,this)){var t;const{data:n}=zi(Qd,this)[e];null===n||void 0===n||null===(t=n.bitmap)||void 0===t||t.close()}Hi(Qd,this,Object.create(null))}*[Symbol.iterator](){for(const t in zi(Qd,this)){const{data:e}=zi(Qd,this)[t];e!==Yd&&(yield[t,e])}}}function Zd(t){var e;return(e=zi(Qd,this))[t]||(e[t]=ze(ze({},Promise.withResolvers()),{},{data:Yd}))}var tf=new WeakMap;class ef{constructor(t){ji(this,tf,null),Hi(tf,this,t),this.onContinue=null}get promise(){return zi(tf,this).capability.promise}cancel(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;zi(tf,this).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=zi(tf,this).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=zi(tf,this);return t.form||t.canvas&&(null===e||void 0===e?void 0:e.size)>0}}var nf=new WeakMap;class sf{constructor(t){let{callback:e,params:n,objs:i,commonObjs:s,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}=t;ji(this,nf,null),this.callback=e,this.params=n,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ef(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(t){var e,n;let{transparency:i=!1,optionalContentConfig:s}=t;if(this.cancelled)return;if(this._canvas){if(rf._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");rf._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:a,transform:o,background:l}=this.params;this.gfx=new Au(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:i,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),zi(nf,this)&&(window.cancelAnimationFrame(zi(nf,this)),Hi(nf,this,null)),rf._.delete(this._canvas),this.callback(e||new Br("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var t;this.graphicsReady?(null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Hi(nf,this,window.requestAnimationFrame((()=>{Hi(nf,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),rf._.delete(this._canvas),this.callback())))}}var rf={_:new WeakSet};const af="4.8.69",of="3634dab10";function lf(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function cf(t){return Math.max(0,Math.min(255,255*t))}class uf{static CMYK_G(t){let[e,n,i,s]=t;return["G",1-Math.min(1,.3*e+.59*i+.11*n+s)]}static G_CMYK(t){let[e]=t;return["CMYK",0,0,0,1-e]}static G_RGB(t){let[e]=t;return["RGB",e,e,e]}static G_rgb(t){let[e]=t;return e=cf(e),[e,e,e]}static G_HTML(t){let[e]=t;const n=lf(e);return"#".concat(n).concat(n).concat(n)}static RGB_G(t){let[e,n,i]=t;return["G",.3*e+.59*n+.11*i]}static RGB_rgb(t){return t.map(cf)}static RGB_HTML(t){return"#".concat(t.map(lf).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(t){let[e,n,i,s]=t;return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,n+s)]}static CMYK_rgb(t){let[e,n,i,s]=t;return[cf(1-Math.min(1,e+s)),cf(1-Math.min(1,i+s)),cf(1-Math.min(1,n+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK(t){let[e,n,i]=t;const s=1-e,r=1-n,a=1-i;return["CMYK",s,r,a,Math.min(s,r,a)]}}class hf{create(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(t,"px")),i.setAttribute("height","".concat(e,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),i}createElement(t){if("string"!==typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){ir("Abstract method `_createSVG` called.")}}class df extends hf{_createSVG(t){return document.createElementNS(Dr,t)}}class ff{static setupStorage(t,e,n,i,s){const r=i.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==r.value&&(t.textContent=r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(r.value===n.attributes.xfaOn?t.setAttribute("checked",!0):r.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===s)break;t.addEventListener("change",(t=>{i.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==r.value&&t.setAttribute("value",r.value),"print"===s)break;t.addEventListener("input",(t=>{i.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==r.value){t.setAttribute("value",r.value);for(const t of n.children)t.attributes.value===r.value?t.attributes.selected=!0:t.attributes.hasOwnProperty("selected")&&delete t.attributes.selected}t.addEventListener("input",(t=>{const n=t.target.options,s=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(e,{value:s})}))}}static setAttributes(t){let{html:e,element:n,storage:i=null,intent:s,linkService:r}=t;const{attributes:a}=n,o=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(s));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&e.setAttribute(l,c)}o&&r.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,n,i)}static render(t){const e=t.annotationStorage,n=t.linkService,i=t.xfaHtml,s=t.intent||"display",r=document.createElement(i.name);i.attributes&&this.setAttributes({html:r,element:i,intent:s,linkService:n});const a="richText"!==s,o=t.div;if(o.append(r),t.viewport){const e="matrix(".concat(t.viewport.transform.join(","),")");o.style.transform=e}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const t=document.createTextNode(i.value);r.append(t),a&&fd.shouldBuildText(i.name)&&l.push(t)}return{textDivs:l}}const c=[[i,-1,r]];for(;c.length>0;){var u,h;const[t,i,r]=c.at(-1);if(i+1===t.children.length){c.pop();continue}const o=t.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const t=document.createTextNode(o.value);l.push(t),r.append(t);continue}const f=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(r.append(f),o.attributes&&this.setAttributes({html:f,element:o,storage:e,intent:s,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,f]);else if(o.value){const t=document.createTextNode(o.value);a&&fd.shouldBuildText(d)&&l.push(t),f.append(t)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(t){const e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}const pf=1e3,gf=new WeakSet;function mf(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class vf{static create(t){switch(t.data.annotationType){case Cs:return new kf(t);case Es:return new Tf(t);case Us:switch(t.data.fieldType){case"Tx":return new Pf(t);case"Btn":return t.data.radioButton?new Ff(t):t.data.checkBox?new Nf(t):new If(t);case"Ch":return new Df(t);case"Sig":return new Lf(t)}return new Rf(t);case zs:return new Of(t);case Ms:return new pp(t);case Ts:return new mp(t);case Rs:return new bp(t);case Ps:return new wp(t);case Ns:return new Ap(t);case Ws:return new Sp(t);case Bs:return new Ep(t);case Ls:return new _p(t);case Fs:return new Cp(t);case Is:return new Mp(t);case Ds:return new Tp(t);case Os:return new Rp(t);case js:return new Pp(t);case Hs:return new Fp(t);default:return new Af(t)}}}var bf=new WeakMap,yf=new WeakMap,wf=new WeakMap,xf=new WeakSet;class Af{constructor(t){let{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Oi(this,xf),ji(this,bf,null),ji(this,yf,!1),ji(this,wf,null),this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(t){let{titleObj:e,contentsObj:n,richText:i}=t;return!!(null!==e&&void 0!==e&&e.str||null!==n&&void 0!==n&&n.str||null!==i&&void 0!==i&&i.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Af._hasPopupData(this.data)}updateEdited(t){var e;if(!this.container)return;zi(bf,this)||Hi(bf,this,{rect:this.data.rect.slice(0)});const{rect:n}=t;n&&Wi(xf,this,_f).call(this,n),null===(e=zi(wf,this))||void 0===e||e.popup.updateEdited(t)}resetEdited(){var t;zi(bf,this)&&(Wi(xf,this,_f).call(this,zi(bf,this).rect),null===(t=zi(wf,this))||void 0===t||t.popup.resetEdited(),Hi(bf,this,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",e.id),this instanceof Rf||(s.tabIndex=pf);const{style:r}=s;if(r.zIndex=this.parent.zIndex++,e.alternativeText&&(s.title=e.alternativeText),e.noRotate&&s.classList.add("norotate"),!e.rect||this instanceof Of){const{rotation:t}=e;return e.hasOwnCanvas||0===t||this.setRotation(t,s),s}const{width:a,height:o}=mf(e.rect);if(!t&&e.borderStyle.width>0){r.borderWidth="".concat(e.borderStyle.width,"px");const t=e.borderStyle.horizontalCornerRadius,n=e.borderStyle.verticalCornerRadius;if(t>0||n>0){const e="calc(".concat(t,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");r.borderRadius=e}else if(this instanceof Ff){const t="calc(".concat(a,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");r.borderRadius=t}switch(e.borderStyle.style){case Vs:r.borderStyle="solid";break;case qs:r.borderStyle="dashed";break;case Gs:nr("Unimplemented border style: beveled");break;case Xs:nr("Unimplemented border style: inset");break;case Ks:r.borderBottomStyle="solid"}const i=e.borderColor||null;i?(Hi(yf,this,!0),r.borderColor=wr.makeHexColor(0|i[0],0|i[1],0|i[2])):r.borderWidth=0}const l=wr.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=i.rawDims;r.left="".concat(100*(l[0]-h)/c,"%"),r.top="".concat(100*(l[1]-d)/u,"%");const{rotation:f}=e;return e.hasOwnCanvas||0===f?(r.width="".concat(100*a/c,"%"),r.height="".concat(100*o/u,"%")):this.setRotation(f,s),s}setRotation(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:r}=mf(this.data.rect);let a,o;t%180===0?(a=100*s/n,o=100*r/i):(a=100*r/n,o=100*s/i),e.style.width="".concat(a,"%"),e.style.height="".concat(o,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(t,e,n)=>{const i=n.detail[t],s=i[0],r=i.slice(1);n.target.style[e]=uf["".concat(s,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[e]:uf["".concat(s,"_rgb")](r)})};return ar(this,"_commonActions",{display:t=>{const{display:e}=t.detail,n=e%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===e||2===e})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:e}=t.detail;this.container.style.visibility=e?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:e,noView:e})},focus:t=>{setTimeout((()=>t.target.focus({preventScroll:!1})),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:t=>{const e=t.detail.rotation;this.setRotation(e),this.annotationStorage.setValue(this.data.id,{rotation:e})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const i of Object.keys(e.detail)){const s=t[i]||n[i];null===s||void 0===s||s(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[i,s]of Object.entries(e)){const r=n[i];if(r){r({detail:{[i]:s},target:t}),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,i,s]=this.data.rect.map((t=>Math.fround(t)));if(8===t.length){const[r,a,o,l]=t.subarray(2,6);if(i===r&&s===a&&e===o&&n===l)return}const{style:r}=this.container;let a;if(zi(yf,this)){const{borderColor:t,borderWidth:e}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(t,'" stroke-width="').concat(e,'">')],this.container.classList.add("hasBorder")}const o=i-e,l=s-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),f="clippath_".concat(this.data.id);d.setAttribute("id",f),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=t.length;g<m;g+=8){var p;const n=t[g],i=t[g+1],r=t[g+2],u=t[g+3],h=c.createElement("rect"),f=(r-e)/o,m=(s-i)/l,v=(n-r)/o,b=(i-u)/l;h.setAttribute("x",f),h.setAttribute("y",m),h.setAttribute("width",v),h.setAttribute("height",b),d.append(h),null===(p=a)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(f,'" y="').concat(m,'" width="').concat(v,'" height="').concat(b,'"/>'))}zi(yf,this)&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(f,")")}_createPopup(){const{data:t}=this,e=Hi(wf,this,new Of({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(e.render())}render(){ir("Abstract method `AnnotationElement.render` called")}_getElementsByName(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:t,id:s,exportValues:r}of i){if(-1===t)continue;if(s===e)continue;const i="string"===typeof r?r:null,a=document.querySelector('[data-element-id="'.concat(s,'"]'));!a||gf.has(a)?n.push({id:s,exportValue:i,domElement:a}):nr("_getElementsByName - element not allowed: ".concat(s))}return n}for(const i of document.getElementsByName(t)){const{exportValue:t}=i,s=i.getAttribute("data-element-id");s!==e&&(gf.has(i)&&n.push({id:s,exportValue:t,domElement:i}))}return n}show(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})}))}}function _f(t){const{container:{style:e},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:r,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...t);const{width:l,height:c}=mf(t);e.left="".concat(100*(t[0]-a)/s,"%"),e.top="".concat(100*(r-t[3]+o)/r,"%"),0===i?(e.width="".concat(100*l/s,"%"),e.height="".concat(100*c/r,"%")):this.setRotation(i)}var Sf=new WeakSet;class kf extends Af{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(t,{isRenderable:!0,ignoreBorder:!(null===e||void 0===e||!e.ignoreBorder),createQuadrilaterals:!0}),Oi(this,Sf),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let i=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),i=!0):t.action?(this._bindNamedAction(n,t.action),i=!0):t.attachment?(Wi(Sf,this,Cf).call(this,n,t.attachment,t.attachmentDest),i=!0):t.setOCGState?(Wi(Sf,this,Mf).call(this,n,t.setOCGState),i=!0):t.dest?(this._bindLink(n,t.dest),i=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),i=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(t,e){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||""===e)&&Wi(Sf,this,Ef).call(this)}_bindNamedAction(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),Wi(Sf,this,Ef).call(this)}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(e.actions)){const s=n.get(i);s&&(t[s]=()=>{var t;return null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:i}}),!1})}t.onclick||(t.onclick=()=>!1),Wi(Sf,this,Ef).call(this)}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),Wi(Sf,this,Ef).call(this),!this._fieldObjects)return nr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(t.onclick=()=>!1));t.onclick=()=>{null===n||void 0===n||n();const{fields:t,refs:i,include:s}=e,r=[];if(0!==t.length||0!==i.length){const e=new Set(i);for(const n of t){const t=this._fieldObjects[n]||[];for(const{id:n}of t)e.add(n)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===s&&r.push(n)}else for(const e of Object.values(this._fieldObjects))r.push(...e);const a=this.annotationStorage,o=[];for(const e of r){const{id:t}=e;switch(o.push(t),e.type){case"text":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}case"checkbox":case"radiobutton":{const n=e.defaultValue===e.exportValues;a.setValue(t,{value:n});break}case"combobox":case"listbox":{const n=e.defaultValue||"";a.setValue(t,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(t,'"]'));n&&(gf.has(n)?n.dispatchEvent(new Event("resetform")):nr("_bindResetFormAction - element not allowed: ".concat(t)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function Ef(){this.container.setAttribute("data-internal-link","")}function Cf(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=()=>{var t;return null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,n),!1},Wi(Sf,this,Ef).call(this)}function Mf(t,e){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),Wi(Sf,this,Ef).call(this)}class Tf extends Af{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Rf extends Af{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return br.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,i,s){n.includes("mouse")?t.addEventListener(n,(t=>{var e;null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t),shift:t.shiftKey,modifier:this._getKeyModifier(t)}})})):t.addEventListener(n,(t=>{var r;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}s&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(t)}}))}))}_setEventListeners(t,e,n,i){for(const[o,l]of n){var s,r,a;if("Action"===l||null!==(s=this.data.actions)&&void 0!==s&&s[l])"Focus"!==l&&"Blur"!==l||e||(e={focused:!1}),this._setEventListener(t,e,o,l,i),"Focus"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":wr.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,s=t.style;let r;const a=t=>Math.round(10*t)/10;if(this.data.multiLine){const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2),e=t/(Math.round(t/(as*i))||1);r=Math.min(i,a(e/as))}else{const t=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(i,a(t/as))}s.fontSize="calc(".concat(r,"px * var(--scale-factor))"),s.color=wr.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(s.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class Pf extends Rf{constructor(t){super(t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,e,n,i){const s=this.annotationStorage;for(const r of this._getElementsByName(t.name,t.id))r.domElement&&(r.domElement[e]=n),s.setValue(r.id,{[i]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const o=t.getValue(e,{value:this.data.fieldValue});let l=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};var s,r;if(this.data.multiLine)n=document.createElement("textarea"),n.textContent=null!==(s=u)&&void 0!==s?s:l,this.data.doNotScroll&&(n.style.overflowY="hidden");else n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(r=u)&&void 0!==r?r:l),this.data.doNotScroll&&(n.style.overflowX="hidden");this.data.hasOwnCanvas&&(n.hidden=!0),gf.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=pf,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",(i=>{t.setValue(e,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(t=>{var e;const i=null!==(e=this.data.defaultFieldValue)&&void 0!==e?e:"";n.value=h.userValue=i,h.formattedValue=null}));let d=t=>{const{formattedValue:e}=h;null!==e&&void 0!==e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",(t=>{var e;if(h.focused)return;const{target:n}=t;h.userValue&&(n.value=h.userValue),h.lastCommittedValue=n.value,h.commitKey=1,null!==(e=this.data.actions)&&void 0!==e&&e.Focus||(h.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;h.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",t.setValue(e,{value:h.userValue.toString()}),n.target.value=h.userValue},formattedValue(n){const{formattedValue:i}=n.detail;h.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i),t.setValue(e,{formattedValue:i})},selRange(t){t.target.setSelectionRange(...t.detail.selRange)},charLimit:n=>{var i;const{charLimit:s}=n.detail,{target:r}=n;if(0===s)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",s);let a=h.userValue;!a||a.length<=s||(a=a.slice(0,s),r.value=h.userValue=a,t.setValue(e,{value:a}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)})),n.addEventListener("keydown",(t=>{var n;h.commitKey=1;let i=-1;if("Escape"===t.key?i=0:"Enter"!==t.key||this.data.multiLine?"Tab"===t.key&&(h.commitKey=3):i=2,-1===i)return;const{value:s}=t.target;h.lastCommittedValue!==s&&(h.lastCommittedValue=s,h.userValue=s,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:i,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}))}));const i=d;d=null,n.addEventListener("blur",(t=>{var n;if(!h.focused||!t.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);const{value:s}=t.target;var r;(h.userValue=s,h.lastCommittedValue!==s)&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:s,willCommit:!0,commitKey:h.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}}));i(t)})),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",(t=>{var n;h.lastCommittedValue=null;const{data:i,target:s}=t,{value:r,selectionStart:a,selectionEnd:o}=s;let l=a,c=o;switch(t.inputType){case"deleteWordBackward":{const t=r.substring(0,a).match(/\w*[^\w]*$/);t&&(l-=t[0].length);break}case"deleteWordForward":{const t=r.substring(a).match(/^[^\w]*\w*/);t&&(c+=t[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}t.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:r,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.value))}if(d&&n.addEventListener("blur",d),this.data.comb){const t=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(t,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Lf extends Rf{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Nf extends Rf{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,t.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return gf.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",e.exportValue),s.tabIndex=pf,s.addEventListener("change",(i=>{const{name:s,checked:r}=i.target;for(const a of this._getElementsByName(s,n)){const n=r&&a.exportValue===e.exportValue;a.domElement&&(a.domElement.checked=n),t.setValue(a.id,{value:n})}t.setValue(n,{value:r})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue||"Off";t.target.checked=n===e.exportValue})),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",(e=>{const i={value(e){e.target.checked="Off"!==e.detail.value,t.setValue(n,{value:e.target.checked})}};this._dispatchEventFromSandbox(i,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Ff extends Rf{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let i=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if("string"===typeof i&&(i=i!==e.buttonValue,t.setValue(n,{value:i})),i)for(const r of this._getElementsByName(e.fieldName,n))t.setValue(r.id,{value:!1});const s=document.createElement("input");if(gf.add(s),s.setAttribute("data-element-id",n),s.disabled=e.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=e.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=pf,s.addEventListener("change",(e=>{const{name:i,checked:s}=e.target;for(const r of this._getElementsByName(i,n))t.setValue(r.id,{value:!1});t.setValue(n,{value:s})})),s.addEventListener("resetform",(t=>{const n=e.defaultFieldValue;t.target.checked=null!==n&&void 0!==n&&n===e.buttonValue})),this.enableScripting&&this.hasJSActions){const i=e.buttonValue;s.addEventListener("updatefromsandbox",(e=>{const s={value:e=>{const s=i===e.detail.value;for(const i of this._getElementsByName(e.target.name)){const e=s&&i.id===n;i.domElement&&(i.domElement.checked=e),t.setValue(i.id,{value:e})}}};this._dispatchEventFromSandbox(s,e)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(t=>t.target.checked))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class If extends kf{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",(t=>{this._dispatchEventFromSandbox({},t)}))),t}}class Df extends Rf{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");gf.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=pf;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(t=>{const e=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===e}));for(const c of this.data.options){const t=document.createElement("option");t.textContent=c.displayValue,t.value=c.exportValue,n.value.includes(c.exportValue)&&(t.setAttribute("selected",!0),s=!1),i.append(t)}let r=null;if(s){const t=document.createElement("option");t.value=" ",t.setAttribute("hidden",!0),t.setAttribute("selected",!0),i.prepend(t),r=()=>{t.remove(),i.removeEventListener("input",r),r=null},i.addEventListener("input",r)}const a=t=>{const e=t?"value":"textContent",{options:n,multiple:s}=i;return s?Array.prototype.filter.call(n,(t=>t.selected)).map((t=>t[e])):-1===n.selectedIndex?null:n[n.selectedIndex][e]};let o=a(!1);const l=t=>{const e=t.target.options;return Array.prototype.map.call(e,(t=>({displayValue:t.textContent,exportValue:t.value})))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(n=>{const s={value(n){var s;null===(s=r)||void 0===s||s();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const t of i.options)t.selected=c.has(t.value);t.setValue(e,{value:a(!0)}),o=a(!1)},multipleSelection(t){i.multiple=!0},remove(n){const s=i.options,r=n.detail.remove;if(s[r].selected=!1,i.remove(r),s.length>0){-1===Array.prototype.findIndex.call(s,(t=>t.selected))&&(s[0].selected=!0)}t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==i.length;)i.remove(0);t.setValue(e,{value:null,items:[]}),o=a(!1)},insert(n){const{index:s,displayValue:r,exportValue:c}=n.detail.insert,u=i.children[s],h=document.createElement("option");h.textContent=r,h.value=c,u?u.before(h):i.append(h),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:s}=n.detail;for(;0!==i.length;)i.remove(0);for(const t of s){const{displayValue:e,exportValue:n}=t,s=document.createElement("option");s.textContent=e,s.value=n,i.append(s)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const i=new Set(n.detail.indices);for(const t of n.target.options)t.selected=i.has(t.index);t.setValue(e,{value:a(!0)}),o=a(!1)},editable(t){t.target.disabled=!t.detail.editable}};this._dispatchEventFromSandbox(s,n)})),i.addEventListener("input",(n=>{var i;const s=a(!0),r=a(!1);t.setValue(e,{value:s}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:o,change:r,changeEx:s,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(t=>t.target.value))):i.addEventListener("input",(function(n){t.setValue(e,{value:a(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Of extends Af{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Af._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new sp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map((t=>"".concat(Er).concat(t))).join(",")),this.container}}var jf=new WeakMap,Wf=new WeakMap,Bf=new WeakMap,zf=new WeakMap,Hf=new WeakMap,Uf=new WeakMap,Vf=new WeakMap,qf=new WeakMap,Gf=new WeakMap,Xf=new WeakMap,Kf=new WeakMap,Yf=new WeakMap,Qf=new WeakMap,$f=new WeakMap,Jf=new WeakMap,Zf=new WeakMap,tp=new WeakMap,ep=new WeakMap,np=new WeakMap,ip=new WeakSet;class sp{constructor(t){let{container:e,color:n,elements:i,titleObj:s,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:h}=t;Oi(this,ip),ji(this,jf,Wi(ip,this,cp).bind(this)),ji(this,Wf,Wi(ip,this,fp).bind(this)),ji(this,Bf,Wi(ip,this,dp).bind(this)),ji(this,zf,Wi(ip,this,hp).bind(this)),ji(this,Hf,null),ji(this,Uf,null),ji(this,Vf,null),ji(this,qf,null),ji(this,Gf,null),ji(this,Xf,null),ji(this,Kf,null),ji(this,Yf,!1),ji(this,Qf,null),ji(this,$f,null),ji(this,Jf,null),ji(this,Zf,null),ji(this,tp,null),ji(this,ep,null),ji(this,np,!1),Hi(Uf,this,e),Hi(tp,this,s),Hi(Vf,this,a),Hi(Zf,this,o),Hi(Xf,this,l),Hi(Hf,this,n),Hi(Jf,this,c),Hi(Kf,this,u),Hi(Gf,this,i),Hi(qf,this,Yr.toDateObject(r)),this.trigger=i.flatMap((t=>t.getElementsToTriggerPopup()));for(const f of this.trigger)f.addEventListener("click",zi(zf,this)),f.addEventListener("mouseenter",zi(Bf,this)),f.addEventListener("mouseleave",zi(Wf,this)),f.classList.add("popupTriggerArea");for(const f of i){var d;null===(d=f.container)||void 0===d||d.addEventListener("keydown",zi(jf,this))}zi(Uf,this).hidden=!0,h&&Wi(ip,this,hp).call(this)}render(){if(zi(Qf,this))return;const t=Hi(Qf,this,document.createElement("div"));if(t.className="popup",zi(Hf,this)){const e=t.style.outlineColor=wr.makeHexColor(...zi(Hf,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))t.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{const e=.7;t.style.backgroundColor=wr.makeHexColor(...zi(Hf,this).map((t=>Math.floor(e*(255-t)+t))))}}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),({dir:n.dir,str:n.textContent}=zi(tp,this)),t.append(e),zi(qf,this)){const t=document.createElement("span");t.classList.add("popupDate"),t.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),t.setAttribute("data-l10n-args",JSON.stringify({dateObj:zi(qf,this).valueOf()})),e.append(t)}const i=Bi(ip,this,rp);if(i)ff.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const e=this._formatContents(zi(Vf,this));t.append(e)}zi(Uf,this).append(t)}_formatContents(t){let{str:e,dir:n}=t;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const s=e.split(/(?:\r\n?|\n)/);for(let r=0,a=s.length;r<a;++r){const t=s[r];i.append(document.createTextNode(t)),r<a-1&&i.append(document.createElement("br"))}return i}updateEdited(t){var e;let{rect:n,popupContent:i}=t;zi(ep,this)||Hi(ep,this,{contentsObj:zi(Vf,this),richText:zi(Zf,this)}),n&&Hi($f,this,null),i&&(Hi(Zf,this,Wi(ip,this,lp).call(this,i)),Hi(Vf,this,null)),null===(e=zi(Qf,this))||void 0===e||e.remove(),Hi(Qf,this,null)}resetEdited(){var t;zi(ep,this)&&(({contentsObj:Ii(Hi,[Vf,this])._,richText:Ii(Hi,[Zf,this])._}=zi(ep,this)),Hi(ep,this,null),null===(t=zi(Qf,this))||void 0===t||t.remove(),Hi(Qf,this,null),Hi($f,this,null))}forceHide(){Hi(np,this,this.isVisible),zi(np,this)&&(zi(Uf,this).hidden=!0)}maybeShow(){zi(np,this)&&(zi(Qf,this)||Wi(ip,this,dp).call(this),Hi(np,this,!1),zi(Uf,this).hidden=!1)}get isVisible(){return!1===zi(Uf,this).hidden}}function rp(t){const e=zi(Zf,t),n=zi(Vf,t);return null===e||void 0===e||!e.str||null!==n&&void 0!==n&&n.str&&n.str!==e.str?null:zi(Zf,t).html||null}function ap(t){var e;return(null===(e=Bi(ip,t,rp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function op(t){var e;return(null===(e=Bi(ip,t,rp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function lp(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:Bi(ip,this,op),fontSize:Bi(ip,this,ap)?"calc(".concat(Bi(ip,this,ap),"px * var(--scale-factor))"):""}};for(const s of t.split("\n"))e.push({name:"span",value:s,attributes:i});return n}function cp(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&zi(Yf,this))&&Wi(ip,this,hp).call(this)}function up(){if(null!==zi($f,this))return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:i,pageY:s}}}=zi(Xf,this);let r=!!zi(Kf,this),a=zi(r?Kf:Jf,this);for(const d of zi(Gf,this))if(!a||null!==wr.intersect(d.data.rect,a)){a=d.data.rect,r=!0;break}const o=wr.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,u=o[1];Hi($f,this,[100*(c-i)/e,100*(u-s)/n]);const{style:h}=zi(Uf,this);h.left="".concat(zi($f,this)[0],"%"),h.top="".concat(zi($f,this)[1],"%")}function hp(){Hi(Yf,this,!zi(Yf,this)),zi(Yf,this)?(Wi(ip,this,dp).call(this),zi(Uf,this).addEventListener("click",zi(zf,this)),zi(Uf,this).addEventListener("keydown",zi(jf,this))):(Wi(ip,this,fp).call(this),zi(Uf,this).removeEventListener("click",zi(zf,this)),zi(Uf,this).removeEventListener("keydown",zi(jf,this)))}function dp(){zi(Qf,this)||this.render(),this.isVisible?zi(Yf,this)&&zi(Uf,this).classList.add("focused"):(Wi(ip,this,up).call(this),zi(Uf,this).hidden=!1,zi(Uf,this).style.zIndex=parseInt(zi(Uf,this).style.zIndex)+1e3)}function fp(){zi(Uf,this).classList.remove("focused"),!zi(Yf,this)&&this.isVisible&&(zi(Uf,this).hidden=!0,zi(Uf,this).style.zIndex=parseInt(zi(Uf,this).style.zIndex)-1e3)}class pp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=ms.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var gp=new WeakMap;class mp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ji(this,gp,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:e,height:n}=mf(t.rect),i=this.svgFactory.create(e,n,!0),s=Hi(gp,this,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),s.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),s.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),s.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),s.setAttribute("stroke-width",t.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zi(gp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var vp=new WeakMap;class bp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ji(this,vp,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:e,height:n}=mf(t.rect),i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=Hi(vp,this,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",s/2),r.setAttribute("y",s/2),r.setAttribute("width",e-s),r.setAttribute("height",n-s),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zi(vp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var yp=new WeakMap;class wp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ji(this,yp,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:e,height:n}=mf(t.rect),i=this.svgFactory.create(e,n,!0),s=t.borderStyle.width,r=Hi(yp,this,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",e/2),r.setAttribute("cy",n/2),r.setAttribute("rx",e/2-s/2),r.setAttribute("ry",n/2-s/2),r.setAttribute("stroke-width",s||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zi(yp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var xp=new WeakMap;class Ap extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ji(this,xp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:i}}=this;if(!e)return this.container;const{width:s,height:r}=mf(t),a=this.svgFactory.create(s,r,!0);let o=[];for(let c=0,u=e.length;c<u;c+=2){const n=e[c]-t[0],i=t[3]-e[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=Hi(xp,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return zi(xp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class _p extends Ap{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Sp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var kp=new WeakMap;class Ep extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),ji(this,kp,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?ms.HIGHLIGHT:ms.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,inkLists:e,borderStyle:n,popupRef:i}}=this,{width:s,height:r}=mf(t),a=this.svgFactory.create(s,r,!0);for(const o of e){let e=[];for(let n=0,s=o.length;n<s;n+=2){const i=o[n]-t[0],s=t[3]-o[n+1];e.push("".concat(i,",").concat(s))}e=e.join(" ");const i=this.svgFactory.createElement(this.svgElementName);zi(kp,this).push(i),i.setAttribute("points",e),i.setAttribute("stroke-width",n.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),a.append(i)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return zi(kp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Cp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ms.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Mp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Tp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Rp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Pp extends Af{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ms.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Lp=new WeakMap,Np=new WeakSet;class Fp extends Af{constructor(t){var e;super(t,{isRenderable:!0}),Oi(this,Np),ji(this,Lp,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("fileattachmentannotation",ze({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||0===e.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(e.name)?"paperclip":"pushpin",".svg"),e.fillAlpha&&e.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*e.fillAlpha),"%);"))),n.addEventListener("dblclick",Wi(Np,this,Ip).bind(this)),Hi(Lp,this,n);const{isMac:i}=br.platform;return t.addEventListener("keydown",(t=>{"Enter"===t.key&&(i?t.metaKey:t.ctrlKey)&&Wi(Np,this,Ip).call(this)})),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return zi(Lp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Ip(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Dp=new WeakMap,Op=new WeakMap,jp=new WeakMap,Wp=new WeakMap,Bp=new WeakSet;class zp{constructor(t){let{div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:s,page:r,viewport:a,structTreeLayer:o}=t;Oi(this,Bp),ji(this,Dp,null),ji(this,Op,null),ji(this,jp,new Map),ji(this,Wp,null),this.div=e,Hi(Dp,this,n),Hi(Op,this,i),Hi(Wp,this,o||null),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return zi(jp,this).size>0}async render(t){const{annotations:e}=t,n=this.div;ea(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new df,annotationStorage:t.annotationStorage||new uc,enableScripting:!0===t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const t=a.annotationType===zs;if(t){const t=i.get(a.id);if(!t)continue;s.elements=t}else{const{width:t,height:e}=mf(a.rect);if(t<=0||e<=0)continue}s.data=a;const e=vf.create(s);if(!e.isRenderable)continue;if(!t&&a.popupRef){const t=i.get(a.popupRef);t?t.push(e):i.set(a.popupRef,[e])}const n=e.render();var r;if(a.hidden&&(n.style.visibility="hidden"),await Wi(Bp,this,Hp).call(this,n,a.id),e._isEditable)zi(jp,this).set(e.data.id,e),null===(r=this._annotationEditorUIManager)||void 0===r||r.renderAnnotationElement(e)}Wi(Bp,this,Up).call(this)}update(t){let{viewport:e}=t;const n=this.div;this.viewport=e,ea(n,{rotation:e.rotation}),Wi(Bp,this,Up).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(zi(jp,this).values())}getEditableAnnotation(t){return zi(jp,this).get(t)}}async function Hp(t,e){var n,i;const s=t.firstChild||t,r=s.id="".concat(Er).concat(e),a=await(null===(n=zi(Wp,this))||void 0===n?void 0:n.getAriaAttributes(r));if(a)for(const[o,l]of a)s.setAttribute(o,l);this.div.append(t),null===(i=zi(Dp,this))||void 0===i||i.moveElementInDOM(this.div,t,s,!1)}function Up(){if(!zi(Op,this))return;const t=this.div;for(const[e,n]of zi(Op,this)){const i=t.querySelector('[data-annotation-id="'.concat(e,'"]'));if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?"CANVAS"===s.nodeName?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}zi(Op,this).clear()}const Vp=/\r\n?|\n/g;var qp=new WeakMap,Gp=new WeakMap,Xp=new WeakMap,Kp=new WeakMap,Yp=new WeakMap,Qp=new WeakSet;class $p extends jl{static get _keyboardManager(){const t=$p.prototype,e=t=>t.isEmpty(),n=Lo.TRANSLATE_SMALL,i=Lo.TRANSLATE_BIG;return ar(this,"_keyboardManager",new Ba([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:e}]]))}constructor(t){super(ze(ze({},t),{},{name:"freeTextEditor"})),Oi(this,Qp),ji(this,qp,void 0),ji(this,Gp,""),ji(this,Xp,"".concat(this.id,"-editor")),ji(this,Kp,null),ji(this,Yp,void 0),Hi(qp,this,t.color||$p._defaultColor||jl._defaultLineColor),Hi(Yp,this,t.fontSize||$p._defaultFontSize)}static initialize(t,e){jl.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case vs.FREETEXT_SIZE:$p._defaultFontSize=e;break;case vs.FREETEXT_COLOR:$p._defaultColor=e}}updateParams(t,e){switch(t){case vs.FREETEXT_SIZE:Wi(Qp,this,Jp).call(this,e);break;case vs.FREETEXT_COLOR:Wi(Qp,this,Zp).call(this,e)}}static get defaultPropertiesToUpdate(){return[[vs.FREETEXT_SIZE,$p._defaultFontSize],[vs.FREETEXT_COLOR,$p._defaultColor||jl._defaultLineColor]]}get propertiesToUpdate(){return[[vs.FREETEXT_SIZE,zi(Yp,this)],[vs.FREETEXT_COLOR,zi(qp,this)]]}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-$p._internalPadding*t,-($p._internalPadding+zi(Yp,this))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(ms.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Hi(Kp,this,new AbortController);const t=this._uiManager.combinedSignal(zi(Kp,this));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",zi(Xp,this)),this._isDraggable=!0,null===(t=zi(Kp,this))||void 0===t||t.abort(),Hi(Kp,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=zi(Gp,this),e=Hi(Gp,this,Wi(Qp,this,tg).call(this).trimEnd());if(t===e)return;const n=t=>{Hi(Gp,this,t),t?(Wi(Qp,this,ig).call(this),this._uiManager.rebuild(this),Wi(Qp,this,eg).call(this)):this.remove()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),Wi(Qp,this,eg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){$p._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",zi(Xp,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(zi(Yp,this),"px * var(--scale-factor))"),n.color=zi(qp,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),ka(this,this.div,["dblclick","keydown"]),this.width){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:s}=this._initialData;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=t+(s[0]-c)/o,d=e+this.height-(s[1]-u)/l;break;case 90:h=t+(s[0]-c)/o,d=e-(s[1]-u)/l,[r,a]=[a,-r];break;case 180:h=t-this.width+(s[0]-c)/o,d=e-(s[1]-u)/l,[r,a]=[-r,-a];break;case 270:h=t+(s[0]-c-this.height*l)/o,d=e+(s[1]-u-this.width*o)/l,[r,a]=[-a,r]}this.setAt(h*n,d*i,r,a)}else this.setAt(t*n,e*i,this.width*n,this.height*i);Wi(Qp,this,ig).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(1===n.length&&"text/plain"===n[0])return;t.preventDefault();const i=rg.call($p,e.getData("text")||"").replaceAll(Vp,"\n");if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const r=s.getRangeAt(0);if(!i.includes("\n"))return r.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void s.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const t=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(Vp,"")),t!==this.editorDiv){let e=l;for(const n of this.editorDiv.childNodes)n!==t?e.push(ng.call($p,n)):e=c}l.push(a.nodeValue.slice(0,o).replaceAll(Vp,""))}else if(a===this.editorDiv){let t=l,e=0;for(const n of this.editorDiv.childNodes)e++===o&&(t=c),t.push(ng.call($p,n))}Hi(Gp,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),Wi(Qp,this,ig).call(this);const u=new Range;let h=l.reduce(((t,e)=>t+e.length),0);for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const t=d.nodeValue.length;if(h<=t){u.setStart(d,h),u.setEnd(d,h);break}h-=t}s.removeAllRanges(),s.addRange(u)}get contentDiv(){return this.editorDiv}static async deserialize(t,e,n){let i=null;if(t instanceof pp){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:s,rotation:r,id:a,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=t;if(!l||0===l.length)return null;i=t={annotationType:ms.FREETEXT,color:Array.from(n),fontSize:e,value:l.join("\n"),position:c,pageIndex:u-1,rect:s.slice(0),rotation:r,id:a,deleted:!1,popupRef:o}}const s=await super.deserialize(t,e,n);return Hi(Yp,s,t.fontSize),Hi(qp,s,wr.makeHexColor(...t.color)),Hi(Gp,s,rg.call($p,t.value)),s.annotationElementId=t.id||null,s._initialData=i,s}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=$p._internalPadding*this.parentScale,n=this.getRect(e,e),i=jl._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:zi(qp,this)),s={annotationType:ms.FREETEXT,color:i,fontSize:zi(Yp,this),value:Wi(Qp,this,sg).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?s:this.annotationElementId&&!Wi(Qp,this,ag).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(this.deleted)return e;const{style:n}=e;n.fontSize="calc(".concat(zi(Yp,this),"px * var(--scale-factor))"),n.color=zi(qp,this),e.replaceChildren();for(const s of zi(Gp,this).split("\n")){const t=document.createElement("div");t.append(s?document.createTextNode(s):document.createElement("br")),e.append(t)}const i=$p._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(i,i),popupContent:zi(Gp,this)}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}function Jp(t){const e=t=>{this.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),this.translate(0,-(t-zi(Yp,this))*this.parentScale),Hi(Yp,this,t),Wi(Qp,this,eg).call(this)},n=zi(Yp,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Zp(t){const e=t=>{Hi(qp,this,this.editorDiv.style.color=t)},n=zi(qp,this);this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function tg(){const t=[];this.editorDiv.normalize();let e=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=e)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push(ng.call(Yi,i)),e=i)}return t.join("\n")}function eg(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:t,div:e}=this,i=e.style.display,s=e.classList.contains("hidden");e.classList.remove("hidden"),e.style.display="hidden",t.div.append(this.div),n=e.getBoundingClientRect(),e.remove(),e.style.display=i,e.classList.toggle("hidden",s)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}function ng(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Vp,"")}function ig(){if(this.editorDiv.replaceChildren(),zi(Gp,this))for(const t of zi(Gp,this).split("\n")){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}function sg(){return zi(Gp,this).replaceAll("\xa0"," ")}function rg(t){return t.replaceAll(" ","\xa0")}function ag(t){const{value:e,fontSize:n,color:i,pageIndex:s}=this._initialData;return this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some(((t,e)=>t!==i[e]))||t.pageIndex!==s}Yi=$p,We($p,"_freeTextDefaultContent",""),We($p,"_internalPadding",0),We($p,"_defaultColor",null),We($p,"_defaultFontSize",10),We($p,"_type","freetext"),We($p,"_editorType",ms.FREETEXT);class og{toSVGPath(){ir("Abstract method `toSVGPath` must be implemented.")}get box(){ir("Abstract getter `box` must be implemented.")}serialize(t,e){ir("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ir("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ir("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var lg=new WeakMap,cg=new WeakMap,ug=new WeakMap,hg=new WeakMap,dg=new WeakMap,fg=new WeakMap,pg=new WeakMap,gg=new WeakMap,mg=new WeakMap,vg=new WeakMap,bg=new WeakMap,yg=new WeakMap,wg=new WeakMap,xg=new WeakSet;class Ag{constructor(t,e,n,i,s){let{x:r,y:a}=t,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Oi(this,xg),ji(this,lg,void 0),ji(this,cg,[]),ji(this,ug,void 0),ji(this,hg,void 0),ji(this,dg,[]),ji(this,fg,new Float64Array(18)),ji(this,pg,void 0),ji(this,gg,void 0),ji(this,mg,void 0),ji(this,vg,void 0),ji(this,bg,void 0),ji(this,yg,void 0),ji(this,wg,[]),Hi(lg,this,e),Hi(yg,this,i*n),Hi(hg,this,s),zi(fg,this).set([NaN,NaN,NaN,NaN,r,a],6),Hi(ug,this,o),Hi(vg,this,Rg._*n),Hi(mg,this,Pg._*n),Hi(bg,this,n),zi(wg,this).push(r,a)}isEmpty(){return isNaN(zi(fg,this)[8])}add(t){var e;let{x:n,y:i}=t;Hi(pg,this,n),Hi(gg,this,i);const[s,r,a,o]=zi(lg,this);let[l,c,u,h]=zi(fg,this).subarray(8,12);const d=n-u,f=i-h,p=Math.hypot(d,f);if(p<zi(mg,this))return!1;const g=p-zi(vg,this),m=g/p,v=m*d,b=m*f;let y=l,w=c;l=u,c=h,u+=v,h+=b,null===(e=zi(wg,this))||void 0===e||e.push(n,i);const x=v/g,A=-b/g*zi(yg,this),_=x*zi(yg,this);if(zi(fg,this).set(zi(fg,this).subarray(2,8),0),zi(fg,this).set([u+A,h+_],4),zi(fg,this).set(zi(fg,this).subarray(14,18),12),zi(fg,this).set([u-A,h-_],16),isNaN(zi(fg,this)[6]))return 0===zi(dg,this).length&&(zi(fg,this).set([l+A,c+_],2),zi(dg,this).push(NaN,NaN,NaN,NaN,(l+A-s)/a,(c+_-r)/o),zi(fg,this).set([l-A,c-_],14),zi(cg,this).push(NaN,NaN,NaN,NaN,(l-A-s)/a,(c-_-r)/o)),zi(fg,this).set([y,w,l,c,u,h],6),!this.isEmpty();zi(fg,this).set([y,w,l,c,u,h],6);return Math.abs(Math.atan2(w-c,y-l)-Math.atan2(b,v))<Math.PI/2?([l,c,u,h]=zi(fg,this).subarray(2,6),zi(dg,this).push(NaN,NaN,NaN,NaN,((l+u)/2-s)/a,((c+h)/2-r)/o),[l,c,y,w]=zi(fg,this).subarray(14,18),zi(cg,this).push(NaN,NaN,NaN,NaN,((y+l)/2-s)/a,((w+c)/2-r)/o),!0):([y,w,l,c,u,h]=zi(fg,this).subarray(0,6),zi(dg,this).push(((y+5*l)/6-s)/a,((w+5*c)/6-r)/o,((5*l+u)/6-s)/a,((5*c+h)/6-r)/o,((l+u)/2-s)/a,((c+h)/2-r)/o),[u,h,l,c,y,w]=zi(fg,this).subarray(12,18),zi(cg,this).push(((y+5*l)/6-s)/a,((w+5*c)/6-r)/o,((5*l+u)/6-s)/a,((5*c+h)/6-r)/o,((l+u)/2-s)/a,((c+h)/2-r)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const t=zi(dg,this),e=zi(cg,this);if(isNaN(zi(fg,this)[6])&&!this.isEmpty())return Wi(xg,this,Sg).call(this);const n=[];n.push("M".concat(t[4]," ").concat(t[5]));for(let i=6;i<t.length;i+=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));Wi(xg,this,Eg).call(this,n);for(let i=e.length-6;i>=6;i-=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));return Wi(xg,this,kg).call(this,n),n.join(" ")}newFreeDrawOutline(t,e,n,i,s,r){return new Bg(t,e,n,i,s,r)}getOutlines(){var t,e;const n=zi(dg,this),i=zi(cg,this),s=zi(fg,this),[r,a,o,l]=zi(lg,this),c=new Float64Array((null!==(t=null===(e=zi(wg,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2);for(let d=0,f=c.length-2;d<f;d+=2)c[d]=(zi(wg,this)[d]-r)/o,c[d+1]=(zi(wg,this)[d+1]-a)/l;if(c[c.length-2]=(zi(pg,this)-r)/o,c[c.length-1]=(zi(gg,this)-a)/l,isNaN(s[6])&&!this.isEmpty())return Wi(xg,this,Cg).call(this,c);const u=new Float64Array(zi(dg,this).length+24+zi(cg,this).length);let h=n.length;for(let d=0;d<h;d+=2)isNaN(n[d])?u[d]=u[d+1]=NaN:(u[d]=n[d],u[d+1]=n[d+1]);h=Wi(xg,this,Tg).call(this,u,h);for(let d=i.length-6;d>=6;d-=6)for(let t=0;t<6;t+=2)isNaN(i[d+t])?(u[h]=u[h+1]=NaN,h+=2):(u[h]=i[d+t],u[h+1]=i[d+t+1],h+=2);return Wi(xg,this,Mg).call(this,u,h),this.newFreeDrawOutline(u,c,zi(lg,this),zi(bg,this),zi(ug,this),zi(hg,this))}}function _g(){const t=zi(fg,this).subarray(4,6),e=zi(fg,this).subarray(16,18),[n,i,s,r]=zi(lg,this);return[(zi(pg,this)+(t[0]-e[0])/2-n)/s,(zi(gg,this)+(t[1]-e[1])/2-i)/r,(zi(pg,this)+(e[0]-t[0])/2-n)/s,(zi(gg,this)+(e[1]-t[1])/2-i)/r]}function Sg(){const[t,e,n,i]=zi(lg,this),[s,r,a,o]=Wi(xg,this,_g).call(this);return"M".concat((zi(fg,this)[2]-t)/n," ").concat((zi(fg,this)[3]-e)/i," L").concat((zi(fg,this)[4]-t)/n," ").concat((zi(fg,this)[5]-e)/i," L").concat(s," ").concat(r," L").concat(a," ").concat(o," L").concat((zi(fg,this)[16]-t)/n," ").concat((zi(fg,this)[17]-e)/i," L").concat((zi(fg,this)[14]-t)/n," ").concat((zi(fg,this)[15]-e)/i," Z")}function kg(t){const e=zi(cg,this);t.push("L".concat(e[4]," ").concat(e[5]," Z"))}function Eg(t){const[e,n,i,s]=zi(lg,this),r=zi(fg,this).subarray(4,6),a=zi(fg,this).subarray(16,18),[o,l,c,u]=Wi(xg,this,_g).call(this);t.push("L".concat((r[0]-e)/i," ").concat((r[1]-n)/s," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((a[0]-e)/i," ").concat((a[1]-n)/s))}function Cg(t){const e=zi(fg,this),[n,i,s,r]=zi(lg,this),[a,o,l,c]=Wi(xg,this,_g).call(this),u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(e[2]-n)/s,(e[3]-i)/r,NaN,NaN,NaN,NaN,(e[4]-n)/s,(e[5]-i)/r,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(e[16]-n)/s,(e[17]-i)/r,NaN,NaN,NaN,NaN,(e[14]-n)/s,(e[15]-i)/r],0),this.newFreeDrawOutline(u,t,zi(lg,this),zi(bg,this),zi(ug,this),zi(hg,this))}function Mg(t,e){const n=zi(cg,this);return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+6}function Tg(t,e){const n=zi(fg,this).subarray(4,6),i=zi(fg,this).subarray(16,18),[s,r,a,o]=zi(lg,this),[l,c,u,h]=Wi(xg,this,_g).call(this);return t.set([NaN,NaN,NaN,NaN,(n[0]-s)/a,(n[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-r)/o],e),e+24}var Rg={_:8},Pg={_:Rg._+2},Lg=new WeakMap,Ng=new WeakMap,Fg=new WeakMap,Ig=new WeakMap,Dg=new WeakMap,Og=new WeakMap,jg=new WeakMap,Wg=new WeakSet;class Bg extends og{constructor(t,e,n,i,s,r){super(),Oi(this,Wg),ji(this,Lg,void 0),ji(this,Ng,null),ji(this,Fg,void 0),ji(this,Ig,void 0),ji(this,Dg,void 0),ji(this,Og,void 0),ji(this,jg,void 0),Hi(jg,this,t),Hi(Dg,this,e),Hi(Lg,this,n),Hi(Og,this,i),Hi(Fg,this,s),Hi(Ig,this,r),Wi(Wg,this,Ug).call(this,r);const{x:a,y:o,width:l,height:c}=zi(Ng,this);for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-o)/c;for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-o)/c}toSVGPath(){const t=["M".concat(zi(jg,this)[4]," ").concat(zi(jg,this)[5])];for(let e=6,n=zi(jg,this).length;e<n;e+=6)isNaN(zi(jg,this)[e])?t.push("L".concat(zi(jg,this)[e+4]," ").concat(zi(jg,this)[e+5])):t.push("C".concat(zi(jg,this)[e]," ").concat(zi(jg,this)[e+1]," ").concat(zi(jg,this)[e+2]," ").concat(zi(jg,this)[e+3]," ").concat(zi(jg,this)[e+4]," ").concat(zi(jg,this)[e+5]));return t.push("Z"),t.join(" ")}serialize(t,e){let[n,i,s,r]=t;const a=s-n,o=r-i;let l,c;switch(e){case 0:l=Wi(Wg,this,zg).call(this,zi(jg,this),n,r,a,-o),c=Wi(Wg,this,zg).call(this,zi(Dg,this),n,r,a,-o);break;case 90:l=Wi(Wg,this,Hg).call(this,zi(jg,this),n,i,a,o),c=Wi(Wg,this,Hg).call(this,zi(Dg,this),n,i,a,o);break;case 180:l=Wi(Wg,this,zg).call(this,zi(jg,this),s,i,-a,o),c=Wi(Wg,this,zg).call(this,zi(Dg,this),s,i,-a,o);break;case 270:l=Wi(Wg,this,Hg).call(this,zi(jg,this),s,r,-a,-o),c=Wi(Wg,this,Hg).call(this,zi(Dg,this),s,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return zi(Ng,this)}newOutliner(t,e,n,i,s){return new Ag(t,e,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(t,e){const{x:n,y:i,width:s,height:r}=zi(Ng,this),[a,o,l,c]=zi(Lg,this),u=s*l,h=r*c,d=n*l+a,f=i*c+o,p=this.newOutliner({x:zi(Dg,this)[0]*u+d,y:zi(Dg,this)[1]*h+f},zi(Lg,this),zi(Og,this),t,zi(Ig,this),null!==e&&void 0!==e?e:zi(Fg,this));for(let g=2;g<zi(Dg,this).length;g+=2)p.add({x:zi(Dg,this)[g]*u+d,y:zi(Dg,this)[g+1]*h+f});return p.getOutlines()}get mustRemoveSelfIntersections(){return!0}}function zg(t,e,n,i,s){const r=new Float64Array(t.length);for(let a=0,o=t.length;a<o;a+=2)r[a]=e+t[a]*i,r[a+1]=n+t[a+1]*s;return r}function Hg(t,e,n,i,s){const r=new Float64Array(t.length);for(let a=0,o=t.length;a<o;a+=2)r[a]=e+t[a+1]*i,r[a+1]=n+t[a]*s;return r}function Ug(t){const e=zi(jg,this);let n=e[4],i=e[5],s=n,r=i,a=n,o=i,l=n,c=i;const u=t?Math.max:Math.min;for(let g=6,m=e.length;g<m;g+=6){if(isNaN(e[g]))s=Math.min(s,e[g+4]),r=Math.min(r,e[g+5]),a=Math.max(a,e[g+4]),o=Math.max(o,e[g+5]),c<e[g+5]?(l=e[g+4],c=e[g+5]):c===e[g+5]&&(l=u(l,e[g+4]));else{const t=wr.bezierBoundingBox(n,i,...e.slice(g,g+6));s=Math.min(s,t[0]),r=Math.min(r,t[1]),a=Math.max(a,t[2]),o=Math.max(o,t[3]),c<t[3]?(l=t[2],c=t[3]):c===t[3]&&(l=u(l,t[2]))}n=e[g+4],i=e[g+5]}const h=s-zi(Fg,this),d=r-zi(Fg,this),f=a-s+2*zi(Fg,this),p=o-r+2*zi(Fg,this);Hi(Ng,this,{x:h,y:d,width:f,height:p,lastPoint:[l,c]})}var Vg=new WeakMap,qg=new WeakMap,Gg=new WeakMap,Xg=new WeakSet;class Kg{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Oi(this,Xg),ji(this,Vg,void 0),ji(this,qg,[]),ji(this,Gg,[]);let s=1/0,r=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:b}of t){const t=Math.floor((g-e)/l)*l,n=Math.ceil((g+v+e)/l)*l,i=Math.floor((m-e)/l)*l,c=Math.ceil((m+b+e)/l)*l,u=[t,i,c,!0],h=[n,i,c,!1];zi(qg,this).push(u,h),s=Math.min(s,t),r=Math.max(r,n),a=Math.min(a,i),o=Math.max(o,c)}const c=r-s+2*n,u=o-a+2*n,h=s-n,d=a-n,f=zi(qg,this).at(i?-1:-2),p=[f[0],f[2]];for(const g of zi(qg,this)){const[t,e,n]=g;g[0]=(t-h)/c,g[1]=(e-d)/u,g[2]=(n-d)/u}Hi(Vg,this,{x:h,y:d,width:c,height:u,lastPoint:p})}getOutlines(){zi(qg,this).sort(((t,e)=>t[0]-e[0]||t[1]-e[1]||t[2]-e[2]));const t=[];for(const e of zi(qg,this))e[3]?(t.push(...Wi(Xg,this,Zg).call(this,e)),Wi(Xg,this,$g).call(this,e)):(Wi(Xg,this,Jg).call(this,e),t.push(...Wi(Xg,this,Zg).call(this,e)));return Wi(Xg,this,Yg).call(this,t)}}function Yg(t){const e=[],n=new Set;for(const r of t){const[t,n,i]=r;e.push([t,n,r],[t,i,r])}e.sort(((t,e)=>t[1]-e[1]||t[0]-e[0]));for(let r=0,a=e.length;r<a;r+=2){const t=e[r][2],i=e[r+1][2];t.push(i),i.push(t),n.add(t),n.add(i)}const i=[];let s;for(;n.size>0;){const t=n.values().next().value;let[e,r,a,o,l]=t;n.delete(t);let c=e,u=r;for(s=[e,a],i.push(s);;){let t;if(n.has(o))t=o;else{if(!n.has(l))break;t=l}n.delete(t),[e,r,a,o,l]=t,c!==e&&(s.push(c,u,e,u===r?r:a),c=e),u=u===r?a:r}s.push(c,u)}return new nm(i,zi(Vg,this))}function Qg(t){const e=zi(Gg,this);let n=0,i=e.length-1;for(;n<=i;){const s=n+i>>1,r=e[s][0];if(r===t)return s;r<t?n=s+1:i=s-1}return i+1}function $g(t){let[,e,n]=t;const i=Wi(Xg,this,Qg).call(this,e);zi(Gg,this).splice(i,0,[e,n])}function Jg(t){let[,e,n]=t;const i=Wi(Xg,this,Qg).call(this,e);for(let s=i;s<zi(Gg,this).length;s++){const[t,i]=zi(Gg,this)[s];if(t!==e)break;if(t===e&&i===n)return void zi(Gg,this).splice(s,1)}for(let s=i-1;s>=0;s--){const[t,i]=zi(Gg,this)[s];if(t!==e)break;if(t===e&&i===n)return void zi(Gg,this).splice(s,1)}}function Zg(t){const[e,n,i]=t,s=[[e,n,i]],r=Wi(Xg,this,Qg).call(this,i);for(let a=0;a<r;a++){const[t,n]=zi(Gg,this)[a];for(let i=0,r=s.length;i<r;i++){const[,a,o]=s[i];if(!(n<=a||o<=t))if(a>=t)if(o>n)s[i][1]=n;else{if(1===r)return[];s.splice(i,1),i--,r--}else s[i][2]=t,o>n&&s.push([e,n,o])}}return s}var tm=new WeakMap,em=new WeakMap;class nm extends og{constructor(t,e){super(),ji(this,tm,void 0),ji(this,em,void 0),Hi(em,this,t),Hi(tm,this,e)}toSVGPath(){const t=[];for(const e of zi(em,this)){let[n,i]=e;t.push("M".concat(n," ").concat(i));for(let s=2;s<e.length;s+=2){const r=e[s],a=e[s+1];r===n?(t.push("V".concat(a)),i=a):a===i&&(t.push("H".concat(r)),n=r)}t.push("Z")}return t.join(" ")}serialize(t,e){let[n,i,s,r]=t;const a=[],o=s-n,l=r-i;for(const c of zi(em,this)){const t=new Array(c.length);for(let e=0;e<c.length;e+=2)t[e]=n+c[e]*o,t[e+1]=r-c[e+1]*l;a.push(t)}return a}get box(){return zi(tm,this)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class im extends Ag{newFreeDrawOutline(t,e,n,i,s,r){return new sm(t,e,n,i,s,r)}get classNamesForDrawing(){return["highlight","free"]}}class sm extends Bg{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(t,e,n,i,s){return new im(t,e,n,i,s,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var rm=new WeakMap,am=new WeakMap,om=new WeakMap,lm=new WeakMap,cm=new WeakMap,um=new WeakMap,hm=new WeakMap,dm=new WeakMap,fm=new WeakMap,pm=new WeakMap,gm=new WeakMap,mm=new WeakSet;class vm{static get _keyboardManager(){return ar(this,"_keyboardManager",new Ba([[["Escape","mac+Escape"],vm.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vm.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vm.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vm.prototype._moveToPrevious],[["Home","mac+Home"],vm.prototype._moveToBeginning],[["End","mac+End"],vm.prototype._moveToEnd]]))}constructor(t){var e;let{editor:n=null,uiManager:i=null}=t;Oi(this,mm),ji(this,rm,null),ji(this,am,null),ji(this,om,void 0),ji(this,lm,null),ji(this,cm,!1),ji(this,um,!1),ji(this,hm,null),ji(this,dm,void 0),ji(this,fm,null),ji(this,pm,null),ji(this,gm,void 0),n?(Hi(um,this,!1),Hi(gm,this,vs.HIGHLIGHT_COLOR),Hi(hm,this,n)):(Hi(um,this,!0),Hi(gm,this,vs.HIGHLIGHT_DEFAULT_COLOR)),Hi(pm,this,(null===n||void 0===n?void 0:n._uiManager)||i),Hi(dm,this,zi(pm,this)._eventBus),Hi(om,this,(null===n||void 0===n?void 0:n.color)||(null===(e=zi(pm,this))||void 0===e?void 0:e.highlightColors.values().next().value)||"#FFFF98"),Sm._||(Sm._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const t=Hi(rm,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=zi(pm,this)._signal;t.addEventListener("click",Wi(mm,this,xm).bind(this),{signal:e}),t.addEventListener("keydown",Wi(mm,this,wm).bind(this),{signal:e});const n=Hi(am,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=zi(om,this),t.append(n),t}renderMainDropdown(){const t=Hi(lm,this,Wi(mm,this,bm).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===zi(rm,this))return void Wi(mm,this,xm).call(this,t);const e=t.target.getAttribute("data-color");e&&Wi(mm,this,ym).call(this,e,t)}_moveToNext(t){var e,n;Bi(mm,this,_m)?t.target!==zi(rm,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=zi(lm,this).firstChild)||void 0===n||n.focus():Wi(mm,this,xm).call(this,t)}_moveToPrevious(t){var e,n;t.target!==(null===(e=zi(lm,this))||void 0===e?void 0:e.firstChild)&&t.target!==zi(rm,this)?(Bi(mm,this,_m)||Wi(mm,this,xm).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):Bi(mm,this,_m)&&this._hideDropdownFromKeyboard()}_moveToBeginning(t){var e;Bi(mm,this,_m)?null===(e=zi(lm,this).firstChild)||void 0===e||e.focus():Wi(mm,this,xm).call(this,t)}_moveToEnd(t){var e;Bi(mm,this,_m)?null===(e=zi(lm,this).lastChild)||void 0===e||e.focus():Wi(mm,this,xm).call(this,t)}hideDropdown(){var t,e;null===(t=zi(lm,this))||void 0===t||t.classList.add("hidden"),null===(e=zi(fm,this))||void 0===e||e.abort(),Hi(fm,this,null)}_hideDropdownFromKeyboard(){var t;zi(um,this)||(Bi(mm,this,_m)?(this.hideDropdown(),zi(rm,this).focus({preventScroll:!0,focusVisible:zi(cm,this)})):null===(t=zi(hm,this))||void 0===t||t.unselect())}updateColor(t){if(zi(am,this)&&(zi(am,this).style.backgroundColor=t),!zi(lm,this))return;const e=zi(pm,this).highlightColors.values();for(const n of zi(lm,this).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;null===(t=zi(rm,this))||void 0===t||t.remove(),Hi(rm,this,null),Hi(am,this,null),null===(e=zi(lm,this))||void 0===e||e.remove(),Hi(lm,this,null)}}function bm(){const t=document.createElement("div"),e=zi(pm,this)._signal;t.addEventListener("contextmenu",Xr,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of zi(pm,this).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",Sm._[n]);const r=document.createElement("span");s.append(r),r.className="swatch",r.style.backgroundColor=i,s.setAttribute("aria-selected",i===zi(om,this)),s.addEventListener("click",Wi(mm,this,ym).bind(this,i),{signal:e}),t.append(s)}return t.addEventListener("keydown",Wi(mm,this,wm).bind(this),{signal:e}),t}function ym(t,e){e.stopPropagation(),zi(dm,this).dispatch("switchannotationeditorparams",{source:this,type:zi(gm,this),value:t})}function wm(t){Qi._keyboardManager.exec(this,t)}function xm(t){if(Bi(mm,this,_m))return void this.hideDropdown();if(Hi(cm,this,0===t.detail),zi(fm,this)||(Hi(fm,this,new AbortController),window.addEventListener("pointerdown",Wi(mm,this,Am).bind(this),{signal:zi(pm,this).combinedSignal(zi(fm,this))})),zi(lm,this))return void zi(lm,this).classList.remove("hidden");const e=Hi(lm,this,Wi(mm,this,bm).call(this));zi(rm,this).append(e)}function Am(t){var e;null!==(e=zi(lm,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function _m(t){return zi(lm,t)&&!zi(lm,t).classList.contains("hidden")}Qi=vm;var Sm={_:null},km=new WeakMap,Em=new WeakMap,Cm=new WeakMap,Mm=new WeakMap,Tm=new WeakMap,Rm=new WeakMap,Pm=new WeakMap,Lm=new WeakMap,Nm=new WeakMap,Fm=new WeakMap,Im=new WeakMap,Dm=new WeakMap,Om=new WeakMap,jm=new WeakMap,Wm=new WeakMap,Bm=new WeakMap,zm=new WeakMap,Hm=new WeakMap,Um=new WeakSet;class Vm extends jl{static get _keyboardManager(){const t=Vm.prototype;return ar(this,"_keyboardManager",new Ba([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super(ze(ze({},t),{},{name:"highlightEditor"})),Oi(this,Um),ji(this,km,null),ji(this,Em,0),ji(this,Cm,void 0),ji(this,Mm,null),ji(this,Tm,null),ji(this,Rm,null),ji(this,Pm,null),ji(this,Lm,0),ji(this,Nm,null),ji(this,Fm,null),ji(this,Im,null),ji(this,Dm,!1),ji(this,Om,null),ji(this,jm,void 0),ji(this,Wm,null),ji(this,Bm,""),ji(this,zm,void 0),ji(this,Hm,""),this.color=t.color||Vm._defaultColor,Hi(zm,this,t.thickness||Vm._defaultThickness),Hi(jm,this,t.opacity||Vm._defaultOpacity),Hi(Cm,this,t.boxes||null),Hi(Hm,this,t.methodOfCreation||""),Hi(Bm,this,t.text||""),this._isDraggable=!1,t.highlightId>-1?(Hi(Dm,this,!0),Wi(Um,this,Gm).call(this,t),Wi(Um,this,$m).call(this)):zi(Cm,this)&&(Hi(km,this,t.anchorNode),Hi(Em,this,t.anchorOffset),Hi(Pm,this,t.focusNode),Hi(Lm,this,t.focusOffset),Wi(Um,this,qm).call(this),Wi(Um,this,$m).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:zi(Dm,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:zi(zm,this),methodOfCreation:zi(Hm,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,e){var n;jl.initialize(t,e),Vm._defaultColor||(Vm._defaultColor=(null===(n=e.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(t,e){switch(t){case vs.HIGHLIGHT_DEFAULT_COLOR:Vm._defaultColor=e;break;case vs.HIGHLIGHT_THICKNESS:Vm._defaultThickness=e}}translateInPage(t,e){}get toolbarPosition(){return zi(Om,this)}updateParams(t,e){switch(t){case vs.HIGHLIGHT_COLOR:Wi(Um,this,Xm).call(this,e);break;case vs.HIGHLIGHT_THICKNESS:Wi(Um,this,Km).call(this,e)}}static get defaultPropertiesToUpdate(){return[[vs.HIGHLIGHT_DEFAULT_COLOR,Vm._defaultColor],[vs.HIGHLIGHT_THICKNESS,Vm._defaultThickness]]}get propertiesToUpdate(){return[[vs.HIGHLIGHT_COLOR,this.color||Vm._defaultColor],[vs.HIGHLIGHT_THICKNESS,zi(zm,this)||Vm._defaultThickness],[vs.HIGHLIGHT_FREE,zi(Dm,this)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(Hi(Tm,this,new vm({editor:this})),t.addColorPicker(zi(Tm,this))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Wi(Um,this,ev).call(this))}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,Wi(Um,this,ev).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){Wi(Um,this,Qm).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(Wi(Um,this,$m).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;if(this.parent&&!t)Wi(Um,this,Qm).call(this);else if(t){var n;Wi(Um,this,$m).call(this,t),e=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(t),this.show(this._isVisible),e&&this.select()}rotate(t){const{drawLayer:e}=this.parent;let n;zi(Dm,this)?(t=(t-this.rotation+360)%360,n=Jm.call(Vm,zi(Fm,this).box,t)):n=Jm.call(Vm,this,t),e.rotate(zi(Im,this),t),e.rotate(zi(Wm,this),t),e.updateBox(zi(Im,this),n),e.updateBox(zi(Wm,this),Jm.call(Vm,zi(Rm,this).box,t))}render(){if(this.div)return this.div;const t=super.render();zi(Bm,this)&&(t.setAttribute("aria-label",zi(Bm,this)),t.setAttribute("role","mark")),zi(Dm,this)?t.classList.add("free"):this.div.addEventListener("keydown",Wi(Um,this,Zm).bind(this),{signal:this._uiManager._signal});const e=Hi(Nm,this,document.createElement("div"));t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=zi(Mm,this);const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),ka(this,zi(Nm,this),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent.drawLayer.addClass(zi(Wm,this),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(zi(Wm,this),"hovered")}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:Wi(Um,this,tv).call(this,!0);break;case 1:case 3:Wi(Um,this,tv).call(this,!1)}}select(){var t,e;super.select(),zi(Wm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(zi(Wm,this),"hovered"),null===(e=this.parent)||void 0===e||e.drawLayer.addClass(zi(Wm,this),"selected"))}unselect(){var t;super.unselect(),zi(Wm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(zi(Wm,this),"selected"),zi(Dm,this)||Wi(Um,this,tv).call(this,!1))}get _mustFixPosition(){return!zi(Dm,this)}show(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(t),this.parent&&(this.parent.drawLayer.show(zi(Im,this),t),this.parent.drawLayer.show(zi(Wm,this),t))}static startHighlighting(t,e,n){let{target:i,x:s,y:r}=n;const{x:a,y:o,width:l,height:c}=i.getBoundingClientRect(),u=new AbortController,h=t.combinedSignal(u),d=e=>{u.abort(),Wi(Vm,this,rv).call(this,t,e)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",(t=>{t.preventDefault(),t.stopPropagation()}),{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Xr,{signal:h}),i.addEventListener("pointermove",Wi(Vm,this,sv).bind(this,t),{signal:h}),this._freeHighlight=new im({x:s,y:r},[a,o,l,c],t.scale,this._defaultThickness/2,e,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static async deserialize(t,e,n){let i=null;if(t instanceof Cp){const{data:{quadPoints:e,rect:n,rotation:s,id:r,color:a,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=t;i=t={annotationType:ms.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:e,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,id:r,deleted:!1,popupRef:l}}else if(t instanceof Ep){const{data:{inkLists:e,rect:n,rotation:s,id:r,color:a,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=t;i=t={annotationType:ms.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:e,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:s,id:r,deleted:!1,popupRef:l}}const{color:s,quadPoints:r,inkLists:a,opacity:o}=t,l=await super.deserialize(t,e,n);l.color=wr.makeHexColor(...s),Hi(jm,l,o||1),a&&Hi(zm,l,t.thickness),l.annotationElementId=t.id||null,l._initialData=i;const[c,u]=l.pageDimensions,[h,d]=l.pageTranslation;if(r){const t=Hi(Cm,l,[]);for(let e=0;e<r.length;e+=8)t.push({x:(r[e]-h)/c,y:1-(r[e+1]-d)/u,width:(r[e+2]-r[e])/c,height:(r[e+1]-r[e+5])/u});Wi(Um,l,qm).call(l),Wi(Um,l,$m).call(l),l.rotate(l.rotation)}else if(a){Hi(Dm,l,!0);const t=a[0],n={x:t[0]-h,y:u-(t[1]-d)},i=new im(n,[0,0,c,u],1,zi(zm,l)/2,!0,.001);for(let e=0,a=t.length;e<a;e+=2)n.x=t[e]-h,n.y=u-(t[e+1]-d),i.add(n);const{id:s,clipPathId:r}=e.drawLayer.draw(i,l.color,l._defaultOpacity,!0);Wi(Um,l,Gm).call(l,{highlightOutlines:i.getOutlines(),highlightId:s,clipPathId:r}),Wi(Um,l,$m).call(l)}return l}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=this.getRect(0,0),n=jl._colorManager.convert(this.color),i={annotationType:ms.HIGHLIGHT,color:n,opacity:zi(jm,this),thickness:zi(zm,this),quadPoints:Wi(Um,this,nv).call(this),outlines:Wi(Um,this,iv).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:Wi(Um,this,ev).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!Wi(Um,this,av).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function qm(){const t=new Kg(zi(Cm,this),.001);Hi(Fm,this,t.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=zi(Fm,this).box);const e=new Kg(zi(Cm,this),.0025,.001,"ltr"===this._uiManager.direction);Hi(Rm,this,e.getOutlines());const{lastPoint:n}=zi(Rm,this).box;Hi(Om,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function Gm(t){let{highlightOutlines:e,highlightId:n,clipPathId:i}=t;Hi(Fm,this,e);if(Hi(Rm,this,e.getNewOutline(zi(zm,this)/2+1.5,.0025)),n>=0)Hi(Im,this,n),Hi(Mm,this,i),this.parent.drawLayer.finalizeLine(n,e),Hi(Wm,this,this.parent.drawLayer.drawOutline(zi(Rm,this)));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(zi(Im,this),e),this.parent.drawLayer.updateBox(zi(Im,this),Jm.call($i,zi(Fm,this).box,(t-this.rotation+360)%360)),this.parent.drawLayer.updateLine(zi(Wm,this),zi(Rm,this)),this.parent.drawLayer.updateBox(zi(Wm,this),Jm.call($i,zi(Rm,this).box,t))}const{x:s,y:r,width:a,height:o}=e.box;switch(this.rotation){case 0:this.x=s,this.y=r,this.width=a,this.height=o;break;case 90:{const[t,e]=this.parentDimensions;this.x=r,this.y=1-s,this.width=a*e/t,this.height=o*t/e;break}case 180:this.x=1-s,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[t,e]=this.parentDimensions;this.x=1-r,this.y=s,this.width=a*e/t,this.height=o*t/e;break}}const{lastPoint:l}=zi(Rm,this).box;Hi(Om,this,[(l[0]-s)/a,(l[1]-r)/o])}function Xm(t){const e=(t,e)=>{var n,i,s;this.color=t,null===(n=this.parent)||void 0===n||n.drawLayer.changeColor(zi(Im,this),t),null===(i=zi(Tm,this))||void 0===i||i.updateColor(t),Hi(jm,this,e),null===(s=this.parent)||void 0===s||s.drawLayer.changeOpacity(zi(Im,this),e)},n=this.color,i=zi(jm,this);this.addCommands({cmd:e.bind(this,t,$i._defaultOpacity),undo:e.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}function Km(t){const e=zi(zm,this),n=t=>{Hi(zm,this,t),Wi(Um,this,Ym).call(this,t)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function Ym(t){if(!zi(Dm,this))return;Wi(Um,this,Gm).call(this,{highlightOutlines:zi(Fm,this).getNewOutline(t/2)}),this.fixAndSetPosition();const[e,n]=this.parentDimensions;this.setDims(this.width*e,this.height*n)}function Qm(){null!==zi(Im,this)&&this.parent&&(this.parent.drawLayer.remove(zi(Im,this)),Hi(Im,this,null),this.parent.drawLayer.remove(zi(Wm,this)),Hi(Wm,this,null))}function $m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===zi(Im,this)&&(({id:Ii(Hi,[Im,this])._,clipPathId:Ii(Hi,[Mm,this])._}=t.drawLayer.draw(zi(Fm,this),this.color,zi(jm,this))),Hi(Wm,this,t.drawLayer.drawOutline(zi(Rm,this))),zi(Nm,this)&&(zi(Nm,this).style.clipPath=zi(Mm,this)))}function Jm(t,e){let{x:n,y:i,width:s,height:r}=t;switch(e){case 90:return{x:1-i-r,y:n,width:r,height:s};case 180:return{x:1-n-s,y:1-i-r,width:s,height:r};case 270:return{x:i,y:1-n-s,width:r,height:s}}return{x:n,y:i,width:s,height:r}}function Zm(t){$i._keyboardManager.exec(this,t)}function tv(t){if(!zi(km,this))return;const e=window.getSelection();t?e.setPosition(zi(km,this),zi(Em,this)):e.setPosition(zi(Pm,this),zi(Lm,this))}function ev(){return zi(Dm,this)?this.rotation:0}function nv(){if(zi(Dm,this))return null;const[t,e]=this.pageDimensions,[n,i]=this.pageTranslation,s=zi(Cm,this),r=new Float32Array(8*s.length);let a=0;for(const{x:o,y:l,width:c,height:u}of s){const s=o*t+n,h=(1-l-u)*e+i;r[a]=r[a+4]=s,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=s+c*t,r[a+5]=r[a+7]=h+u*e,a+=8}return r}function iv(t){return zi(Fm,this).serialize(t,Wi(Um,this,ev).call(this))}function sv(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function rv(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function av(t){const{color:e}=this._initialData;return t.color.some(((t,n)=>t!==e[n]))}$i=Vm,We(Vm,"_defaultColor",null),We(Vm,"_defaultOpacity",1),We(Vm,"_defaultThickness",12),We(Vm,"_type","highlight"),We(Vm,"_editorType",ms.HIGHLIGHT),We(Vm,"_freeHighlightId",-1),We(Vm,"_freeHighlight",null),We(Vm,"_freeHighlightClipId","");var ov=new WeakMap,lv=new WeakMap,cv=new WeakMap,uv=new WeakMap,hv=new WeakMap,dv=new WeakMap,fv=new WeakMap,pv=new WeakMap,gv=new WeakMap,mv=new WeakMap,vv=new WeakMap,bv=new WeakMap,yv=new WeakMap,wv=new WeakSet;class xv extends jl{constructor(t){super(ze(ze({},t),{},{name:"inkEditor"})),Oi(this,wv),ji(this,ov,0),ji(this,lv,0),ji(this,cv,null),ji(this,uv,new Path2D),ji(this,hv,!1),ji(this,dv,null),ji(this,fv,!1),ji(this,pv,!1),ji(this,gv,null),ji(this,mv,null),ji(this,vv,0),ji(this,bv,0),ji(this,yv,null),this.color=t.color||null,this.thickness=t.thickness||null,this.opacity=t.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(t,e){jl.initialize(t,e)}static updateDefaultParams(t,e){switch(t){case vs.INK_THICKNESS:xv._defaultThickness=e;break;case vs.INK_COLOR:xv._defaultColor=e;break;case vs.INK_OPACITY:xv._defaultOpacity=e/100}}updateParams(t,e){switch(t){case vs.INK_THICKNESS:Wi(wv,this,Av).call(this,e);break;case vs.INK_COLOR:Wi(wv,this,_v).call(this,e);break;case vs.INK_OPACITY:Wi(wv,this,Sv).call(this,e)}}static get defaultPropertiesToUpdate(){return[[vs.INK_THICKNESS,xv._defaultThickness],[vs.INK_COLOR,xv._defaultColor||jl._defaultLineColor],[vs.INK_OPACITY,Math.round(100*xv._defaultOpacity)]]}get propertiesToUpdate(){var t;return[[vs.INK_THICKNESS,this.thickness||xv._defaultThickness],[vs.INK_COLOR,this.color||xv._defaultColor||jl._defaultLineColor],[vs.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:xv._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(Wi(wv,this,jv).call(this),Wi(wv,this,Wv).call(this)),this.isAttachedToDOM||(this.parent.add(this),Wi(wv,this,Bv).call(this)),Wi(wv,this,Yv).call(this)))}remove(){var t;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,zi(cv,this)&&(clearTimeout(zi(cv,this)),Hi(cv,this,null)),null===(t=zi(gv,this))||void 0===t||t.disconnect(),Hi(gv,this,null),super.remove())}setParent(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),super.setParent(t)}onScaleChanging(){const[t,e]=this.parentDimensions,n=this.width*t,i=this.height*e;this.setDimensions(n,i)}enableEditMode(){zi(hv,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,Wi(wv,this,Iv).call(this))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),Wi(wv,this,Dv).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){zi(hv,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Hi(hv,this,!0),this.div.classList.add("disabled"),Wi(wv,this,Yv).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),this.enableEditMode())}canvasPointerdown(t){0===t.button&&this.isInEditMode()&&!zi(hv,this)&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),Wi(wv,this,Cv).call(this,t.offsetX,t.offsetY))}canvasPointermove(t){t.preventDefault(),Wi(wv,this,Mv).call(this,t.offsetX,t.offsetY)}canvasPointerup(t){t.preventDefault(),Wi(wv,this,Ov).call(this,t)}canvasPointerleave(t){Wi(wv,this,Ov).call(this,t)}get isResizable(){return!this.isEmpty()&&zi(hv,this)}render(){if(this.div)return this.div;let t,e;this.width&&(t=this.x,e=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,i,s,r]=Wi(wv,this,kv).call(this);if(this.setAt(n,i,0,0),this.setDims(s,r),Wi(wv,this,jv).call(this),this.width){const[n,i]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*i),this.setAt(t*n,e*i,this.width*n,this.height*i),Hi(pv,this,!0),Wi(wv,this,Bv).call(this),this.setDims(this.width*n,this.height*i),Wi(wv,this,Fv).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Wi(wv,this,Wv).call(this),this.div}setDimensions(t,e){const n=Math.round(t),i=Math.round(e);if(zi(vv,this)===n&&zi(bv,this)===i)return;Hi(vv,this,n),Hi(bv,this,i),this.canvas.style.visibility="hidden";const[s,r]=this.parentDimensions;this.width=t/s,this.height=e/r,this.fixAndSetPosition(),zi(hv,this)&&Wi(wv,this,zv).call(this,t,e),Wi(wv,this,Bv).call(this),Wi(wv,this,Fv).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(t,e,n){if(t instanceof Ep)return null;const i=await super.deserialize(t,e,n);i.thickness=t.thickness,i.color=wr.makeHexColor(...t.color),i.opacity=t.opacity;const[s,r]=i.pageDimensions,a=i.width*s,o=i.height*r,l=i.parentScale,c=t.thickness/2;Hi(hv,i,!0),Hi(vv,i,Math.round(a)),Hi(bv,i,Math.round(o));const{paths:u,rect:h,rotation:d}=t;for(let{bezier:p}of u){p=qv.call(xv,p,h,d);const t=[];i.paths.push(t);let e=l*(p[0]-c),n=l*(p[1]-c);for(let i=2,r=p.length;i<r;i+=6){const s=l*(p[i]-c),r=l*(p[i+1]-c),a=l*(p[i+2]-c),o=l*(p[i+3]-c),u=l*(p[i+4]-c),h=l*(p[i+5]-c);t.push([[e,n],[s,r],[a,o],[u,h]]),e=u,n=h}const s=Wi(xv,this,Uv).call(this,t);i.bezierPath2D.push(s)}const f=Wi(wv,i,Xv).call(i);return Hi(lv,i,Math.max(jl.MIN_SIZE,f[2]-f[0])),Hi(ov,i,Math.max(jl.MIN_SIZE,f[3]-f[1])),Wi(wv,i,zv).call(i,a,o),i}serialize(){if(this.isEmpty())return null;const t=this.getRect(0,0),e=jl._colorManager.convert(this.ctx.strokeStyle);return{annotationType:ms.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:Wi(wv,this,Gv).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function Av(t){const e=t=>{this.thickness=t,Wi(wv,this,Yv).call(this)},n=this.thickness;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function _v(t){const e=t=>{this.color=t,Wi(wv,this,Fv).call(this)},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Sv(t){const e=t=>{this.opacity=t,Wi(wv,this,Fv).call(this)};t/=100;const n=this.opacity;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:vs.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function kv(){const{parentRotation:t,parentDimensions:[e,n]}=this;switch(t){case 90:return[0,n,n,e];case 180:return[e,n,e,n];case 270:return[e,0,n,e];default:return[0,0,e,n]}}function Ev(){const{ctx:t,color:e,opacity:n,thickness:i,parentScale:s,scaleFactor:r}=this;t.lineWidth=i*s/r,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle="".concat(e).concat(function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(n))}function Cv(t,e){this.canvas.addEventListener("contextmenu",Xr,{signal:this._uiManager._signal}),Wi(wv,this,Dv).call(this),Hi(dv,this,new AbortController);const n=this._uiManager.combinedSignal(zi(dv,this));var i;(this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,zi(pv,this))||(Hi(pv,this,!0),Wi(wv,this,Bv).call(this),this.thickness||(this.thickness=Ji._defaultThickness),this.color||(this.color=Ji._defaultColor||jl._defaultLineColor),null!==(i=this.opacity)&&void 0!==i||(this.opacity=Ji._defaultOpacity));this.currentPath.push([t,e]),Hi(fv,this,!1),Wi(wv,this,Ev).call(this),Hi(yv,this,(()=>{Wi(wv,this,Pv).call(this),zi(yv,this)&&window.requestAnimationFrame(zi(yv,this))})),window.requestAnimationFrame(zi(yv,this))}function Mv(t,e){const[n,i]=this.currentPath.at(-1);if(this.currentPath.length>1&&t===n&&e===i)return;const s=this.currentPath;let r=zi(uv,this);if(s.push([t,e]),Hi(fv,this,!0),s.length<=2)return r.moveTo(...s[0]),void r.lineTo(t,e);3===s.length&&(Hi(uv,this,r=new Path2D),r.moveTo(...s[0])),Wi(wv,this,Lv).call(this,r,...s.at(-3),...s.at(-2),t,e)}function Tv(){if(0===this.currentPath.length)return;const t=this.currentPath.at(-1);zi(uv,this).lineTo(...t)}function Rv(t,e){let n;if(Hi(yv,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),Wi(wv,this,Mv).call(this,t,e),Wi(wv,this,Tv).call(this),1!==this.currentPath.length)n=Wi(wv,this,Nv).call(this);else{const i=[t,e];n=[[i,i.slice(),i.slice(),i]]}const i=zi(uv,this),s=this.currentPath;this.currentPath=[],Hi(uv,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(s),this.paths.push(n),this.bezierPath2D.push(i),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(Wi(wv,this,jv).call(this),Wi(wv,this,Wv).call(this)),Wi(wv,this,Yv).call(this))},mustExec:!0})}function Pv(){if(!zi(fv,this))return;Hi(fv,this,!1);const t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map((t=>t[0])),i=e.map((t=>t[1])),{ctx:s}=(Math.min(...n),Math.max(...n),Math.min(...i),Math.max(...i),this);s.save(),s.clearRect(0,0,this.canvas.width,this.canvas.height);for(const r of this.bezierPath2D)s.stroke(r);s.stroke(zi(uv,this)),s.restore()}function Lv(t,e,n,i,s,r,a){const o=(e+i)/2,l=(n+s)/2,c=(i+r)/2,u=(s+a)/2;t.bezierCurveTo(o+2*(i-o)/3,l+2*(s-l)/3,c+2*(i-c)/3,u+2*(s-u)/3,c,u)}function Nv(){const t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];const e=[];let n,[i,s]=t[0];for(n=1;n<t.length-2;n++){const[r,a]=t[n],[o,l]=t[n+1],c=(r+o)/2,u=(a+l)/2,h=[i+2*(r-i)/3,s+2*(a-s)/3],d=[c+2*(r-c)/3,u+2*(a-u)/3];e.push([[i,s],h,d,[c,u]]),[i,s]=[c,u]}const[r,a]=t[n],[o,l]=t[n+1],c=[i+2*(r-i)/3,s+2*(a-s)/3],u=[o+2*(r-o)/3,l+2*(a-l)/3];return e.push([[i,s],c,u,[o,l]]),e}function Fv(){if(this.isEmpty())return void Wi(wv,this,Hv).call(this);Wi(wv,this,Ev).call(this);const{canvas:t,ctx:e}=this;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),Wi(wv,this,Hv).call(this);for(const n of this.bezierPath2D)e.stroke(n)}function Iv(){if(zi(mv,this))return;Hi(mv,this,new AbortController);const t=this._uiManager.combinedSignal(zi(mv,this));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:t})}function Dv(){var t;null===(t=this.pointerdownAC)||void 0===t||t.abort(),this.pointerdownAC=null}function Ov(t){var e;null===(e=zi(dv,this))||void 0===e||e.abort(),Hi(dv,this,null),Wi(wv,this,Iv).call(this),zi(cv,this)&&clearTimeout(zi(cv,this)),Hi(cv,this,setTimeout((()=>{Hi(cv,this,null),this.canvas.removeEventListener("contextmenu",Xr)}),10)),Wi(wv,this,Rv).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function jv(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Wv(){Hi(gv,this,new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&this.setDimensions(e.width,e.height)}))),zi(gv,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var t;null===(t=zi(gv,this))||void 0===t||t.disconnect(),Hi(gv,this,null)}),{once:!0})}function Bv(){if(!zi(pv,this))return;const[t,e]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*t),this.canvas.height=Math.ceil(this.height*e),Wi(wv,this,Hv).call(this)}function zv(t,e){const n=Wi(wv,this,Kv).call(this),i=(t-n)/zi(lv,this),s=(e-n)/zi(ov,this);this.scaleFactor=Math.min(i,s)}function Hv(){const t=Wi(wv,this,Kv).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function Uv(t){const e=new Path2D;for(let n=0,i=t.length;n<i;n++){const[i,s,r,a]=t[n];0===n&&e.moveTo(...i),e.bezierCurveTo(s[0],s[1],r[0],r[1],a[0],a[1])}return e}function Vv(t,e,n){const[i,s,r,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]+=i,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]+i,t[e+1]=n+s}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=r-t[e],t[e+1]+=s;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=r-t[e+1],t[e+1]=a-n}break;default:throw new Error("Invalid rotation")}return t}function qv(t,e,n){const[i,s,r,a]=e;switch(n){case 0:for(let e=0,n=t.length;e<n;e+=2)t[e]-=i,t[e+1]=a-t[e+1];break;case 90:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=t[e+1]-s,t[e+1]=n-i}break;case 180:for(let e=0,n=t.length;e<n;e+=2)t[e]=r-t[e],t[e+1]-=s;break;case 270:for(let e=0,n=t.length;e<n;e+=2){const n=t[e];t[e]=a-t[e+1],t[e+1]=r-n}break;default:throw new Error("Invalid rotation")}return t}function Gv(t,e,n,i){const s=[],r=this.thickness/2,a=t*e+r,o=t*n+r;for(const l of this.paths){const e=[],n=[];for(let i=0,s=l.length;i<s;i++){const[r,c,u,h]=l[i];if(r[0]===h[0]&&r[1]===h[1]&&1===s){const i=t*r[0]+a,s=t*r[1]+o;e.push(i,s),n.push(i,s);break}const d=t*r[0]+a,f=t*r[1]+o,p=t*c[0]+a,g=t*c[1]+o,m=t*u[0]+a,v=t*u[1]+o,b=t*h[0]+a,y=t*h[1]+o;0===i&&(e.push(d,f),n.push(d,f)),e.push(p,g,m,v,b,y),n.push(p,g),i===s-1&&n.push(b,y)}s.push({bezier:Vv.call(Ji,e,i,this.rotation),points:Vv.call(Ji,n,i,this.rotation)})}return s}function Xv(){let t=1/0,e=-1/0,n=1/0,i=-1/0;for(const s of this.paths)for(const[r,a,o,l]of s){const s=wr.bezierBoundingBox(...r,...a,...o,...l);t=Math.min(t,s[0]),n=Math.min(n,s[1]),e=Math.max(e,s[2]),i=Math.max(i,s[3])}return[t,n,e,i]}function Kv(){return zi(hv,this)?Math.ceil(this.thickness*this.parentScale):0}function Yv(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!zi(hv,this))return void Wi(wv,this,Fv).call(this);const e=Wi(wv,this,Xv).call(this),n=Wi(wv,this,Kv).call(this);Hi(lv,this,Math.max(jl.MIN_SIZE,e[2]-e[0])),Hi(ov,this,Math.max(jl.MIN_SIZE,e[3]-e[1]));const i=Math.ceil(n+zi(lv,this)*this.scaleFactor),s=Math.ceil(n+zi(ov,this)*this.scaleFactor),[r,a]=this.parentDimensions;this.width=i/r,this.height=s/a,this.setAspectRatio(i,s);const o=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],Wi(wv,this,Bv).call(this),Wi(wv,this,Fv).call(this),Hi(vv,this,i),Hi(bv,this,s),this.setDims(i,s);const c=t?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}Ji=xv,We(xv,"_defaultColor",null),We(xv,"_defaultOpacity",1),We(xv,"_defaultThickness",1),We(xv,"_type","ink"),We(xv,"_editorType",ms.INK);var Qv=new WeakMap,$v=new WeakMap,Jv=new WeakMap,Zv=new WeakMap,tb=new WeakMap,eb=new WeakMap,nb=new WeakMap,ib=new WeakMap,sb=new WeakMap,rb=new WeakMap,ab=new WeakMap,ob=new WeakSet;class lb extends jl{constructor(t){super(ze(ze({},t),{},{name:"stampEditor"})),Oi(this,ob),ji(this,Qv,null),ji(this,$v,null),ji(this,Jv,null),ji(this,Zv,null),ji(this,tb,null),ji(this,eb,""),ji(this,nb,null),ji(this,ib,null),ji(this,sb,null),ji(this,rb,!1),ji(this,ab,!1),Hi(Zv,this,t.bitmapUrl),Hi(tb,this,t.bitmapFile)}static initialize(t,e){jl.initialize(t,e)}static get supportedTypes(){return ar(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((t=>"image/".concat(t))))}static get supportedTypesStr(){return ar(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,e){e.pasteEditor(ms.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!(null===(t=this.altTextData)||void 0===t||!t.altText)}}static computeTelemetryFinalData(t){var e,n;const i=t.get("hasAltText");return{hasAltText:null!==(e=i.get(!0))&&void 0!==e?e:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:r}=t||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:i,width:s,height:r,channels:i.length/(s*r)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),e&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var t,e;zi($v,this)&&(Hi(Qv,this,null),this._uiManager.imageManager.deleteId(zi($v,this)),null===(t=zi(nb,this))||void 0===t||t.remove(),Hi(nb,this,null),null===(e=zi(ib,this))||void 0===e||e.disconnect(),Hi(ib,this,null),zi(sb,this)&&(clearTimeout(zi(sb,this)),Hi(sb,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(zi($v,this)&&null===zi(nb,this)&&Wi(ob,this,hb).call(this),this.isAttachedToDOM||this.parent.add(this))):zi($v,this)&&Wi(ob,this,hb).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(zi(Jv,this)||zi(Qv,this)||zi(Zv,this)||zi(tb,this)||zi($v,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;if(this.width&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),zi(Qv,this)?Wi(ob,this,db).call(this):Wi(ob,this,hb).call(this),this.width&&!this.annotationElementId){const[n,i]=this.parentDimensions;this.setAt(t*n,e*i,this.width*n,this.height*i)}return this.div}copyCanvas(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t||(t=224);const{width:i,height:s}=zi(Qv,this),r=new na;let a=zi(Qv,this),o=i,l=s,c=null;if(e){var u,h;if(i>e||s>e){const t=Math.min(e/i,e/s);o=Math.floor(i*t),l=Math.floor(s*t)}c=document.createElement("canvas");const t=c.width=Math.ceil(o*r.sx),n=c.height=Math.ceil(l*r.sy);zi(rb,this)||(a=Wi(ob,this,pb).call(this,t,n));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let f="white",p="#cfcfd8";"none"!==this._uiManager.hcmFilter?p="black":null!==(u=(h=window).matchMedia)&&void 0!==u&&u.call(h,"(prefers-color-scheme: dark)").matches&&(f="#8f8f9d",p="#42414d");const g=15,m=g*r.sx,v=g*r.sy,b=new OffscreenCanvas(2*m,2*v),y=b.getContext("2d");y.fillStyle=f,y.fillRect(0,0,2*m,2*v),y.fillStyle=p,y.fillRect(0,0,m,v),y.fillRect(m,v,m,v),d.fillStyle=d.createPattern(b,"repeat"),d.fillRect(0,0,t,n),d.drawImage(a,0,0,a.width,a.height,0,0,t,n)}let d=null;if(n){let e,n;if(r.symmetric&&a.width<t&&a.height<t)e=a.width,n=a.height;else if(a=zi(Qv,this),i>t||s>t){const r=Math.min(t/i,t/s);e=Math.floor(i*r),n=Math.floor(s*r),zi(rb,this)||(a=Wi(ob,this,pb).call(this,e,n))}const o=new OffscreenCanvas(e,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,e,n),d={width:e,height:n,data:o.getImageData(0,0,e,n).data}}return{canvas:c,width:o,height:l,imageData:d}}getImageForAltText(){return zi(nb,this)}static async deserialize(t,e,n){let i=null;if(t instanceof Pp){var s;const{data:{rect:r,rotation:a,id:o,structParent:l,popupRef:c},container:u,parent:{page:{pageNumber:h}}}=t,d=u.querySelector("canvas"),f=n.imageManager.getFromCanvas(u.id,d);d.remove();const p=(null===(s=await e._structTree.getAriaAttributes("".concat(Er).concat(o)))||void 0===s?void 0:s.get("aria-label"))||"";i=t={annotationType:ms.STAMP,bitmapId:f.id,bitmap:f.bitmap,pageIndex:h-1,rect:r.slice(0),rotation:a,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:p},isSvg:!1,structParent:l,popupRef:c}}const r=await super.deserialize(t,e,n),{rect:a,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:h}=t;c&&n.imageManager.isValidId(c)?(Hi($v,r,c),o&&Hi(Qv,r,o)):Hi(Zv,r,l),Hi(rb,r,u);const[d,f]=r.pageDimensions;return r.width=(a[2]-a[0])/d,r.height=(a[3]-a[1])/f,r.annotationElementId=t.id||null,h&&(r.altTextData=h),r._initialData=i,Hi(ab,r,!!i),r}serialize(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:ms.STAMP,bitmapId:zi($v,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:zi(rb,this),structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=Wi(ob,this,mb).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(n.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const t=Wi(ob,this,bb).call(this,n);if(t.isSame)return null;var r;if(t.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(r=this._initialData.structParent)&&void 0!==r?r:-1}if(n.id=this.annotationElementId,null===e)return n;e.stamps||(e.stamps=new Map);const a=zi(rb,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(zi($v,this))){if(zi(rb,this)){const t=e.stamps.get(zi($v,this));a>t.area&&(t.area=a,t.serialized.bitmap.close(),t.serialized.bitmap=Wi(ob,this,mb).call(this,!1))}}else e.stamps.set(zi($v,this),{area:a,serialized:n}),n.bitmap=Wi(ob,this,mb).call(this,!1);return n}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}}function cb(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(Hi(Qv,this,t.bitmap),e||(Hi($v,this,t.id),Hi(rb,this,t.isSvg)),t.file&&Hi(eb,this,t.file.name),Wi(ob,this,db).call(this)):this.remove()}function ub(){if(Hi(Jv,this,null),this._uiManager.enableWaiting(!1),zi(nb,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&zi(Qv,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&zi(Qv,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(t){}}this.div.focus()}}function hb(){if(zi($v,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(zi($v,this)).then((t=>Wi(ob,this,cb).call(this,t,!0))).finally((()=>Wi(ob,this,ub).call(this)));if(zi(Zv,this)){const t=zi(Zv,this);return Hi(Zv,this,null),this._uiManager.enableWaiting(!0),void Hi(Jv,this,this._uiManager.imageManager.getFromUrl(t).then((t=>Wi(ob,this,cb).call(this,t))).finally((()=>Wi(ob,this,ub).call(this))))}if(zi(tb,this)){const t=zi(tb,this);return Hi(tb,this,null),this._uiManager.enableWaiting(!0),void Hi(Jv,this,this._uiManager.imageManager.getFromFile(t).then((t=>Wi(ob,this,cb).call(this,t))).finally((()=>Wi(ob,this,ub).call(this))))}const t=document.createElement("input");t.type="file",t.accept=Zi.supportedTypesStr;const e=this._uiManager._signal;Hi(Jv,this,new Promise((n=>{t.addEventListener("change",(async()=>{if(t.files&&0!==t.files.length){this._uiManager.enableWaiting(!0);const e=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Wi(ob,this,cb).call(this,e)}else this.remove();n()}),{signal:e}),t.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:e})})).finally((()=>Wi(ob,this,ub).call(this)))),t.click()}function db(){const{div:t}=this;let{width:e,height:n}=zi(Qv,this);const[i,s]=this.pageDimensions,r=.75;if(this.width)e=this.width*i,n=this.height*s;else if(e>r*i||n>r*s){const t=Math.min(r*i/e,r*s/n);e*=t,n*=t}const[a,o]=this.parentDimensions;this.setDims(e*a/i,n*o/s),this._uiManager.enableWaiting(!1);const l=Hi(nb,this,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),Wi(ob,this,gb).call(this,e,n),Wi(ob,this,vb).call(this),zi(ab,this)||(this.parent.addUndoableEditor(this),Hi(ab,this,!0)),this._reportTelemetry({action:"inserted_image"}),zi(eb,this)&&l.setAttribute("aria-label",zi(eb,this))}function fb(t,e){var n;const[i,s]=this.parentDimensions;this.width=t/i,this.height=e/s,null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==zi(sb,this)&&clearTimeout(zi(sb,this));Hi(sb,this,setTimeout((()=>{Hi(sb,this,null),Wi(ob,this,gb).call(this,t,e)}),200))}function pb(t,e){const{width:n,height:i}=zi(Qv,this);let s=n,r=i,a=zi(Qv,this);for(;s>2*t||r>2*e;){const n=s,i=r;s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(s,r);o.getContext("2d").drawImage(a,0,0,n,i,0,0,s,r),a=o.transferToImageBitmap()}return a}function gb(t,e){const n=new na,i=Math.ceil(t*n.sx),s=Math.ceil(e*n.sy),r=zi(nb,this);if(!r||r.width===i&&r.height===s)return;r.width=i,r.height=s;const a=zi(rb,this)?zi(Qv,this):Wi(ob,this,pb).call(this,i,s),o=r.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(a,0,0,a.width,a.height,0,0,i,s)}function mb(t){if(t){if(zi(rb,this)){const t=this._uiManager.imageManager.getSvgUrl(zi($v,this));if(t)return t}const t=document.createElement("canvas");({width:t.width,height:t.height}=zi(Qv,this));return t.getContext("2d").drawImage(zi(Qv,this),0,0),t.toDataURL()}if(zi(rb,this)){const[t,e]=this.pageDimensions,n=Math.round(this.width*t*Or.PDF_TO_CSS_UNITS),i=Math.round(this.height*e*Or.PDF_TO_CSS_UNITS),s=new OffscreenCanvas(n,i);return s.getContext("2d").drawImage(zi(Qv,this),0,0,zi(Qv,this).width,zi(Qv,this).height,0,0,n,i),s.transferToImageBitmap()}return structuredClone(zi(Qv,this))}function vb(){this._uiManager._signal&&(Hi(ib,this,new ResizeObserver((t=>{const e=t[0].contentRect;e.width&&e.height&&Wi(ob,this,fb).call(this,e.width,e.height)}))),zi(ib,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var t;null===(t=zi(ib,this))||void 0===t||t.disconnect(),Hi(ib,this,null)}),{once:!0}))}function bb(t){var e;const{rect:n,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,r=t.rect.every(((t,e)=>Math.abs(t-n[e])<1)),a=t.pageIndex===i,o=((null===(e=t.accessibilityData)||void 0===e?void 0:e.alt)||"")===s;return{isSame:r&&a&&o,isSameAltText:o}}Zi=lb,We(lb,"_type","stamp"),We(lb,"_editorType",ms.STAMP);var yb=new WeakMap,wb=new WeakMap,xb=new WeakMap,Ab=new WeakMap,_b=new WeakMap,Sb=new WeakMap,kb=new WeakMap,Eb=new WeakMap,Cb=new WeakMap,Mb=new WeakMap,Tb=new WeakMap,Rb=new WeakMap,Pb=new WeakSet;class Lb{constructor(t){let{uiManager:e,pageIndex:n,div:i,structTreeLayer:s,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}=t;Oi(this,Pb),ji(this,yb,void 0),ji(this,wb,!1),ji(this,xb,null),ji(this,Ab,null),ji(this,_b,null),ji(this,Sb,new Map),ji(this,kb,!1),ji(this,Eb,!1),ji(this,Cb,!1),ji(this,Mb,null),ji(this,Tb,null),ji(this,Rb,void 0);const h=[...jb._.values()];if(!Lb._initialized){Lb._initialized=!0;for(const t of h)t.initialize(u,e)}e.registerEditorTypes(h),Hi(Rb,this,e),this.pageIndex=n,this.div=i,Hi(yb,this,r),Hi(xb,this,a),this.viewport=c,Hi(Mb,this,l),this.drawLayer=o,this._structTree=s,zi(Rb,this).addLayer(this)}get isEmpty(){return 0===zi(Sb,this).size}get isInvisible(){return this.isEmpty&&zi(Rb,this).getMode()===ms.NONE}updateToolbar(t){zi(Rb,this).updateToolbar(t)}updateMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi(Rb,this).getMode();switch(Wi(Pb,this,Ob).call(this),t){case ms.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case ms.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case ms.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of jb._.values())e.toggle("".concat(n._type,"Editing"),t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===(null===(e=zi(Mb,this))||void 0===e?void 0:e.div)}addInkEditorIfNeeded(t){if(zi(Rb,this).getMode()!==ms.INK)return;if(!t)for(const e of zi(Sb,this).values())if(e.isEmpty())return void e.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){zi(Rb,this).setEditingState(t)}addCommands(t){zi(Rb,this).addCommands(t)}toggleDrawing(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!t)}togglePointerEvents(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(){var t;let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=zi(xb,this))||void 0===t||t.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of zi(Sb,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(zi(Rb,this).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!zi(xb,this))return;const e=zi(xb,this).getEditableAnnotations();for(const n of e){if(n.hide(),zi(Rb,this).isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=await this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}}disable(){Hi(Cb,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const s of zi(Sb,this).values()){var n;s.disableEditing(),s.annotationElementId&&(null===s.serialize()?(e.set(s.annotationElementId,s),null===(n=this.getEditableAnnotation(s.annotationElementId))||void 0===n||n.show(),s.remove()):t.set(s.annotationElementId,s))}if(zi(xb,this)){const n=zi(xb,this).getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(zi(Rb,this).isDeletedAnnotationElement(n))continue;let s=e.get(n);s?(s.resetAnnotationElement(i),s.show(!1),i.show()):(s=t.get(n),s&&(zi(Rb,this).addChangedExistingAnnotation(s),s.renderAnnotationElement(i)&&s.show(!1)),i.show())}}Wi(Pb,this,Ob).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of jb._.values())i.remove("".concat(s._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Hi(Cb,this,!1)}getEditableAnnotation(t){var e;return(null===(e=zi(xb,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){zi(Rb,this).getActive()!==t&&zi(Rb,this).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,null!==(t=zi(Mb,this))&&void 0!==t&&t.div&&!zi(Tb,this)){Hi(Tb,this,new AbortController);const t=zi(Rb,this).combinedSignal(zi(Tb,this));zi(Mb,this).div.addEventListener("pointerdown",Wi(Pb,this,Nb).bind(this),{signal:t}),zi(Mb,this).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,null!==(t=zi(Mb,this))&&void 0!==t&&t.div&&zi(Tb,this)&&(zi(Tb,this).abort(),Hi(Tb,this,null),zi(Mb,this).div.classList.remove("highlighting"))}enableClick(){if(zi(Ab,this))return;Hi(Ab,this,new AbortController);const t=zi(Rb,this).combinedSignal(zi(Ab,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){var t;null===(t=zi(Ab,this))||void 0===t||t.abort(),Hi(Ab,this,null)}attach(t){zi(Sb,this).set(t.id,t);const{annotationElementId:e}=t;e&&zi(Rb,this).isDeletedAnnotationElement(e)&&zi(Rb,this).removeDeletedAnnotationElement(t)}detach(t){var e;zi(Sb,this).delete(t.id),null===(e=zi(yb,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!zi(Cb,this)&&t.annotationElementId&&zi(Rb,this).addDeletedAnnotationElement(t)}remove(t){this.detach(t),zi(Rb,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,zi(Eb,this)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(zi(Rb,this).addDeletedAnnotationElement(t.annotationElementId),jl.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),zi(Rb,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),zi(Rb,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var e;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!zi(_b,this)&&(t._focusEventsAllowed=!1,Hi(_b,this,setTimeout((()=>{Hi(_b,this,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(()=>{t._focusEventsAllowed=!0}),{once:!0,signal:zi(Rb,this)._signal}),n.focus())}),0))),t._structTreeParentId=null===(e=zi(yb,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){this.addCommands({cmd:()=>t._uiManager.rebuild(t),undo:()=>{t.remove()},mustExec:!1})}getNextId(){return zi(Rb,this).getId()}combinedSignal(t){return zi(Rb,this).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return null===(t=Bi(Pb,this,Fb))||void 0===t?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){zi(Rb,this).updateToolbar(t),zi(Rb,this).updateMode(t);const{offsetX:n,offsetY:i}=Wi(Pb,this,Db).call(this),s=this.getNextId(),r=Wi(Pb,this,Ib).call(this,ze({parent:this,id:s,x:n,y:i,uiManager:zi(Rb,this),isCentered:!0},e));r&&this.add(r)}async deserialize(t){var e,n;return await(null===(e=jb._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,zi(Rb,this)))||null}createAndAddNewEditor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=Wi(Pb,this,Ib).call(this,ze({parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:zi(Rb,this),isCentered:e},n));return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(Wi(Pb,this,Db).call(this),!0)}setSelected(t){zi(Rb,this).setSelected(t)}toggleSelected(t){zi(Rb,this).toggleSelected(t)}unselect(t){zi(Rb,this).unselect(t)}pointerup(t){const{isMac:e}=br.platform;0!==t.button||t.ctrlKey&&e||t.target===this.div&&zi(kb,this)&&(Hi(kb,this,!1),zi(wb,this)?zi(Rb,this).getMode()!==ms.STAMP?this.createAndAddNewEditor(t,!1):zi(Rb,this).unselectAll():Hi(wb,this,!0))}pointerdown(t){if(zi(Rb,this).getMode()===ms.HIGHLIGHT&&this.enableTextSelection(),zi(kb,this))return void Hi(kb,this,!1);const{isMac:e}=br.platform;if(0!==t.button||t.ctrlKey&&e)return;if(t.target!==this.div)return;Hi(kb,this,!0);const n=zi(Rb,this).getActive();Hi(wb,this,!n||n.isEmpty())}findNewParent(t,e,n){const i=zi(Rb,this).findParent(e,n);return null!==i&&i!==this&&(i.changeParent(t),!0)}destroy(){var t;(null===(t=zi(Rb,this).getActive())||void 0===t?void 0:t.parent)===this&&(zi(Rb,this).commitOrRemove(),zi(Rb,this).setActiveEditor(null)),zi(_b,this)&&(clearTimeout(zi(_b,this)),Hi(_b,this,null));for(const n of zi(Sb,this).values()){var e;null===(e=zi(yb,this))||void 0===e||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,zi(Sb,this).clear(),zi(Rb,this).removeLayer(this)}render(t){let{viewport:e}=t;this.viewport=e,ea(this.div,e);for(const n of zi(Rb,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(t){let{viewport:e}=t;zi(Rb,this).commitOrRemove(),Wi(Pb,this,Ob).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,ea(this.div,{rotation:i}),n!==i)for(const s of zi(Sb,this).values())s.rotate(i);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return zi(Rb,this).viewParameters.realScale}}function Nb(t){zi(Rb,this).unselectAll();const{target:e}=t;if(e===zi(Mb,this).div||("img"===e.getAttribute("role")||e.classList.contains("endOfContent"))&&zi(Mb,this).div.contains(e)){const{isMac:e}=br.platform;if(0!==t.button||t.ctrlKey&&e)return;zi(Rb,this).showAllEditors("highlight",!0,!0),zi(Mb,this).div.classList.add("free"),this.toggleDrawing(),Vm.startHighlighting(this,"ltr"===zi(Rb,this).direction,{target:zi(Mb,this).div,x:t.x,y:t.y}),zi(Mb,this).div.addEventListener("pointerup",(()=>{zi(Mb,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:zi(Rb,this)._signal}),t.preventDefault()}}function Fb(t){return jb._.get(zi(Rb,t).getMode())}function Ib(t){const e=Bi(Pb,this,Fb);return e?new e.prototype.constructor(t):null}function Db(){const{x:t,y:e,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,t),r=Math.max(0,e),a=(s+Math.min(window.innerWidth,t+n))/2-t,o=(r+Math.min(window.innerHeight,e+i))/2-e,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function Ob(){Hi(Eb,this,!0);for(const t of zi(Sb,this).values())t.isEmpty()&&t.remove();Hi(Eb,this,!1)}We(Lb,"_initialized",!1);var jb={_:new Map([$p,xv,lb,Vm].map((t=>[t._editorType,t])))},Wb=new WeakMap,Bb=new WeakMap,zb=new WeakMap,Hb=new WeakMap,Ub=new WeakSet;class Vb{constructor(t){let{pageIndex:e}=t;Oi(this,Ub),ji(this,Wb,null),ji(this,Bb,0),ji(this,zb,new Map),ji(this,Hb,new Map),this.pageIndex=e}setParent(t){if(zi(Wb,this)){if(zi(Wb,this)!==t){if(zi(zb,this).size>0)for(const e of zi(zb,this).values())e.remove(),t.append(e);Hi(Wb,this,t)}}else Hi(Wb,this,t)}static get _svgFactory(){return ar(this,"_svgFactory",new df)}draw(t,e,n){var i,s;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(Hi(Bb,this,(i=zi(Bb,this),s=i++,i)),s),o=Wi(Ub,this,Gb).call(this,t.box);o.classList.add(...t.classNamesForDrawing);const l=Vb._svgFactory.createElement("defs");o.append(l);const c=Vb._svgFactory.createElement("path");l.append(c);const u="path_p".concat(this.pageIndex,"_").concat(a);c.setAttribute("id",u),c.setAttribute("d",t.toSVGPath()),r&&zi(Hb,this).set(a,c);const h=Wi(Ub,this,Xb).call(this,l,u),d=Vb._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",e),o.setAttribute("fill-opacity",n),d.setAttribute("href","#".concat(u)),zi(zb,this).set(a,o),{id:a,clipPathId:"url(#".concat(h,")")}}drawOutline(t){var e,n;const i=(Hi(Bb,this,(e=zi(Bb,this),n=e++,e)),n),s=Wi(Ub,this,Gb).call(this,t.box);s.classList.add(...t.classNamesForOutlining);const r=Vb._svgFactory.createElement("defs");s.append(r);const a=Vb._svgFactory.createElement("path");r.append(a);const o="path_p".concat(this.pageIndex,"_").concat(i);let l;if(a.setAttribute("id",o),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke"),t.mustRemoveSelfIntersections){const t=Vb._svgFactory.createElement("mask");r.append(t),l="mask_p".concat(this.pageIndex,"_").concat(i),t.setAttribute("id",l),t.setAttribute("maskUnits","objectBoundingBox");const e=Vb._svgFactory.createElement("rect");t.append(e),e.setAttribute("width","1"),e.setAttribute("height","1"),e.setAttribute("fill","white");const n=Vb._svgFactory.createElement("use");t.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=Vb._svgFactory.createElement("use");s.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const u=c.cloneNode();return s.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),zi(zb,this).set(i,s),i}finalizeLine(t,e){const n=zi(Hb,this).get(t);zi(Hb,this).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){zi(zb,this).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}updatePath(t,e){zi(Hb,this).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){qb.call(Vb,zi(zb,this).get(t),e)}show(t,e){zi(zb,this).get(t).classList.toggle("hidden",!e)}rotate(t,e){zi(zb,this).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){zi(zb,this).get(t).setAttribute("fill",e)}changeOpacity(t,e){zi(zb,this).get(t).setAttribute("fill-opacity",e)}addClass(t,e){zi(zb,this).get(t).classList.add(e)}removeClass(t,e){zi(zb,this).get(t).classList.remove(e)}getSVGRoot(t){return zi(zb,this).get(t)}remove(t){zi(Hb,this).delete(t),null!==zi(Wb,this)&&(zi(zb,this).get(t).remove(),zi(zb,this).delete(t))}destroy(){Hi(Wb,this,null);for(const t of zi(zb,this).values())t.remove();zi(zb,this).clear(),zi(Hb,this).clear()}}function qb(t){let{x:e=0,y:n=0,width:i=1,height:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:r}=t;r.top="".concat(100*n,"%"),r.left="".concat(100*e,"%"),r.width="".concat(100*i,"%"),r.height="".concat(100*s,"%")}function Gb(t){const e=ts._svgFactory.create(1,1,!0);return zi(Wb,this).append(e),e.setAttribute("aria-hidden",!0),qb.call(ts,e,t),e}function Xb(t,e){const n=ts._svgFactory.createElement("clipPath");t.append(n);const i="clip_".concat(e);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ts._svgFactory.createElement("use");return n.append(s),s.setAttribute("href","#".concat(e)),s.classList.add("clip"),i}ts=Vb;var Kb=ns.AnnotationLayer,Yb=ns.AnnotationMode,Qb=ns.GlobalWorkerOptions,$b=ns.PDFDataRangeTransport,Jb=ns.TextLayer,Zb=ns.getDocument,ty=ns.version,ey=function(t,e,n){if(n||2===arguments.length)for(var i,s=0,r=e.length;s<r;s++)!i&&s in e||(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))},ny=ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey(ey([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function iy(t,e){var n={};return ny.forEach((function(i){var s=t[i];s&&(n[i]=e?function(t){return s(t,e(i))}:s)})),n}function sy(t){var e=!1;return{promise:new Promise((function(n,i){t.then((function(t){return!e&&n(t)})).catch((function(t){return!e&&i(t)}))})),cancel:function(){e=!0}}}function ry(t){var e,n,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ry(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}const ay=function(){for(var t,e,n=0,i="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ry(t))&&(i&&(i+=" "),i+=e);return i};var oy="Invariant failed";function ly(t,e){if(!t)throw new Error(oy)}var cy=n(440),uy=Object.prototype.hasOwnProperty;function hy(t,e,n){for(n of t.keys())if(dy(n,e))return n}function dy(t,e){var n,i,s;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&dy(t[i],e[i]););return-1===i}if(n===Set){if(t.size!==e.size)return!1;for(i of t){if((s=i)&&"object"===typeof s&&!(s=hy(e,s)))return!1;if(!e.has(s))return!1}return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t){if((s=i[0])&&"object"===typeof s&&!(s=hy(e,s)))return!1;if(!dy(i[1],e.get(s)))return!1}return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return-1===i}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return-1===i}if(!n||"object"===typeof t){for(n in i=0,t){if(uy.call(t,n)&&++i&&!uy.call(e,n))return!1;if(!(n in e)||!dy(t[n],e[n]))return!1}return Object.keys(e).length===i}}return t!==t&&e!==e}const fy=(0,s.createContext)(null);function py(t){let{children:e,type:n}=t;return(0,fi.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:e})}class gy{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return ly(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){ly(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise((e=>{ly(this.pdfDocument),ly(t),"string"===typeof t?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)})).then((t=>{ly(Array.isArray(t),'"'.concat(t,'" is not a valid destination array.'));const e=t[0];new Promise((t=>{ly(this.pdfDocument),e instanceof Object?this.pdfDocument.getPageIndex(e).then((e=>{t(e)})).catch((()=>{ly(!1,'"'.concat(e,'" is not a valid page reference.'))})):"number"===typeof e?t(e):ly(!1,'"'.concat(e,'" is not a valid destination reference.'))})).then((e=>{const n=e+1;ly(this.pdfViewer),ly(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:e,pageNumber:n})}))}))}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;ly(this.pdfViewer),ly(t>=1&&t<=this.pagesCount,'"'.concat(t,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||"noopener noreferrer nofollow",t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const my={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},vy="undefined"!==typeof window,by=vy&&"file:"===window.location.protocol;function yy(t){return function(t){return"undefined"!==typeof t}(t)&&null!==t}function wy(t){return function(t){return"string"===typeof t}(t)&&/^data:/.test(t)}function xy(t){ly(wy(t));const[e="",n=""]=t.split(",");return-1!==e.split(";").indexOf("base64")?atob(n):unescape(n)}function Ay(){return vy&&window.devicePixelRatio||1}const _y="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Sy(){cy(!by,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(_y))}function ky(t){(null===t||void 0===t?void 0:t.cancel)&&t.cancel()}function Ey(t,e){return Object.defineProperty(t,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(t,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(t,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(t,"originalHeight",{get(){return this.view[3]},configurable:!0}),t}function Cy(t,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return t}}function My(){return(0,s.useReducer)(Cy,{value:void 0,error:void 0})}var Ty=function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function a(t){try{l(i.next(t))}catch(sw){r(sw)}}function o(t){try{l(i.throw(t))}catch(sw){r(sw)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,o)}l((i=i.apply(t,e||[])).next())}))},Ry=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};const{Tm:Py}=e,Ly=(t,e)=>{switch(e){case my.NEED_PASSWORD:t(prompt("Enter the password to open this PDF file."));break;case my.INCORRECT_PASSWORD:t(prompt("Invalid password. Please try again."));break}};function Ny(t){return"object"===typeof t&&null!==t&&("data"in t||"range"in t||"url"in t)}const Fy=(0,s.forwardRef)((function(t,e){var{children:n,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF\u2026",noData:d="No PDF file specified.",onItemClick:f,onLoadError:p,onLoadProgress:g,onLoadSuccess:m,onPassword:v=Ly,onSourceError:b,onSourceSuccess:y,options:w,renderMode:x,rotate:A}=t,_=Ry(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[S,k]=My(),{value:E,error:C}=S,[M,T]=My(),{value:R,error:P}=M,L=(0,s.useRef)(new gy),N=(0,s.useRef)([]),F=(0,s.useRef)(void 0),I=(0,s.useRef)(void 0);l&&l!==F.current&&Ny(l)&&(cy(!dy(l,F.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),F.current=l),w&&w!==I.current&&(cy(!dy(w,I.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),I.current=w);const D=(0,s.useRef)({scrollPageIntoView:t=>{const{dest:e,pageNumber:n,pageIndex:i=n-1}=t;if(f)return void f({dest:e,pageIndex:i,pageNumber:n});const s=N.current[i];s?s.scrollIntoView():cy(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,s.useImperativeHandle)(e,(()=>({linkService:L,pages:N,viewer:D})),[]),(0,s.useEffect)((function(){k({type:"RESET"})}),[l,k]);const O=(0,s.useCallback)((()=>Ty(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(wy(l)){return{data:xy(l)}}return Sy(),{url:l}}if(l instanceof Py)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(vy&&function(t){return ly(vy),t instanceof Blob}(l)){const t=yield function(t){return new Promise(((e,n)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return n(new Error("Error while reading a file."));e(i.result)},i.onerror=t=>{if(!t.target)return n(new Error("Error while reading a file."));const{error:e}=t.target;if(!e)return n(new Error("Error while reading a file."));switch(e.code){case e.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case e.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case e.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},i.readAsArrayBuffer(t)}))}(l);return{data:t}}if(ly("object"===typeof l),ly(Ny(l)),"url"in l&&"string"===typeof l.url){if(wy(l.url)){const{url:t}=l,e=Ry(l,["url"]),n=xy(t);return Object.assign({data:n},e)}Sy()}return l}))),[l]);(0,s.useEffect)((()=>{const t=sy(O());return t.promise.then((t=>{k({type:"RESOLVE",value:t})})).catch((t=>{k({type:"REJECT",error:t})})),()=>{ky(t)}}),[O,k]),(0,s.useEffect)((()=>{"undefined"!==typeof E&&(!1!==E?y&&y():C&&(cy(!1,C.toString()),b&&b(C)))}),[E]),(0,s.useEffect)((function(){T({type:"RESET"})}),[T,E]),(0,s.useEffect)((function(){if(!E)return;const t=w?Object.assign(Object.assign({},E),w):E,e=Zb(t);g&&(e.onProgress=g),v&&(e.onPassword=v);const n=e,i=n.promise.then((t=>{T({type:"RESOLVE",value:t})})).catch((t=>{n.destroyed||T({type:"REJECT",error:t})}));return()=>{i.finally((()=>n.destroy()))}}),[w,T,E]),(0,s.useEffect)((()=>{"undefined"!==typeof R&&(!1!==R?R&&(m&&m(R),N.current=new Array(R.numPages),L.current.setDocument(R)):P&&(cy(!1,P.toString()),p&&p(P)))}),[R]),(0,s.useEffect)((function(){L.current.setViewer(D.current),L.current.setExternalLinkRel(a),L.current.setExternalLinkTarget(o)}),[a,o]);const j=(0,s.useCallback)(((t,e)=>{N.current[t]=e}),[]),W=(0,s.useCallback)((t=>{delete N.current[t]}),[]),B=(0,s.useMemo)((()=>({imageResourcesPath:u,linkService:L.current,onItemClick:f,pdf:R,registerPage:j,renderMode:x,rotate:A,unregisterPage:W})),[u,f,R,j,x,A,W]),z=(0,s.useMemo)((()=>iy(_,(()=>R))),[_,R]);return(0,fi.jsx)("div",Object.assign({className:ay("react-pdf__Document",i),ref:c,style:{"--scale-factor":"1"}},z,{children:l?void 0===R||null===R?(0,fi.jsx)(py,{type:"loading",children:"function"===typeof h?h():h}):!1===R?(0,fi.jsx)(py,{type:"error",children:"function"===typeof r?r():r}):(0,fi.jsx)(fy.Provider,{value:B,children:n}):(0,fi.jsx)(py,{type:"no-data",children:"function"===typeof d?d():d})}))})),Iy=Fy;function Dy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.filter(Boolean);return n.length<=1?n[0]||null:function(t){n.forEach((function(e){"function"===typeof e?e(t):e&&(e.current=t)}))}}const Oy=(0,s.createContext)(null),jy={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Wy=/^H(\d+)$/;function By(t){return"children"in t}function zy(t){return!!By(t)&&(1===t.children.length&&0 in t.children&&"id"in t.children[0])}function Hy(t){const e={};if(By(t)){const{role:n}=t,i=n.match(Wy);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(function(t){return t in jy}(n)){const t=jy[n];t&&(e.role=t)}}return e}function Uy(t){const e={};if(By(t)){if(void 0!==t.alt&&(e["aria-label"]=t.alt),void 0!==t.lang&&(e.lang=t.lang),zy(t)){const[n]=t.children;if(n){const t=Uy(n);return Object.assign(Object.assign({},e),t)}}}else"id"in t&&(e["aria-owns"]=t.id);return e}function Vy(t){return t?Object.assign(Object.assign({},Hy(t)),Uy(t)):null}function qy(t){let{className:e,node:n}=t;const i=(0,s.useMemo)((()=>Vy(n)),[n]),r=(0,s.useMemo)((()=>By(n)?zy(n)?null:n.children.map(((t,e)=>(0,fi.jsx)(qy,{node:t},e))):null),[n]);return(0,fi.jsx)("span",Object.assign({className:e},i,{children:r}))}function Gy(){return(0,s.useContext)(Oy)}function Xy(){const t=Gy();ly(t);const{onGetStructTreeError:e,onGetStructTreeSuccess:n}=t,[i,r]=My(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=t;return(0,s.useEffect)((function(){r({type:"RESET"})}),[r,c]),(0,s.useEffect)((function(){if(l)return;if(!c)return;const t=sy(c.getStructTree()),e=t;return t.promise.then((t=>{r({type:"RESOLVE",value:t})})).catch((t=>{r({type:"REJECT",error:t})})),()=>ky(e)}),[l,c,r]),(0,s.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(cy(!1,o.toString()),e&&e(o)))}),[a]),a?(0,fi.jsx)(qy,{className:"react-pdf__Page__structTree structTree",node:a}):null}const Ky=Yb;function Yy(t){const e=Gy();ly(e);const n=Object.assign(Object.assign({},e),t),{_className:i,canvasBackground:r,devicePixelRatio:a=Ay(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:f}=n,{canvasRef:p}=t;ly(c);const g=(0,s.useRef)(null);function m(t){(function(t){return"RenderingCancelledException"===t.name})(t)||(cy(!1,t.toString()),o&&o(t))}const v=(0,s.useMemo)((()=>c.getViewport({scale:f*a,rotation:d})),[a,c,d,f]),b=(0,s.useMemo)((()=>c.getViewport({scale:f,rotation:d})),[c,d,f]);(0,s.useEffect)((function(){if(!c)return;c.cleanup();const{current:t}=g;if(!t)return;t.width=v.width,t.height=v.height,t.style.width="".concat(Math.floor(b.width),"px"),t.style.height="".concat(Math.floor(b.height),"px"),t.style.visibility="hidden";const e={annotationMode:u?Ky.ENABLE_FORMS:Ky.ENABLE,canvasContext:t.getContext("2d",{alpha:!1}),viewport:v};r&&(e.background=r);const n=c.render(e),i=n;return n.promise.then((()=>{t.style.visibility="",c&&l&&l(Ey(c,f))})).catch(m),()=>ky(i)}),[r,c,u,v,b]);const y=(0,s.useCallback)((()=>{const{current:t}=g;t&&(t.width=0,t.height=0)}),[]);return(0,s.useEffect)((()=>y),[y]),(0,fi.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:Dy(p,g),style:{display:"block",userSelect:"none"},children:h?(0,fi.jsx)(Xy,{}):null})}function Qy(){const t=Gy();ly(t);const{customTextRenderer:e,onGetTextError:n,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:h}=t;ly(o);const[d,f]=My(),{value:p,error:g}=d,m=(0,s.useRef)(null);cy(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,s.useEffect)((function(){f({type:"RESET"})}),[o,f]),(0,s.useEffect)((function(){if(!o)return;const t=sy(o.getTextContent()),e=t;return t.promise.then((t=>{f({type:"RESOLVE",value:t})})).catch((t=>{f({type:"REJECT",error:t})})),()=>ky(e)}),[o,f]),(0,s.useEffect)((()=>{void 0!==p&&(!1!==p?p&&i&&i(p):g&&(cy(!1,g.toString()),n&&n(g)))}),[p]);const v=(0,s.useCallback)((()=>{a&&a()}),[a]),b=(0,s.useCallback)((t=>{cy(!1,t.toString()),r&&r(t)}),[r]);const y=(0,s.useMemo)((()=>o.getViewport({scale:h,rotation:u})),[o,u,h]);return(0,s.useLayoutEffect)((function(){if(!o||!p)return;const{current:t}=m;if(!t)return;t.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),i=new Jb({container:t,textContentSource:n,viewport:y}),s=i;return i.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",t.append(n);const i=t.querySelectorAll('[role="presentation"]');if(e){let t=0;p.items.forEach(((n,s)=>{if(!function(t){return"str"in t}(n))return;const r=i[t];if(!r)return;const a=e(Object.assign({pageIndex:l,pageNumber:c,itemIndex:s},n));r.innerHTML=a,t+=n.str&&n.hasEOL?2:1}))}v()})).catch(b),()=>ky(s)}),[e,b,v,o,l,c,p,y]),(0,fi.jsx)("div",{className:ay("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const t=m.current;t&&t.classList.remove("selecting")},onMouseDown:function(){const t=m.current;t&&t.classList.add("selecting")},ref:m})}function $y(){return(0,s.useContext)(fy)}function Jy(){const t=$y(),e=Gy();ly(e);const n=Object.assign(Object.assign({},t),e),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:h,renderForms:d,rotate:f,scale:p=1}=n;ly(h),ly(u),ly(r);const[g,m]=My(),{value:v,error:b}=g,y=(0,s.useRef)(null);cy(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,s.useEffect)((function(){m({type:"RESET"})}),[m,u]),(0,s.useEffect)((function(){if(!u)return;const t=sy(u.getAnnotations()),e=t;return t.promise.then((t=>{m({type:"RESOLVE",value:t})})).catch((t=>{m({type:"REJECT",error:t})})),()=>{ky(e)}}),[m,u]),(0,s.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):b&&(cy(!1,b.toString()),a&&a(b)))}),[v]);const w=(0,s.useMemo)((()=>u.getViewport({scale:p,rotation:f})),[u,f,p]);return(0,s.useEffect)((function(){if(!h||!u||!r||!v)return;const{current:t}=y;if(!t)return;const e=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:t,l10n:null,page:u,structTreeLayer:null,viewport:e},s={annotations:v,annotationStorage:h.annotationStorage,div:t,imageResourcesPath:i,linkService:r,page:u,renderForms:d,viewport:e};t.innerHTML="";try{new Kb(n).render(s),c&&c()}catch(a){!function(t){cy(!1,"".concat(t)),l&&l(t)}(a)}return()=>{}}),[v,i,r,u,h,d,w]),(0,fi.jsx)("div",{className:ay("react-pdf__Page__annotations","annotationLayer"),ref:y})}var Zy=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};const tw=1;function ew(t){const e=$y(),n=Object.assign(Object.assign({},e),t),{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:A,onGetTextSuccess:_,onLoadError:S,onLoadSuccess:k,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:T,onRenderTextLayerError:R,onRenderTextLayerSuccess:P,pageIndex:L,pageNumber:N,pdf:F,registerPage:I,renderAnnotationLayer:D=!0,renderForms:O=!1,renderMode:j="canvas",renderTextLayer:W=!0,rotate:B,scale:z=tw,unregisterPage:H,width:U}=n,V=Zy(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[q,G]=My(),{value:X,error:K}=q,Y=(0,s.useRef)(null);ly(F);const Q=yy(N)?N-1:null!==L&&void 0!==L?L:null,$=null!==N&&void 0!==N?N:yy(L)?L+1:null,J=null!==B&&void 0!==B?B:X?X.rotate:null,Z=(0,s.useMemo)((()=>{if(!X)return null;let t=1;const e=null!==z&&void 0!==z?z:tw;if(U||p){const e=X.getViewport({scale:1,rotation:J});U?t=U/e.width:p&&(t=p/e.height)}return e*t}),[p,X,J,z,U]);(0,s.useEffect)((function(){return()=>{yy(Q)&&r&&H&&H(Q)}}),[r,F,Q,H]),(0,s.useEffect)((function(){G({type:"RESET"})}),[G,F,Q]),(0,s.useEffect)((function(){if(!F||!$)return;const t=sy(F.getPage($)),e=t;return t.promise.then((t=>{G({type:"RESOLVE",value:t})})).catch((t=>{G({type:"REJECT",error:t})})),()=>ky(e)}),[G,F,$]),(0,s.useEffect)((()=>{void 0!==X&&(!1!==X?function(){if(k){if(!X||!Z)return;k(Ey(X,Z))}if(r&&I){if(!yy(Q)||!Y.current)return;I(Q,Y.current)}}():K&&(cy(!1,K.toString()),S&&S(K)))}),[X,Z]);const tt=(0,s.useMemo)((()=>X&&yy(Q)&&$&&yy(J)&&yy(Z)?{_className:i,canvasBackground:a,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:b,onGetAnnotationsSuccess:y,onGetStructTreeError:w,onGetStructTreeSuccess:x,onGetTextError:A,onGetTextSuccess:_,onRenderAnnotationLayerError:E,onRenderAnnotationLayerSuccess:C,onRenderError:M,onRenderSuccess:T,onRenderTextLayerError:R,onRenderTextLayerSuccess:P,page:X,pageIndex:Q,pageNumber:$,renderForms:O,renderTextLayer:W,rotate:J,scale:Z}:null),[i,a,h,d,b,y,w,x,A,_,E,C,M,T,R,P,X,Q,$,O,W,J,Z]),et=(0,s.useMemo)((()=>iy(V,(()=>X?Z?Ey(X,Z):void 0:X))),[V,X,Z]),nt="".concat(Q,"@").concat(Z,"/").concat(J);function it(){switch(j){case"custom":return ly(u),(0,fi.jsx)(u,{},"".concat(nt,"_custom"));case"none":return null;default:return(0,fi.jsx)(Yy,{canvasRef:o},"".concat(nt,"_canvas"))}}return(0,fi.jsx)("div",Object.assign({className:ay(i,c),"data-page-number":$,ref:Dy(g,Y),style:{"--scale-factor":"".concat(Z),backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},et,{children:$?null===F||void 0===X||null===X?(0,fi.jsx)(py,{type:"loading",children:"function"===typeof m?m():m}):!1===F||!1===X?(0,fi.jsx)(py,{type:"error",children:"function"===typeof f?f():f}):(0,fi.jsxs)(Oy.Provider,{value:tt,children:[it(),W?(0,fi.jsx)(Qy,{},"".concat(nt,"_text")):null,D?(0,fi.jsx)(Jy,{},"".concat(nt,"_annotations")):null,l]}):(0,fi.jsx)(py,{type:"no-data",children:"function"===typeof v?v():v})}))}Qb.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(ty,"/pdf.worker.min.js");const nw=()=>{const{fileId:t}=function(){let{matches:t}=s.useContext($),e=t[t.length-1];return e?e.params:{}}(),[e,n]=(0,s.useState)(null),[i,r]=(0,s.useState)(1),[a,o]=(0,s.useState)(null);return(0,fi.jsxs)("div",{className:"pdf-viewer",children:[(0,fi.jsx)("h1",{children:"PDF Viewer"}),a?(0,fi.jsx)("div",{className:"error-message",children:a}):(0,fi.jsxs)("div",{children:[(0,fi.jsx)(Iy,{file:"/api/files/".concat(t,".pdf"),onLoadSuccess:t=>{let{numPages:e}=t;n(e)},onLoadError:t=>{console.error("Failed to load PDF:",t),o("Failed to load PDF. Please try again later.")},children:(0,fi.jsx)(ew,{pageNumber:i})}),(0,fi.jsxs)("p",{children:["Page ",i," of ",e||"..."]}),(0,fi.jsxs)("div",{children:[(0,fi.jsx)("button",{onClick:()=>{r((t=>t>1?t-1:t))},disabled:1===i,children:"Previous Page"}),(0,fi.jsx)("button",{onClick:()=>{r((t=>t<e?t+1:t))},disabled:i===e,children:"Next Page"})]})]})]})};const iw=function(){return(0,fi.jsx)(AuthProvider,{children:(0,fi.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,fi.jsx)(mi,{}),(0,fi.jsx)("main",{className:"flex-grow",children:(0,fi.jsxs)(xt,{children:[(0,fi.jsx)(yt,{path:"/",element:(0,fi.jsx)(Ai,{})}),(0,fi.jsx)(yt,{path:"/login",element:(0,fi.jsx)(_i,{})}),(0,fi.jsx)(yt,{path:"/dashboard",element:(0,fi.jsx)(Pi,{})}),(0,fi.jsx)(yt,{path:"/about",element:(0,fi.jsx)(Li,{})}),(0,fi.jsx)(yt,{path:"/features",element:(0,fi.jsx)(Fi,{})}),(0,fi.jsx)(yt,{path:"/viewer",element:(0,fi.jsx)(nw,{})}),(0,fi.jsx)(yt,{path:"*",element:(0,fi.jsx)("div",{className:"text-center mt-8 text-red-500",children:"404 - Page Not Found"})})]})}),(0,fi.jsx)(vi,{})]})})};a.createRoot(document.getElementById("root")).render((0,fi.jsx)(s.StrictMode,{children:(0,fi.jsx)(Ct,{children:(0,fi.jsx)(iw,{})})}))})()})();
//# sourceMappingURL=main.2eb91525.js.map